var E0=Object.defineProperty;var z0=(e,t,n)=>t in e?E0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var N=(e,t,n)=>(z0(e,typeof t!="symbol"?t+"":t,n),n),i1=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var Ha=(e,t,n)=>(i1(e,t,"read from private field"),n?n.call(e):t.get(e)),ye=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)};var se=(e,t,n)=>(i1(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function pe(){}const ba=e=>e;function x(e,t,n,r,i){e.__svelte_meta={loc:{file:t,line:n,column:r,char:i}}}function Hc(e){return e()}function s1(){return Object.create(null)}function Re(e){e.forEach(Hc)}function Gr(e){return typeof e=="function"}function tt(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let Ui;function mi(e,t){return Ui||(Ui=document.createElement("a")),Ui.href=t,e===Ui.href}function W0(e){return Object.keys(e).length===0}const Fc=typeof window<"u";let hl=Fc?()=>window.performance.now():()=>Date.now(),fl=Fc?e=>requestAnimationFrame(e):pe;const br=new Set;function Pc(e){br.forEach(t=>{t.c(e)||(br.delete(t),t.f())}),br.size!==0&&fl(Pc)}function dl(e){let t;return br.size===0&&fl(Pc),{promise:new Promise(n=>{br.add(t={c:e,f:n})}),abort(){br.delete(t)}}}function Rc(e,t){e.appendChild(t)}function Ic(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function O0(e){const t=L("style");return G0(Ic(e),t),t.sheet}function G0(e,t){return Rc(e.head||e,t),t.sheet}function Ec(e,t,n){e.insertBefore(t,n||null)}function Ca(e){e.parentNode.removeChild(e)}function ln(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function L(e){return document.createElement(e)}function Dn(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function ce(e){return document.createTextNode(e)}function W(){return ce(" ")}function Ss(){return ce("")}function Y0(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function B0(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function U0(e){return Array.from(e.childNodes)}function _s(e,t){e.value=t==null?"":t}function wr(e,t,n,r){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function ge(e,t,n){e.classList[n?"add":"remove"](t)}function pl(e,t,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,r,t),i}class Jn{constructor(t=!1){this.is_svg=!1,this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,n,r=null){this.e||(this.is_svg?this.e=Dn(n.nodeName):this.e=L(n.nodeName),this.t=n,this.c(t)),this.i(r)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let n=0;n<this.n.length;n+=1)Ec(this.t,this.n[n],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(Ca)}}const xs=new Map;let Ls=0;function Z0(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function j0(e,t){const n={stylesheet:O0(t),rules:{}};return xs.set(e,n),n}function gl(e,t,n,r,i,s,a,o=0){const u=16.666/r;let l=`{
`;for(let m=0;m<=1;m+=u){const v=t+(n-t)*s(m);l+=m*100+`%{${a(v,1-v)}}
`}const c=l+`100% {${a(n,1-n)}}
}`,f=`__svelte_${Z0(c)}_${o}`,h=Ic(e),{stylesheet:p,rules:g}=xs.get(h)||j0(h,e);g[f]||(g[f]=!0,p.insertRule(`@keyframes ${f} ${c}`,p.cssRules.length));const d=e.style.animation||"";return e.style.animation=`${d?`${d}, `:""}${f} ${r}ms linear ${i}ms 1 both`,Ls+=1,f}function ks(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?s=>s.indexOf(t)<0:s=>s.indexOf("__svelte")===-1),i=n.length-r.length;i&&(e.style.animation=r.join(", "),Ls-=i,Ls||X0())}function X0(){fl(()=>{Ls||(xs.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&Ca(t)}),xs.clear())})}function q0(e,t,n,r){if(!t)return pe;const i=e.getBoundingClientRect();if(t.left===i.left&&t.right===i.right&&t.top===i.top&&t.bottom===i.bottom)return pe;const{delay:s=0,duration:a=300,easing:o=ba,start:u=hl()+s,end:l=u+a,tick:c=pe,css:f}=n(e,{from:t,to:i},r);let h=!0,p=!1,g;function d(){f&&(g=gl(e,0,1,a,s,o,f)),s||(p=!0)}function m(){f&&ks(e,g),h=!1}return dl(v=>{if(!p&&v>=u&&(p=!0),p&&v>=l&&(c(1,0),m()),!h)return!1;if(p){const S=v-u,b=0+1*o(S/a);c(b,1-b)}return!0}),d(),c(0,1),m}function J0(e){const t=getComputedStyle(e);if(t.position!=="absolute"&&t.position!=="fixed"){const{width:n,height:r}=t,i=e.getBoundingClientRect();e.style.position="absolute",e.style.width=n,e.style.height=r,zc(e,i)}}function zc(e,t){const n=e.getBoundingClientRect();if(t.left!==n.left||t.top!==n.top){const r=getComputedStyle(e),i=r.transform==="none"?"":r.transform;e.style.transform=`${i} translate(${t.left-n.left}px, ${t.top-n.top}px)`}}let yi;function pi(e){yi=e}function Pi(){if(!yi)throw new Error("Function called outside component initialization");return yi}function Ne(e){Pi().$$.on_mount.push(e)}function Ts(e){Pi().$$.on_destroy.push(e)}function a1(){const e=Pi();return(t,n,{cancelable:r=!1}={})=>{const i=e.$$.callbacks[t];if(i){const s=pl(t,n,{cancelable:r});return i.slice().forEach(a=>{a.call(e,s)}),!s.defaultPrevented}return!0}}function Q0(e,t){return Pi().$$.context.set(e,t),t}function K0(e){return Pi().$$.context.get(e)}const ci=[],Je=[],us=[],o1=[],Wc=Promise.resolve();let ao=!1;function Oc(){ao||(ao=!0,Wc.then(Gc))}function ml(){return Oc(),Wc}function Ar(e){us.push(e)}const Fa=new Set;let Zi=0;function Gc(){const e=yi;do{for(;Zi<ci.length;){const t=ci[Zi];Zi++,pi(t),$0(t.$$)}for(pi(null),ci.length=0,Zi=0;Je.length;)Je.pop()();for(let t=0;t<us.length;t+=1){const n=us[t];Fa.has(n)||(Fa.add(n),n())}us.length=0}while(ci.length);for(;o1.length;)o1.pop()();ao=!1,Fa.clear(),pi(e)}function $0(e){if(e.fragment!==null){e.update(),Re(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Ar)}}let ti;function Yc(){return ti||(ti=Promise.resolve(),ti.then(()=>{ti=null})),ti}function Ms(e,t,n){e.dispatchEvent(pl(`${t?"intro":"outro"}${n}`))}const hs=new Set;let An;function Nn(){An={r:0,c:[],p:An}}function Hn(){An.r||Re(An.c),An=An.p}function _e(e,t){e&&e.i&&(hs.delete(e),e.i(t))}function Me(e,t,n,r){if(e&&e.o){if(hs.has(e))return;hs.add(e),An.c.push(()=>{hs.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}const Bc={duration:0};function eh(e,t,n){let r=t(e,n),i=!1,s,a,o=0;function u(){s&&ks(e,s)}function l(){const{delay:f=0,duration:h=300,easing:p=ba,tick:g=pe,css:d}=r||Bc;d&&(s=gl(e,0,1,h,f,p,d,o++)),g(0,1);const m=hl()+f,v=m+h;a&&a.abort(),i=!0,Ar(()=>Ms(e,!0,"start")),a=dl(S=>{if(i){if(S>=v)return g(1,0),Ms(e,!0,"end"),u(),i=!1;if(S>=m){const b=p((S-m)/h);g(b,1-b)}}return i})}let c=!1;return{start(){c||(c=!0,ks(e),Gr(r)?(r=r(),Yc().then(l)):l())},invalidate(){c=!1},end(){i&&(u(),i=!1)}}}function yl(e,t,n){let r=t(e,n),i=!0,s;const a=An;a.r+=1;function o(){const{delay:u=0,duration:l=300,easing:c=ba,tick:f=pe,css:h}=r||Bc;h&&(s=gl(e,1,0,l,u,c,h));const p=hl()+u,g=p+l;Ar(()=>Ms(e,!1,"start")),dl(d=>{if(i){if(d>=g)return f(0,1),Ms(e,!1,"end"),--a.r||Re(a.c),!1;if(d>=p){const m=c((d-p)/l);f(1-m,m)}}return i})}return Gr(r)?Yc().then(()=>{r=r(),o()}):o(),{end(u){u&&r.tick&&r.tick(1,0),i&&(s&&ks(e,s),i=!1)}}}const wl=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function Uc(e,t){Me(e,1,1,()=>{t.delete(e.key)})}function th(e,t){e.f(),Uc(e,t)}function Zc(e,t,n,r,i,s,a,o,u,l,c,f){let h=e.length,p=s.length,g=h;const d={};for(;g--;)d[e[g].key]=g;const m=[],v=new Map,S=new Map;for(g=p;g--;){const H=f(i,s,g),I=n(H);let M=a.get(I);M?r&&M.p(H,t):(M=l(I,H),M.c()),v.set(I,m[g]=M),I in d&&S.set(I,Math.abs(g-d[I]))}const b=new Set,_=new Set;function k(H){_e(H,1),H.m(o,c),a.set(H.key,H),c=H.first,p--}for(;h&&p;){const H=m[p-1],I=e[h-1],M=H.key,V=I.key;H===I?(c=H.first,h--,p--):v.has(V)?!a.has(M)||b.has(M)?k(H):_.has(V)?h--:S.get(M)>S.get(V)?(_.add(M),k(H)):(b.add(V),h--):(u(I,a),h--)}for(;h--;){const H=e[h];v.has(H.key)||u(H,a)}for(;p;)k(m[p-1]);return m}function As(e,t,n,r){const i=new Set;for(let s=0;s<t.length;s++){const a=r(n(e,t,s));if(i.has(a))throw new Error("Cannot have duplicate keys in a keyed each");i.add(a)}}function bt(e){e&&e.c()}function dt(e,t,n,r){const{fragment:i,after_update:s}=e.$$;i&&i.m(t,n),r||Ar(()=>{const a=e.$$.on_mount.map(Hc).filter(Gr);e.$$.on_destroy?e.$$.on_destroy.push(...a):Re(a),e.$$.on_mount=[]}),s.forEach(Ar)}function pt(e,t){const n=e.$$;n.fragment!==null&&(Re(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function nh(e,t){e.$$.dirty[0]===-1&&(ci.push(e),Oc(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Ct(e,t,n,r,i,s,a,o=[-1]){const u=yi;pi(e);const l=e.$$={fragment:null,ctx:[],props:s,update:pe,not_equal:i,bound:s1(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:s1(),dirty:o,skip_bound:!1,root:t.target||u.$$.root};a&&a(l.root);let c=!1;if(l.ctx=n?n(e,t.props||{},(f,h,...p)=>{const g=p.length?p[0]:h;return l.ctx&&i(l.ctx[f],l.ctx[f]=g)&&(!l.skip_bound&&l.bound[f]&&l.bound[f](g),c&&nh(e,f)),h}):[],l.update(),c=!0,Re(l.before_update),l.fragment=r?r(l.ctx):!1,t.target){if(t.hydrate){const f=U0(t.target);l.fragment&&l.fragment.l(f),f.forEach(Ca)}else l.fragment&&l.fragment.c();t.intro&&_e(e.$$.fragment),dt(e,t.target,t.anchor,t.customElement),Gc()}pi(u)}class rh{$destroy(){pt(this,1),this.$destroy=pe}$on(t,n){if(!Gr(n))return pe;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!W0(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function ee(e,t){document.dispatchEvent(pl(e,Object.assign({version:"3.52.0"},t),{bubbles:!0}))}function y(e,t){ee("SvelteDOMInsert",{target:e,node:t}),Rc(e,t)}function ae(e,t,n){ee("SvelteDOMInsert",{target:e,node:t,anchor:n}),Ec(e,t,n)}function re(e){ee("SvelteDOMRemove",{node:e}),Ca(e)}function he(e,t,n,r,i,s){const a=r===!0?["capture"]:r?Array.from(Object.keys(r)):[];i&&a.push("preventDefault"),s&&a.push("stopPropagation"),ee("SvelteDOMAddEventListener",{node:e,event:t,handler:n,modifiers:a});const o=Y0(e,t,n,r);return()=>{ee("SvelteDOMRemoveEventListener",{node:e,event:t,handler:n,modifiers:a}),o()}}function w(e,t,n){B0(e,t,n),n==null?ee("SvelteDOMRemoveAttribute",{node:e,attribute:t}):ee("SvelteDOMSetAttribute",{node:e,attribute:t,value:n})}function Ee(e,t){t=""+t,e.wholeText!==t&&(ee("SvelteDOMSetData",{node:e,data:t}),e.data=t)}function De(e){if(typeof e!="string"&&!(e&&typeof e=="object"&&"length"in e)){let t="{#each} only iterates over array-like objects.";throw typeof Symbol=="function"&&e&&Symbol.iterator in e&&(t+=" You can use a spread to convert this iterable into an array."),new Error(t)}}function St(e,t,n){for(const r of Object.keys(t))~n.indexOf(r)||console.warn(`<${e}> received an unexpected slot "${r}".`)}class _t extends rh{constructor(t){if(!t||!t.target&&!t.$$inline)throw new Error("'target' is a required option");super()}$destroy(){super.$destroy(),this.$destroy=()=>{console.warn("Component was already destroyed")}}$capture_state(){}$inject_state(){}}function ih(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1}function jc(e){const t=e-1;return t*t*t+1}function Ri(e,{delay:t=0,duration:n=400,easing:r=ba}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:r,css:s=>`opacity: ${s*i}`}}function oo(e,{delay:t=0,duration:n=400,easing:r=jc,x:i=0,y:s=0,opacity:a=0}={}){const o=getComputedStyle(e),u=+o.opacity,l=o.transform==="none"?"":o.transform,c=u*(1-a);return{delay:t,duration:n,easing:r,css:(f,h)=>`
			transform: ${l} translate(${(1-f)*i}px, ${(1-f)*s}px);
			opacity: ${u-c*h}`}}const ur=[];function Ii(e,t=pe){let n;const r=new Set;function i(o){if(tt(e,o)&&(e=o,n)){const u=!ur.length;for(const l of r)l[1](),ur.push(l,e);if(u){for(let l=0;l<ur.length;l+=2)ur[l][0](ur[l+1]);ur.length=0}}}function s(o){i(o(e))}function a(o,u=pe){const l=[o,u];return r.add(l),r.size===1&&(n=t(i)||pe),o(e),()=>{r.delete(l),r.size===0&&(n(),n=null)}}return{set:i,update:s,subscribe:a}}var Qn=(e=>(e[e.DepthChanged=0]="DepthChanged",e.None="",e))(Qn||{});const Vr=()=>({shown:!1,favTrees:[]}),vl=()=>({depthMax:0,depthLow:0,depthHigh:0,depthColors:[],action:""}),bl=()=>({featureMap:new Map,treeMap:new Map,treeID:0,ancestorFs:[],show:!1,x:20,y:20,getFeatureColor:null}),Dr=()=>({shown:!1,curAccuracyLow:0,curAccuracyHigh:1,curMinSampleLow:0,curMinSampleHigh:100,curHeightRange:new Set([]),curDepthFeatures:new Map,curAllFeatures:new Set([]),treeDepthFeaturesMap:null,treeHeightMap:null,treeMinSampleMap:null,featureMap:new Map,getFeatureColor:null,featureOrder:[],updatePlots:null}),Nr=()=>({pinnedTrees:[],lastActiveTreeID:null,getFeatureColor:null,getFeatureInfo:null}),l1=()=>Ii(Vr()),c1=()=>Ii(vl()),u1=()=>Ii(bl()),h1=()=>Ii(Nr()),f1=()=>Ii(Dr());var lo="http://www.w3.org/1999/xhtml";const d1={svg:"http://www.w3.org/2000/svg",xhtml:lo,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Sa(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),d1.hasOwnProperty(t)?{space:d1[t],local:e}:e}function sh(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===lo&&t.documentElement.namespaceURI===lo?t.createElement(e):t.createElementNS(n,e)}}function ah(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Xc(e){var t=Sa(e);return(t.local?ah:sh)(t)}function oh(){}function Cl(e){return e==null?oh:function(){return this.querySelector(e)}}function lh(e){typeof e!="function"&&(e=Cl(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],a=s.length,o=r[i]=new Array(a),u,l,c=0;c<a;++c)(u=s[c])&&(l=e.call(u,u.__data__,c,s))&&("__data__"in u&&(l.__data__=u.__data__),o[c]=l);return new et(r,this._parents)}function qc(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function ch(){return[]}function Jc(e){return e==null?ch:function(){return this.querySelectorAll(e)}}function uh(e){return function(){return qc(e.apply(this,arguments))}}function hh(e){typeof e=="function"?e=uh(e):e=Jc(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var a=t[s],o=a.length,u,l=0;l<o;++l)(u=a[l])&&(r.push(e.call(u,u.__data__,l,a)),i.push(u));return new et(r,i)}function Qc(e){return function(){return this.matches(e)}}function Kc(e){return function(t){return t.matches(e)}}var fh=Array.prototype.find;function dh(e){return function(){return fh.call(this.children,e)}}function ph(){return this.firstElementChild}function gh(e){return this.select(e==null?ph:dh(typeof e=="function"?e:Kc(e)))}var mh=Array.prototype.filter;function yh(){return Array.from(this.children)}function wh(e){return function(){return mh.call(this.children,e)}}function vh(e){return this.selectAll(e==null?yh:wh(typeof e=="function"?e:Kc(e)))}function bh(e){typeof e!="function"&&(e=Qc(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],a=s.length,o=r[i]=[],u,l=0;l<a;++l)(u=s[l])&&e.call(u,u.__data__,l,s)&&o.push(u);return new et(r,this._parents)}function $c(e){return new Array(e.length)}function Ch(){return new et(this._enter||this._groups.map($c),this._parents)}function Vs(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Vs.prototype={constructor:Vs,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Sh(e){return function(){return e}}function _h(e,t,n,r,i,s){for(var a=0,o,u=t.length,l=s.length;a<l;++a)(o=t[a])?(o.__data__=s[a],r[a]=o):n[a]=new Vs(e,s[a]);for(;a<u;++a)(o=t[a])&&(i[a]=o)}function xh(e,t,n,r,i,s,a){var o,u,l=new Map,c=t.length,f=s.length,h=new Array(c),p;for(o=0;o<c;++o)(u=t[o])&&(h[o]=p=a.call(u,u.__data__,o,t)+"",l.has(p)?i[o]=u:l.set(p,u));for(o=0;o<f;++o)p=a.call(e,s[o],o,s)+"",(u=l.get(p))?(r[o]=u,u.__data__=s[o],l.delete(p)):n[o]=new Vs(e,s[o]);for(o=0;o<c;++o)(u=t[o])&&l.get(h[o])===u&&(i[o]=u)}function Lh(e){return e.__data__}function kh(e,t){if(!arguments.length)return Array.from(this,Lh);var n=t?xh:_h,r=this._parents,i=this._groups;typeof e!="function"&&(e=Sh(e));for(var s=i.length,a=new Array(s),o=new Array(s),u=new Array(s),l=0;l<s;++l){var c=r[l],f=i[l],h=f.length,p=Th(e.call(c,c&&c.__data__,l,r)),g=p.length,d=o[l]=new Array(g),m=a[l]=new Array(g),v=u[l]=new Array(h);n(c,f,d,m,v,p,t);for(var S=0,b=0,_,k;S<g;++S)if(_=d[S]){for(S>=b&&(b=S+1);!(k=m[b])&&++b<g;);_._next=k||null}}return a=new et(a,r),a._enter=o,a._exit=u,a}function Th(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Mh(){return new et(this._exit||this._groups.map($c),this._parents)}function Ah(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function Vh(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,a=Math.min(i,s),o=new Array(i),u=0;u<a;++u)for(var l=n[u],c=r[u],f=l.length,h=o[u]=new Array(f),p,g=0;g<f;++g)(p=l[g]||c[g])&&(h[g]=p);for(;u<i;++u)o[u]=n[u];return new et(o,this._parents)}function Dh(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],a;--i>=0;)(a=r[i])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function Nh(e){e||(e=Hh);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var a=n[s],o=a.length,u=i[s]=new Array(o),l,c=0;c<o;++c)(l=a[c])&&(u[c]=l);u.sort(t)}return new et(i,this._parents).order()}function Hh(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Fh(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Ph(){return Array.from(this)}function Rh(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var a=r[i];if(a)return a}return null}function Ih(){let e=0;for(const t of this)++e;return e}function Eh(){return!this.node()}function zh(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,a=i.length,o;s<a;++s)(o=i[s])&&e.call(o,o.__data__,s,i);return this}function Wh(e){return function(){this.removeAttribute(e)}}function Oh(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Gh(e,t){return function(){this.setAttribute(e,t)}}function Yh(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Bh(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Uh(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Zh(e,t){var n=Sa(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Oh:Wh:typeof t=="function"?n.local?Uh:Bh:n.local?Yh:Gh)(n,t))}function eu(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function jh(e){return function(){this.style.removeProperty(e)}}function Xh(e,t,n){return function(){this.style.setProperty(e,t,n)}}function qh(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Jh(e,t,n){return arguments.length>1?this.each((t==null?jh:typeof t=="function"?qh:Xh)(e,t,n==null?"":n)):Hr(this.node(),e)}function Hr(e,t){return e.style.getPropertyValue(t)||eu(e).getComputedStyle(e,null).getPropertyValue(t)}function Qh(e){return function(){delete this[e]}}function Kh(e,t){return function(){this[e]=t}}function $h(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function e3(e,t){return arguments.length>1?this.each((t==null?Qh:typeof t=="function"?$h:Kh)(e,t)):this.node()[e]}function tu(e){return e.trim().split(/^|\s+/)}function Sl(e){return e.classList||new nu(e)}function nu(e){this._node=e,this._names=tu(e.getAttribute("class")||"")}nu.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ru(e,t){for(var n=Sl(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function iu(e,t){for(var n=Sl(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function t3(e){return function(){ru(this,e)}}function n3(e){return function(){iu(this,e)}}function r3(e,t){return function(){(t.apply(this,arguments)?ru:iu)(this,e)}}function i3(e,t){var n=tu(e+"");if(arguments.length<2){for(var r=Sl(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?r3:t?t3:n3)(n,t))}function s3(){this.textContent=""}function a3(e){return function(){this.textContent=e}}function o3(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function l3(e){return arguments.length?this.each(e==null?s3:(typeof e=="function"?o3:a3)(e)):this.node().textContent}function c3(){this.innerHTML=""}function u3(e){return function(){this.innerHTML=e}}function h3(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function f3(e){return arguments.length?this.each(e==null?c3:(typeof e=="function"?h3:u3)(e)):this.node().innerHTML}function d3(){this.nextSibling&&this.parentNode.appendChild(this)}function p3(){return this.each(d3)}function g3(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function m3(){return this.each(g3)}function y3(e){var t=typeof e=="function"?e:Xc(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function w3(){return null}function v3(e,t){var n=typeof e=="function"?e:Xc(e),r=t==null?w3:typeof t=="function"?t:Cl(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function b3(){var e=this.parentNode;e&&e.removeChild(this)}function C3(){return this.each(b3)}function S3(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function _3(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function x3(e){return this.select(e?_3:S3)}function L3(e){return arguments.length?this.property("__data__",e):this.node().__data__}function k3(e){return function(t){e.call(this,t,this.__data__)}}function T3(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function M3(e){return function(){var t=this.__on;if(!!t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function A3(e,t,n){return function(){var r=this.__on,i,s=k3(t);if(r){for(var a=0,o=r.length;a<o;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function V3(e,t,n){var r=T3(e+""),i,s=r.length,a;if(arguments.length<2){var o=this.node().__on;if(o){for(var u=0,l=o.length,c;u<l;++u)for(i=0,c=o[u];i<s;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value}return}for(o=t?A3:M3,i=0;i<s;++i)this.each(o(r[i],t,n));return this}function su(e,t,n){var r=eu(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function D3(e,t){return function(){return su(this,e,t)}}function N3(e,t){return function(){return su(this,e,t.apply(this,arguments))}}function H3(e,t){return this.each((typeof t=="function"?N3:D3)(e,t))}function*F3(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,a;i<s;++i)(a=r[i])&&(yield a)}var _l=[null];function et(e,t){this._groups=e,this._parents=t}function Yr(){return new et([[document.documentElement]],_l)}function P3(){return this}et.prototype=Yr.prototype={constructor:et,select:lh,selectAll:hh,selectChild:gh,selectChildren:vh,filter:bh,data:kh,enter:Ch,exit:Mh,join:Ah,merge:Vh,selection:P3,order:Dh,sort:Nh,call:Fh,nodes:Ph,node:Rh,size:Ih,empty:Eh,each:zh,attr:Zh,style:Jh,property:e3,classed:i3,text:l3,html:f3,raise:p3,lower:m3,append:y3,insert:v3,remove:C3,clone:x3,datum:L3,on:V3,dispatch:H3,[Symbol.iterator]:F3};function $e(e){return typeof e=="string"?new et([[document.querySelector(e)]],[document.documentElement]):new et([[e]],_l)}function R3(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Pt(e,t){if(e=R3(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function I3(e){return typeof e=="string"?new et([document.querySelectorAll(e)],[document.documentElement]):new et([qc(e)],_l)}function E3(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(!(e.status===204||e.status===205))return e.json()}function z3(e,t){return fetch(e,t).then(E3)}function fs(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function W3(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function au(e){let t,n,r;e.length!==2?(t=fs,n=(o,u)=>fs(e(o),u),r=(o,u)=>e(o)-u):(t=e===fs||e===W3?e:O3,n=e,r=e);function i(o,u,l=0,c=o.length){if(l<c){if(t(u,u)!==0)return c;do{const f=l+c>>>1;n(o[f],u)<0?l=f+1:c=f}while(l<c)}return l}function s(o,u,l=0,c=o.length){if(l<c){if(t(u,u)!==0)return c;do{const f=l+c>>>1;n(o[f],u)<=0?l=f+1:c=f}while(l<c)}return l}function a(o,u,l=0,c=o.length){const f=i(o,u,l,c-1);return f>l&&r(o[f-1],u)>-r(o[f],u)?f-1:f}return{left:i,center:a,right:s}}function O3(){return 0}function G3(e){return e===null?NaN:+e}const Y3=au(fs),B3=Y3.right;au(G3).center;const ou=B3;function U3(e,t){let n=0;if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(i=+i)>=i&&++n}return n}function ds(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let s of e)(s=t(s,++i,e))!=null&&(n===void 0?s>=s&&(n=r=s):(n>s&&(n=s),r<s&&(r=s)))}return[n,r]}class p1 extends Map{constructor(t,n=X3){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(g1(this,t))}has(t){return super.has(g1(this,t))}set(t,n){return super.set(Z3(this,t),n)}delete(t){return super.delete(j3(this,t))}}function g1({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Z3({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function j3({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function X3(e){return e!==null&&typeof e=="object"?e.valueOf():e}function q3(e){return e}var J3=Array.prototype,Q3=J3.slice;function ji(e){return()=>e}var co=Math.sqrt(50),uo=Math.sqrt(10),ho=Math.sqrt(2);function Ds(e,t,n){var r,i=-1,s,a,o;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((r=t<e)&&(s=e,e=t,t=s),(o=wi(e,t,n))===0||!isFinite(o))return[];if(o>0){let u=Math.round(e/o),l=Math.round(t/o);for(u*o<e&&++u,l*o>t&&--l,a=new Array(s=l-u+1);++i<s;)a[i]=(u+i)*o}else{o=-o;let u=Math.round(e*o),l=Math.round(t*o);for(u/o<e&&++u,l/o>t&&--l,a=new Array(s=l-u+1);++i<s;)a[i]=(u+i)/o}return r&&a.reverse(),a}function wi(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),s=r/Math.pow(10,i);return i>=0?(s>=co?10:s>=uo?5:s>=ho?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(s>=co?10:s>=uo?5:s>=ho?2:1)}function K3(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),s=r/i;return s>=co?i*=10:s>=uo?i*=5:s>=ho&&(i*=2),t<e?-i:i}function $3(e,t,n){let r;for(;;){const i=wi(e,t,n);if(i===r||i===0||!isFinite(i))return[e,t];i>0?(e=Math.floor(e/i)*i,t=Math.ceil(t/i)*i):i<0&&(e=Math.ceil(e*i)/i,t=Math.floor(t*i)/i),r=i}}function e6(e){return Math.ceil(Math.log(U3(e))/Math.LN2)+1}function t6(){var e=q3,t=ds,n=e6;function r(i){Array.isArray(i)||(i=Array.from(i));var s,a=i.length,o,u,l=new Array(a);for(s=0;s<a;++s)l[s]=e(i[s],s,i);var c=t(l),f=c[0],h=c[1],p=n(l,f,h);if(!Array.isArray(p)){const v=h,S=+p;if(t===ds&&([f,h]=$3(f,h,S)),p=Ds(f,h,S),p[0]<=f&&(u=wi(f,h,S)),p[p.length-1]>=h)if(v>=h&&t===ds){const b=wi(f,h,S);isFinite(b)&&(b>0?h=(Math.floor(h/b)+1)*b:b<0&&(h=(Math.ceil(h*-b)+1)/-b))}else p.pop()}for(var g=p.length;p[0]<=f;)p.shift(),--g;for(;p[g-1]>h;)p.pop(),--g;var d=new Array(g+1),m;for(s=0;s<=g;++s)m=d[s]=[],m.x0=s>0?p[s-1]:f,m.x1=s<g?p[s]:h;if(isFinite(u)){if(u>0)for(s=0;s<a;++s)(o=l[s])!=null&&f<=o&&o<=h&&d[Math.min(g,Math.floor((o-f)/u))].push(i[s]);else if(u<0){for(s=0;s<a;++s)if((o=l[s])!=null&&f<=o&&o<=h){const v=Math.floor((f-o)*u);d[Math.min(g,v+(p[v]<=o))].push(i[s])}}}else for(s=0;s<a;++s)(o=l[s])!=null&&f<=o&&o<=h&&d[ou(p,o,0,g)].push(i[s]);return d}return r.value=function(i){return arguments.length?(e=typeof i=="function"?i:ji(i),r):e},r.domain=function(i){return arguments.length?(t=typeof i=="function"?i:ji([i[0],i[1]]),r):t},r.thresholds=function(i){return arguments.length?(n=typeof i=="function"?i:Array.isArray(i)?ji(Q3.call(i)):ji(i),r):n},r}function n6(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function r6(e,t){let n,r=-1,i=-1;if(t===void 0)for(const s of e)++i,s!=null&&(n<s||n===void 0&&s>=s)&&(n=s,r=i);else for(let s of e)(s=t(s,++i,e))!=null&&(n<s||n===void 0&&s>=s)&&(n=s,r=i);return r}function i6(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function s6(e,t){let n,r=-1,i=-1;if(t===void 0)for(const s of e)++i,s!=null&&(n>s||n===void 0&&s>=s)&&(n=s,r=i);else for(let s of e)(s=t(s,++i,e))!=null&&(n>s||n===void 0&&s>=s)&&(n=s,r=i);return r}function a6(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}function o6(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function Ei(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const m1=Symbol("implicit");function xl(){var e=new p1,t=[],n=[],r=m1;function i(s){let a=e.get(s);if(a===void 0){if(r!==m1)return r;e.set(s,a=t.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new p1;for(const a of s)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return xl(t,n).unknown(r)},Ei.apply(i,arguments),i}function Ll(){var e=xl().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,a,o=!1,u=0,l=0,c=.5;delete e.unknown;function f(){var h=t().length,p=i<r,g=p?i:r,d=p?r:i;s=(d-g)/Math.max(1,h-u+l*2),o&&(s=Math.floor(s)),g+=(d-g-s*(h-u))*c,a=s*(1-u),o&&(g=Math.round(g),a=Math.round(a));var m=a6(h).map(function(v){return g+s*v});return n(p?m.reverse():m)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,f()},e.bandwidth=function(){return a},e.step=function(){return s},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(u=Math.min(1,l=+h),f()):u},e.paddingInner=function(h){return arguments.length?(u=Math.min(1,h),f()):u},e.paddingOuter=function(h){return arguments.length?(l=+h,f()):l},e.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},e.copy=function(){return Ll(t(),[r,i]).round(o).paddingInner(u).paddingOuter(l).align(c)},Ei.apply(f(),arguments)}function lu(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return lu(t())},e}function l6(){return lu(Ll.apply(null,arguments).paddingInner(1))}function Br(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function zi(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Rn(){}var tr=.7,Fr=1/tr,Cr="\\s*([+-]?\\d+)\\s*",vi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c6=/^#([0-9a-f]{3,8})$/,u6=new RegExp(`^rgb\\(${Cr},${Cr},${Cr}\\)$`),h6=new RegExp(`^rgb\\(${qt},${qt},${qt}\\)$`),f6=new RegExp(`^rgba\\(${Cr},${Cr},${Cr},${vi}\\)$`),d6=new RegExp(`^rgba\\(${qt},${qt},${qt},${vi}\\)$`),p6=new RegExp(`^hsl\\(${vi},${qt},${qt}\\)$`),g6=new RegExp(`^hsla\\(${vi},${qt},${qt},${vi}\\)$`),y1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Br(Rn,Fn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:w1,formatHex:w1,formatHex8:m6,formatHsl:y6,formatRgb:v1,toString:v1});function w1(){return this.rgb().formatHex()}function m6(){return this.rgb().formatHex8()}function y6(){return cu(this).formatHsl()}function v1(){return this.rgb().formatRgb()}function Fn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=c6.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?b1(t):n===3?new ze(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Xi(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Xi(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=u6.exec(e))?new ze(t[1],t[2],t[3],1):(t=h6.exec(e))?new ze(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=f6.exec(e))?Xi(t[1],t[2],t[3],t[4]):(t=d6.exec(e))?Xi(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=p6.exec(e))?_1(t[1],t[2]/100,t[3]/100,1):(t=g6.exec(e))?_1(t[1],t[2]/100,t[3]/100,t[4]):y1.hasOwnProperty(e)?b1(y1[e]):e==="transparent"?new ze(NaN,NaN,NaN,0):null}function b1(e){return new ze(e>>16&255,e>>8&255,e&255,1)}function Xi(e,t,n,r){return r<=0&&(e=t=n=NaN),new ze(e,t,n,r)}function kl(e){return e instanceof Rn||(e=Fn(e)),e?(e=e.rgb(),new ze(e.r,e.g,e.b,e.opacity)):new ze}function fo(e,t,n,r){return arguments.length===1?kl(e):new ze(e,t,n,r==null?1:r)}function ze(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Br(ze,fo,zi(Rn,{brighter(e){return e=e==null?Fr:Math.pow(Fr,e),new ze(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?tr:Math.pow(tr,e),new ze(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ze($n(this.r),$n(this.g),$n(this.b),Ns(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:C1,formatHex:C1,formatHex8:w6,formatRgb:S1,toString:S1}));function C1(){return`#${Kn(this.r)}${Kn(this.g)}${Kn(this.b)}`}function w6(){return`#${Kn(this.r)}${Kn(this.g)}${Kn(this.b)}${Kn((isNaN(this.opacity)?1:this.opacity)*255)}`}function S1(){const e=Ns(this.opacity);return`${e===1?"rgb(":"rgba("}${$n(this.r)}, ${$n(this.g)}, ${$n(this.b)}${e===1?")":`, ${e})`}`}function Ns(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function $n(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Kn(e){return e=$n(e),(e<16?"0":"")+e.toString(16)}function _1(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Et(e,t,n,r)}function cu(e){if(e instanceof Et)return new Et(e.h,e.s,e.l,e.opacity);if(e instanceof Rn||(e=Fn(e)),!e)return new Et;if(e instanceof Et)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),a=NaN,o=s-i,u=(s+i)/2;return o?(t===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-t)/o+2:a=(t-n)/o+4,o/=u<.5?s+i:2-s-i,a*=60):o=u>0&&u<1?0:a,new Et(a,o,u,e.opacity)}function uu(e,t,n,r){return arguments.length===1?cu(e):new Et(e,t,n,r==null?1:r)}function Et(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Br(Et,uu,zi(Rn,{brighter(e){return e=e==null?Fr:Math.pow(Fr,e),new Et(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?tr:Math.pow(tr,e),new Et(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ze(Pa(e>=240?e-240:e+120,i,r),Pa(e,i,r),Pa(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Et(x1(this.h),qi(this.s),qi(this.l),Ns(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ns(this.opacity);return`${e===1?"hsl(":"hsla("}${x1(this.h)}, ${qi(this.s)*100}%, ${qi(this.l)*100}%${e===1?")":`, ${e})`}`}}));function x1(e){return e=(e||0)%360,e<0?e+360:e}function qi(e){return Math.max(0,Math.min(1,e||0))}function Pa(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const hu=Math.PI/180,fu=180/Math.PI,Hs=18,du=.96422,pu=1,gu=.82521,mu=4/29,Sr=6/29,yu=3*Sr*Sr,v6=Sr*Sr*Sr;function wu(e){if(e instanceof Jt)return new Jt(e.l,e.a,e.b,e.opacity);if(e instanceof jt)return bu(e);e instanceof ze||(e=kl(e));var t=za(e.r),n=za(e.g),r=za(e.b),i=Ra((.2225045*t+.7168786*n+.0606169*r)/pu),s,a;return t===n&&n===r?s=a=i:(s=Ra((.4360747*t+.3850649*n+.1430804*r)/du),a=Ra((.0139322*t+.0971045*n+.7141733*r)/gu)),new Jt(116*i-16,500*(s-i),200*(i-a),e.opacity)}function b6(e,t,n,r){return arguments.length===1?wu(e):new Jt(e,t,n,r==null?1:r)}function Jt(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}Br(Jt,b6,zi(Rn,{brighter(e){return new Jt(this.l+Hs*(e==null?1:e),this.a,this.b,this.opacity)},darker(e){return new Jt(this.l-Hs*(e==null?1:e),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=du*Ia(t),e=pu*Ia(e),n=gu*Ia(n),new ze(Ea(3.1338561*t-1.6168667*e-.4906146*n),Ea(-.9787684*t+1.9161415*e+.033454*n),Ea(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function Ra(e){return e>v6?Math.pow(e,1/3):e/yu+mu}function Ia(e){return e>Sr?e*e*e:yu*(e-mu)}function Ea(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function za(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function vu(e){if(e instanceof jt)return new jt(e.h,e.c,e.l,e.opacity);if(e instanceof Jt||(e=wu(e)),e.a===0&&e.b===0)return new jt(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*fu;return new jt(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function C6(e,t,n,r){return arguments.length===1?vu(e):new jt(n,t,e,r==null?1:r)}function S6(e,t,n,r){return arguments.length===1?vu(e):new jt(e,t,n,r==null?1:r)}function jt(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function bu(e){if(isNaN(e.h))return new Jt(e.l,0,0,e.opacity);var t=e.h*hu;return new Jt(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Br(jt,S6,zi(Rn,{brighter(e){return new jt(this.h,this.c,this.l+Hs*(e==null?1:e),this.opacity)},darker(e){return new jt(this.h,this.c,this.l-Hs*(e==null?1:e),this.opacity)},rgb(){return bu(this).rgb()}}));var Cu=-.14861,Tl=1.78277,Ml=-.29227,_a=-.90649,bi=1.97294,L1=bi*_a,k1=bi*Tl,T1=Tl*Ml-_a*Cu;function _6(e){if(e instanceof er)return new er(e.h,e.s,e.l,e.opacity);e instanceof ze||(e=kl(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(T1*r+L1*t-k1*n)/(T1+L1-k1),s=r-i,a=(bi*(n-i)-Ml*s)/_a,o=Math.sqrt(a*a+s*s)/(bi*i*(1-i)),u=o?Math.atan2(a,s)*fu-120:NaN;return new er(u<0?u+360:u,o,i,e.opacity)}function Pn(e,t,n,r){return arguments.length===1?_6(e):new er(e,t,n,r==null?1:r)}function er(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Br(er,Pn,zi(Rn,{brighter(e){return e=e==null?Fr:Math.pow(Fr,e),new er(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?tr:Math.pow(tr,e),new er(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*hu,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new ze(255*(t+n*(Cu*r+Tl*i)),255*(t+n*(Ml*r+_a*i)),255*(t+n*(bi*r)),this.opacity)}}));const xa=e=>()=>e;function Su(e,t){return function(n){return e+n*t}}function x6(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function L6(e,t){var n=t-e;return n?Su(e,n>180||n<-180?n-360*Math.round(n/360):n):xa(isNaN(e)?t:e)}function k6(e){return(e=+e)==1?_r:function(t,n){return n-t?x6(t,n,e):xa(isNaN(t)?n:t)}}function _r(e,t){var n=t-e;return n?Su(e,n):xa(isNaN(e)?t:e)}const Fs=function e(t){var n=k6(t);function r(i,s){var a=n((i=fo(i)).r,(s=fo(s)).r),o=n(i.g,s.g),u=n(i.b,s.b),l=_r(i.opacity,s.opacity);return function(c){return i.r=a(c),i.g=o(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=e,r}(1);function T6(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function M6(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function A6(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=Wi(e[a],t[a]);for(;a<n;++a)s[a]=t[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function V6(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Rt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function D6(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Wi(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var po=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Wa=new RegExp(po.source,"g");function N6(e){return function(){return e}}function H6(e){return function(t){return e(t)+""}}function _u(e,t){var n=po.lastIndex=Wa.lastIndex=0,r,i,s,a=-1,o=[],u=[];for(e=e+"",t=t+"";(r=po.exec(e))&&(i=Wa.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,u.push({i:a,x:Rt(r,i)})),n=Wa.lastIndex;return n<t.length&&(s=t.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?u[0]?H6(u[0].x):N6(t):(t=u.length,function(l){for(var c=0,f;c<t;++c)o[(f=u[c]).i]=f.x(l);return o.join("")})}function Wi(e,t){var n=typeof t,r;return t==null||n==="boolean"?xa(t):(n==="number"?Rt:n==="string"?(r=Fn(t))?(t=r,Fs):_u:t instanceof Fn?Fs:t instanceof Date?V6:M6(t)?T6:Array.isArray(t)?A6:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?D6:Rt)(e,t)}function F6(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var M1=180/Math.PI,go={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function xu(e,t,n,r,i,s){var a,o,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,u/=o),e*r<t*n&&(e=-e,t=-t,u=-u,a=-a),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*M1,skewX:Math.atan(u)*M1,scaleX:a,scaleY:o}}var Ji;function P6(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?go:xu(t.a,t.b,t.c,t.d,t.e,t.f)}function R6(e){return e==null||(Ji||(Ji=document.createElementNS("http://www.w3.org/2000/svg","g")),Ji.setAttribute("transform",e),!(e=Ji.transform.baseVal.consolidate()))?go:(e=e.matrix,xu(e.a,e.b,e.c,e.d,e.e,e.f))}function Lu(e,t,n,r){function i(l){return l.length?l.pop()+" ":""}function s(l,c,f,h,p,g){if(l!==f||c!==h){var d=p.push("translate(",null,t,null,n);g.push({i:d-4,x:Rt(l,f)},{i:d-2,x:Rt(c,h)})}else(f||h)&&p.push("translate("+f+t+h+n)}function a(l,c,f,h){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Rt(l,c)})):c&&f.push(i(f)+"rotate("+c+r)}function o(l,c,f,h){l!==c?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Rt(l,c)}):c&&f.push(i(f)+"skewX("+c+r)}function u(l,c,f,h,p,g){if(l!==f||c!==h){var d=p.push(i(p)+"scale(",null,",",null,")");g.push({i:d-4,x:Rt(l,f)},{i:d-2,x:Rt(c,h)})}else(f!==1||h!==1)&&p.push(i(p)+"scale("+f+","+h+")")}return function(l,c){var f=[],h=[];return l=e(l),c=e(c),s(l.translateX,l.translateY,c.translateX,c.translateY,f,h),a(l.rotate,c.rotate,f,h),o(l.skewX,c.skewX,f,h),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,f,h),l=c=null,function(p){for(var g=-1,d=h.length,m;++g<d;)f[(m=h[g]).i]=m.x(p);return f.join("")}}}var I6=Lu(P6,"px, ","px)","deg)"),E6=Lu(R6,", ",")",")"),z6=1e-12;function A1(e){return((e=Math.exp(e))+1/e)/2}function W6(e){return((e=Math.exp(e))-1/e)/2}function O6(e){return((e=Math.exp(2*e))-1)/(e+1)}const G6=function e(t,n,r){function i(s,a){var o=s[0],u=s[1],l=s[2],c=a[0],f=a[1],h=a[2],p=c-o,g=f-u,d=p*p+g*g,m,v;if(d<z6)v=Math.log(h/l)/t,m=function(I){return[o+I*p,u+I*g,l*Math.exp(t*I*v)]};else{var S=Math.sqrt(d),b=(h*h-l*l+r*d)/(2*l*n*S),_=(h*h-l*l-r*d)/(2*h*n*S),k=Math.log(Math.sqrt(b*b+1)-b),H=Math.log(Math.sqrt(_*_+1)-_);v=(H-k)/t,m=function(I){var M=I*v,V=A1(k),E=l/(n*S)*(V*O6(t*M+k)-W6(k));return[o+E*p,u+E*g,l*V/A1(t*M+k)]}}return m.duration=v*1e3*t/Math.SQRT2,m}return i.rho=function(s){var a=Math.max(.001,+s),o=a*a,u=o*o;return e(a,o,u)},i}(Math.SQRT2,2,4);function ku(e){return function t(n){n=+n;function r(i,s){var a=e((i=Pn(i)).h,(s=Pn(s)).h),o=_r(i.s,s.s),u=_r(i.l,s.l),l=_r(i.opacity,s.opacity);return function(c){return i.h=a(c),i.s=o(c),i.l=u(Math.pow(c,n)),i.opacity=l(c),i+""}}return r.gamma=t,r}(1)}ku(L6);var Tu=ku(_r);function Y6(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}function B6(e){return function(){return e}}function U6(e){return+e}var V1=[0,1];function Xt(e){return e}function mo(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:B6(isNaN(t)?NaN:.5)}function Z6(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function j6(e,t,n){var r=e[0],i=e[1],s=t[0],a=t[1];return i<r?(r=mo(i,r),s=n(a,s)):(r=mo(r,i),s=n(s,a)),function(o){return s(r(o))}}function X6(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=mo(e[a],e[a+1]),s[a]=n(t[a],t[a+1]);return function(o){var u=ou(e,o,1,r)-1;return s[u](i[u](o))}}function Al(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Vl(){var e=V1,t=V1,n=Wi,r,i,s,a=Xt,o,u,l;function c(){var h=Math.min(e.length,t.length);return a!==Xt&&(a=Z6(e[0],e[h-1])),o=h>2?X6:j6,u=l=null,f}function f(h){return h==null||isNaN(h=+h)?s:(u||(u=o(e.map(r),t,n)))(r(a(h)))}return f.invert=function(h){return a(i((l||(l=o(t,e.map(r),Rt)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,U6),c()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),c()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=F6,c()},f.clamp=function(h){return arguments.length?(a=h?!0:Xt,c()):a!==Xt},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,p){return r=h,i=p,c()}}function q6(){return Vl()(Xt,Xt)}function J6(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ps(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Pr(e){return e=Ps(Math.abs(e)),e?e[1]:NaN}function Q6(e,t){return function(n,r){for(var i=n.length,s=[],a=0,o=e[0],u=0;i>0&&o>0&&(u+o+1>r&&(o=Math.max(1,r-u)),s.push(n.substring(i-=o,i+o)),!((u+=o+1)>r));)o=e[a=(a+1)%e.length];return s.reverse().join(t)}}function K6(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var $6=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ci(e){if(!(t=$6.exec(e)))throw new Error("invalid format: "+e);var t;return new Dl({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ci.prototype=Dl.prototype;function Dl(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Dl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function e5(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Mu;function t5(e,t){var n=Ps(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(Mu=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Ps(e,Math.max(0,t+s-1))[0]}function D1(e,t){var n=Ps(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const N1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:J6,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>D1(e*100,t),r:D1,s:t5,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function H1(e){return e}var F1=Array.prototype.map,P1=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function n5(e){var t=e.grouping===void 0||e.thousands===void 0?H1:Q6(F1.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?H1:K6(F1.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"\u2212":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function l(f){f=Ci(f);var h=f.fill,p=f.align,g=f.sign,d=f.symbol,m=f.zero,v=f.width,S=f.comma,b=f.precision,_=f.trim,k=f.type;k==="n"?(S=!0,k="g"):N1[k]||(b===void 0&&(b=12),_=!0,k="g"),(m||h==="0"&&p==="=")&&(m=!0,h="0",p="=");var H=d==="$"?n:d==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",I=d==="$"?r:/[%p]/.test(k)?a:"",M=N1[k],V=/[defgprs%]/.test(k);b=b===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function E(F){var R=H,A=I,C,T,D;if(k==="c")A=M(F)+A,F="";else{F=+F;var P=F<0||1/F<0;if(F=isNaN(F)?u:M(Math.abs(F),b),_&&(F=e5(F)),P&&+F==0&&g!=="+"&&(P=!1),R=(P?g==="("?g:o:g==="-"||g==="("?"":g)+R,A=(k==="s"?P1[8+Mu/3]:"")+A+(P&&g==="("?")":""),V){for(C=-1,T=F.length;++C<T;)if(D=F.charCodeAt(C),48>D||D>57){A=(D===46?i+F.slice(C+1):F.slice(C))+A,F=F.slice(0,C);break}}}S&&!m&&(F=t(F,1/0));var G=R.length+F.length+A.length,Y=G<v?new Array(v-G+1).join(h):"";switch(S&&m&&(F=t(Y+F,Y.length?v-A.length:1/0),Y=""),p){case"<":F=R+F+A+Y;break;case"=":F=R+Y+F+A;break;case"^":F=Y.slice(0,G=Y.length>>1)+R+F+A+Y.slice(G);break;default:F=Y+R+F+A;break}return s(F)}return E.toString=function(){return f+""},E}function c(f,h){var p=l((f=Ci(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Pr(h)/3)))*3,d=Math.pow(10,-g),m=P1[8+g/3];return function(v){return p(d*v)+m}}return{format:l,formatPrefix:c}}var Qi,La,Au;r5({thousands:",",grouping:[3],currency:["$",""]});function r5(e){return Qi=n5(e),La=Qi.format,Au=Qi.formatPrefix,Qi}function i5(e){return Math.max(0,-Pr(Math.abs(e)))}function s5(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Pr(t)/3)))*3-Pr(Math.abs(e)))}function a5(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Pr(t)-Pr(e))+1}function o5(e,t,n,r){var i=K3(e,t,n),s;switch(r=Ci(r==null?",f":r),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=s5(i,a))&&(r.precision=s),Au(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=a5(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=i5(i))&&(r.precision=s-(r.type==="%")*2);break}}return La(r)}function Vu(e){var t=e.domain;return e.ticks=function(n){var r=t();return Ds(r[0],r[r.length-1],n==null?10:n)},e.tickFormat=function(n,r){var i=t();return o5(i[0],i[i.length-1],n==null?10:n,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,a=r[i],o=r[s],u,l,c=10;for(o<a&&(l=a,a=o,o=l,l=i,i=s,s=l);c-- >0;){if(l=wi(a,o,n),l===u)return r[i]=a,r[s]=o,t(r);if(l>0)a=Math.floor(a/l)*l,o=Math.ceil(o/l)*l;else if(l<0)a=Math.ceil(a*l)/l,o=Math.floor(o*l)/l;else break;u=l}return e},e}function Du(){var e=q6();return e.copy=function(){return Al(e,Du())},Ei.apply(e,arguments),Vu(e)}function l5(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),e[n]=t.floor(i),e[r]=t.ceil(s),e}function R1(e){return Math.log(e)}function I1(e){return Math.exp(e)}function c5(e){return-Math.log(-e)}function u5(e){return-Math.exp(-e)}function h5(e){return isFinite(e)?+("1e"+e):e<0?0:e}function f5(e){return e===10?h5:e===Math.E?Math.exp:t=>Math.pow(e,t)}function d5(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function E1(e){return(t,n)=>-e(-t,n)}function p5(e){const t=e(R1,I1),n=t.domain;let r=10,i,s;function a(){return i=d5(r),s=f5(r),n()[0]<0?(i=E1(i),s=E1(s),e(c5,u5)):e(R1,I1),t}return t.base=function(o){return arguments.length?(r=+o,a()):r},t.domain=function(o){return arguments.length?(n(o),a()):n()},t.ticks=o=>{const u=n();let l=u[0],c=u[u.length-1];const f=c<l;f&&([l,c]=[c,l]);let h=i(l),p=i(c),g,d;const m=o==null?10:+o;let v=[];if(!(r%1)&&p-h<m){if(h=Math.floor(h),p=Math.ceil(p),l>0){for(;h<=p;++h)for(g=1;g<r;++g)if(d=h<0?g/s(-h):g*s(h),!(d<l)){if(d>c)break;v.push(d)}}else for(;h<=p;++h)for(g=r-1;g>=1;--g)if(d=h>0?g/s(-h):g*s(h),!(d<l)){if(d>c)break;v.push(d)}v.length*2<m&&(v=Ds(l,c,m))}else v=Ds(h,p,Math.min(p-h,m)).map(s);return f?v.reverse():v},t.tickFormat=(o,u)=>{if(o==null&&(o=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Ci(u)).precision==null&&(u.trim=!0),u=La(u)),o===1/0)return u;const l=Math.max(1,r*o/t.ticks().length);return c=>{let f=c/s(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=l?u(c):""}},t.nice=()=>n(l5(n(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),t}function Nu(){const e=p5(Vl()).domain([1,10]);return e.copy=()=>Al(e,Nu()).base(e.base()),Ei.apply(e,arguments),e}function z1(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function g5(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function m5(e){return e<0?-e*e:e*e}function y5(e){var t=e(Xt,Xt),n=1;function r(){return n===1?e(Xt,Xt):n===.5?e(g5,m5):e(z1(n),z1(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Vu(t)}function Nl(){var e=y5(Vl());return e.copy=function(){return Al(e,Nl()).exponent(e.exponent())},Ei.apply(e,arguments),e}function w5(){return Nl.apply(null,arguments).exponent(.5)}var Oa=new Date,Ga=new Date;function fn(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=function(s){return e(s=new Date(+s)),s},i.ceil=function(s){return e(s=new Date(s-1)),t(s,1),e(s),s},i.round=function(s){var a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=function(s,a){return t(s=new Date(+s),a==null?1:Math.floor(a)),s},i.range=function(s,a,o){var u=[],l;if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return u;do u.push(l=new Date(+s)),t(s,o),e(s);while(l<s&&s<a);return u},i.filter=function(s){return fn(function(a){if(a>=a)for(;e(a),!s(a);)a.setTime(a-1)},function(a,o){if(a>=a)if(o<0)for(;++o<=0;)for(;t(a,-1),!s(a););else for(;--o>=0;)for(;t(a,1),!s(a););})},n&&(i.count=function(s,a){return Oa.setTime(+s),Ga.setTime(+a),e(Oa),e(Ga),Math.floor(n(Oa,Ga))},i.every=function(s){return s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?function(a){return r(a)%s===0}:function(a){return i.count(0,a)%s===0}):i}),i}const v5=1e3,Hl=v5*60,b5=Hl*60,Fl=b5*24,Hu=Fl*7;var Fu=fn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Hl)/Fl,e=>e.getDate()-1);const Pu=Fu;Fu.range;function rr(e){return fn(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n*7)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Hl)/Hu})}var Ru=rr(0),Rs=rr(1),C5=rr(2),S5=rr(3),Rr=rr(4),_5=rr(5),x5=rr(6);Ru.range;Rs.range;C5.range;S5.range;Rr.range;_5.range;x5.range;var Pl=fn(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});Pl.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:fn(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)})};const Si=Pl;Pl.range;var Iu=fn(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/Fl},function(e){return e.getUTCDate()-1});const Eu=Iu;Iu.range;function ir(e){return fn(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n*7)},function(t,n){return(n-t)/Hu})}var zu=ir(0),Is=ir(1),L5=ir(2),k5=ir(3),Ir=ir(4),T5=ir(5),M5=ir(6);zu.range;Is.range;L5.range;k5.range;Ir.range;T5.range;M5.range;var Rl=fn(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});Rl.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:fn(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})};const _i=Rl;Rl.range;function Ya(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ba(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ni(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function A5(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,a=e.shortDays,o=e.months,u=e.shortMonths,l=ri(i),c=ii(i),f=ri(s),h=ii(s),p=ri(a),g=ii(a),d=ri(o),m=ii(o),v=ri(u),S=ii(u),b={a:P,A:G,b:Y,B:U,c:null,d:U1,e:U1,f:K5,g:l4,G:u4,H:q5,I:J5,j:Q5,L:Wu,m:$5,M:e4,p:X,q:J,Q:X1,s:q1,S:t4,u:n4,U:r4,V:i4,w:s4,W:a4,x:null,X:null,y:o4,Y:c4,Z:h4,"%":j1},_={a:me,A:K,b:Q,B,c:null,d:Z1,e:Z1,f:g4,g:L4,G:T4,H:f4,I:d4,j:p4,L:Gu,m:m4,M:y4,p:ie,q:fe,Q:X1,s:q1,S:w4,u:v4,U:b4,V:C4,w:S4,W:_4,x:null,X:null,y:x4,Y:k4,Z:M4,"%":j1},k={a:E,A:F,b:R,B:A,c:C,d:Y1,e:Y1,f:U5,g:G1,G:O1,H:B1,I:B1,j:O5,L:B5,m:W5,M:G5,p:V,q:z5,Q:j5,s:X5,S:Y5,u:F5,U:P5,V:R5,w:H5,W:I5,x:T,X:D,y:G1,Y:O1,Z:E5,"%":Z5};b.x=H(n,b),b.X=H(r,b),b.c=H(t,b),_.x=H(n,_),_.X=H(r,_),_.c=H(t,_);function H(j,$){return function(oe){var O=[],we=-1,de=0,xe=j.length,Le,Z,ue;for(oe instanceof Date||(oe=new Date(+oe));++we<xe;)j.charCodeAt(we)===37&&(O.push(j.slice(de,we)),(Z=W1[Le=j.charAt(++we)])!=null?Le=j.charAt(++we):Z=Le==="e"?" ":"0",(ue=$[Le])&&(Le=ue(oe,Z)),O.push(Le),de=we+1);return O.push(j.slice(de,we)),O.join("")}}function I(j,$){return function(oe){var O=ni(1900,void 0,1),we=M(O,j,oe+="",0),de,xe;if(we!=oe.length)return null;if("Q"in O)return new Date(O.Q);if("s"in O)return new Date(O.s*1e3+("L"in O?O.L:0));if($&&!("Z"in O)&&(O.Z=0),"p"in O&&(O.H=O.H%12+O.p*12),O.m===void 0&&(O.m="q"in O?O.q:0),"V"in O){if(O.V<1||O.V>53)return null;"w"in O||(O.w=1),"Z"in O?(de=Ba(ni(O.y,0,1)),xe=de.getUTCDay(),de=xe>4||xe===0?Is.ceil(de):Is(de),de=Eu.offset(de,(O.V-1)*7),O.y=de.getUTCFullYear(),O.m=de.getUTCMonth(),O.d=de.getUTCDate()+(O.w+6)%7):(de=Ya(ni(O.y,0,1)),xe=de.getDay(),de=xe>4||xe===0?Rs.ceil(de):Rs(de),de=Pu.offset(de,(O.V-1)*7),O.y=de.getFullYear(),O.m=de.getMonth(),O.d=de.getDate()+(O.w+6)%7)}else("W"in O||"U"in O)&&("w"in O||(O.w="u"in O?O.u%7:"W"in O?1:0),xe="Z"in O?Ba(ni(O.y,0,1)).getUTCDay():Ya(ni(O.y,0,1)).getDay(),O.m=0,O.d="W"in O?(O.w+6)%7+O.W*7-(xe+5)%7:O.w+O.U*7-(xe+6)%7);return"Z"in O?(O.H+=O.Z/100|0,O.M+=O.Z%100,Ba(O)):Ya(O)}}function M(j,$,oe,O){for(var we=0,de=$.length,xe=oe.length,Le,Z;we<de;){if(O>=xe)return-1;if(Le=$.charCodeAt(we++),Le===37){if(Le=$.charAt(we++),Z=k[Le in W1?$.charAt(we++):Le],!Z||(O=Z(j,oe,O))<0)return-1}else if(Le!=oe.charCodeAt(O++))return-1}return O}function V(j,$,oe){var O=l.exec($.slice(oe));return O?(j.p=c.get(O[0].toLowerCase()),oe+O[0].length):-1}function E(j,$,oe){var O=p.exec($.slice(oe));return O?(j.w=g.get(O[0].toLowerCase()),oe+O[0].length):-1}function F(j,$,oe){var O=f.exec($.slice(oe));return O?(j.w=h.get(O[0].toLowerCase()),oe+O[0].length):-1}function R(j,$,oe){var O=v.exec($.slice(oe));return O?(j.m=S.get(O[0].toLowerCase()),oe+O[0].length):-1}function A(j,$,oe){var O=d.exec($.slice(oe));return O?(j.m=m.get(O[0].toLowerCase()),oe+O[0].length):-1}function C(j,$,oe){return M(j,t,$,oe)}function T(j,$,oe){return M(j,n,$,oe)}function D(j,$,oe){return M(j,r,$,oe)}function P(j){return a[j.getDay()]}function G(j){return s[j.getDay()]}function Y(j){return u[j.getMonth()]}function U(j){return o[j.getMonth()]}function X(j){return i[+(j.getHours()>=12)]}function J(j){return 1+~~(j.getMonth()/3)}function me(j){return a[j.getUTCDay()]}function K(j){return s[j.getUTCDay()]}function Q(j){return u[j.getUTCMonth()]}function B(j){return o[j.getUTCMonth()]}function ie(j){return i[+(j.getUTCHours()>=12)]}function fe(j){return 1+~~(j.getUTCMonth()/3)}return{format:function(j){var $=H(j+="",b);return $.toString=function(){return j},$},parse:function(j){var $=I(j+="",!1);return $.toString=function(){return j},$},utcFormat:function(j){var $=H(j+="",_);return $.toString=function(){return j},$},utcParse:function(j){var $=I(j+="",!0);return $.toString=function(){return j},$}}}var W1={"-":"",_:" ",0:"0"},We=/^\s*\d+/,V5=/^%/,D5=/[\\^$*+?|[\]().{}]/g;function Ce(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function N5(e){return e.replace(D5,"\\$&")}function ri(e){return new RegExp("^(?:"+e.map(N5).join("|")+")","i")}function ii(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function H5(e,t,n){var r=We.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function F5(e,t,n){var r=We.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function P5(e,t,n){var r=We.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function R5(e,t,n){var r=We.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function I5(e,t,n){var r=We.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function O1(e,t,n){var r=We.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function G1(e,t,n){var r=We.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function E5(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function z5(e,t,n){var r=We.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function W5(e,t,n){var r=We.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Y1(e,t,n){var r=We.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function O5(e,t,n){var r=We.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function B1(e,t,n){var r=We.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function G5(e,t,n){var r=We.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Y5(e,t,n){var r=We.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function B5(e,t,n){var r=We.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function U5(e,t,n){var r=We.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Z5(e,t,n){var r=V5.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function j5(e,t,n){var r=We.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function X5(e,t,n){var r=We.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function U1(e,t){return Ce(e.getDate(),t,2)}function q5(e,t){return Ce(e.getHours(),t,2)}function J5(e,t){return Ce(e.getHours()%12||12,t,2)}function Q5(e,t){return Ce(1+Pu.count(Si(e),e),t,3)}function Wu(e,t){return Ce(e.getMilliseconds(),t,3)}function K5(e,t){return Wu(e,t)+"000"}function $5(e,t){return Ce(e.getMonth()+1,t,2)}function e4(e,t){return Ce(e.getMinutes(),t,2)}function t4(e,t){return Ce(e.getSeconds(),t,2)}function n4(e){var t=e.getDay();return t===0?7:t}function r4(e,t){return Ce(Ru.count(Si(e)-1,e),t,2)}function Ou(e){var t=e.getDay();return t>=4||t===0?Rr(e):Rr.ceil(e)}function i4(e,t){return e=Ou(e),Ce(Rr.count(Si(e),e)+(Si(e).getDay()===4),t,2)}function s4(e){return e.getDay()}function a4(e,t){return Ce(Rs.count(Si(e)-1,e),t,2)}function o4(e,t){return Ce(e.getFullYear()%100,t,2)}function l4(e,t){return e=Ou(e),Ce(e.getFullYear()%100,t,2)}function c4(e,t){return Ce(e.getFullYear()%1e4,t,4)}function u4(e,t){var n=e.getDay();return e=n>=4||n===0?Rr(e):Rr.ceil(e),Ce(e.getFullYear()%1e4,t,4)}function h4(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ce(t/60|0,"0",2)+Ce(t%60,"0",2)}function Z1(e,t){return Ce(e.getUTCDate(),t,2)}function f4(e,t){return Ce(e.getUTCHours(),t,2)}function d4(e,t){return Ce(e.getUTCHours()%12||12,t,2)}function p4(e,t){return Ce(1+Eu.count(_i(e),e),t,3)}function Gu(e,t){return Ce(e.getUTCMilliseconds(),t,3)}function g4(e,t){return Gu(e,t)+"000"}function m4(e,t){return Ce(e.getUTCMonth()+1,t,2)}function y4(e,t){return Ce(e.getUTCMinutes(),t,2)}function w4(e,t){return Ce(e.getUTCSeconds(),t,2)}function v4(e){var t=e.getUTCDay();return t===0?7:t}function b4(e,t){return Ce(zu.count(_i(e)-1,e),t,2)}function Yu(e){var t=e.getUTCDay();return t>=4||t===0?Ir(e):Ir.ceil(e)}function C4(e,t){return e=Yu(e),Ce(Ir.count(_i(e),e)+(_i(e).getUTCDay()===4),t,2)}function S4(e){return e.getUTCDay()}function _4(e,t){return Ce(Is.count(_i(e)-1,e),t,2)}function x4(e,t){return Ce(e.getUTCFullYear()%100,t,2)}function L4(e,t){return e=Yu(e),Ce(e.getUTCFullYear()%100,t,2)}function k4(e,t){return Ce(e.getUTCFullYear()%1e4,t,4)}function T4(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Ir(e):Ir.ceil(e),Ce(e.getUTCFullYear()%1e4,t,4)}function M4(){return"+0000"}function j1(){return"%"}function X1(e){return+e}function q1(e){return Math.floor(+e/1e3)}var hr,Bu;A4({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function A4(e){return hr=A5(e),Bu=hr.format,hr.parse,hr.utcFormat,hr.utcParse,hr}function V4(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const D4=V4("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");Tu(Pn(-100,.75,.35),Pn(80,1.5,.8));Tu(Pn(260,.75,.35),Pn(80,1.5,.8));var Ki=Pn();function N4(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return Ki.h=360*e-100,Ki.s=1.5-1.5*t,Ki.l=.8-.9*t,Ki+""}var Er=0,ui=0,si=0,Uu=1e3,Es,hi,zs=0,nr=0,ka=0,xi=typeof performance=="object"&&performance.now?performance:Date,Zu=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Il(){return nr||(Zu(H4),nr=xi.now()+ka)}function H4(){nr=0}function Ws(){this._call=this._time=this._next=null}Ws.prototype=ju.prototype={constructor:Ws,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Il():+n)+(t==null?0:+t),!this._next&&hi!==this&&(hi?hi._next=this:Es=this,hi=this),this._call=e,this._time=n,yo()},stop:function(){this._call&&(this._call=null,this._time=1/0,yo())}};function ju(e,t,n){var r=new Ws;return r.restart(e,t,n),r}function F4(){Il(),++Er;for(var e=Es,t;e;)(t=nr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Er}function J1(){nr=(zs=xi.now())+ka,Er=ui=0;try{F4()}finally{Er=0,R4(),nr=0}}function P4(){var e=xi.now(),t=e-zs;t>Uu&&(ka-=t,zs=e)}function R4(){for(var e,t=Es,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Es=n);hi=e,yo(r)}function yo(e){if(!Er){ui&&(ui=clearTimeout(ui));var t=e-nr;t>24?(e<1/0&&(ui=setTimeout(J1,e-xi.now()-ka)),si&&(si=clearInterval(si))):(si||(zs=xi.now(),si=setInterval(P4,Uu)),Er=1,Zu(J1))}}function wo(e,t,n){var r=new Ws;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var I4={value:()=>{}};function Oi(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ps(n)}function ps(e){this._=e}function E4(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ps.prototype=Oi.prototype={constructor:ps,on:function(e,t){var n=this._,r=E4(e+"",n),i,s=-1,a=r.length;if(arguments.length<2){for(;++s<a;)if((i=(e=r[s]).type)&&(i=z4(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<a;)if(i=(e=r[s]).type)n[i]=Q1(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Q1(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ps(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function z4(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Q1(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=I4,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var W4=Oi("start","end","cancel","interrupt"),O4=[],Xu=0,K1=1,vo=2,gs=3,$1=4,bo=5,ms=6;function Ta(e,t,n,r,i,s){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;G4(e,n,{name:t,index:r,group:i,on:W4,tween:O4,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Xu})}function El(e,t){var n=zt(e,t);if(n.state>Xu)throw new Error("too late; already scheduled");return n}function Qt(e,t){var n=zt(e,t);if(n.state>gs)throw new Error("too late; already running");return n}function zt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function G4(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=ju(s,0,n.time);function s(l){n.state=K1,n.timer.restart(a,n.delay,n.time),n.delay<=l&&a(l-n.delay)}function a(l){var c,f,h,p;if(n.state!==K1)return u();for(c in r)if(p=r[c],p.name===n.name){if(p.state===gs)return wo(a);p.state===$1?(p.state=ms,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete r[c]):+c<t&&(p.state=ms,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete r[c])}if(wo(function(){n.state===gs&&(n.state=$1,n.timer.restart(o,n.delay,n.time),o(l))}),n.state=vo,n.on.call("start",e,e.__data__,n.index,n.group),n.state===vo){for(n.state=gs,i=new Array(h=n.tween.length),c=0,f=-1;c<h;++c)(p=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=p);i.length=f+1}}function o(l){for(var c=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=bo,1),f=-1,h=i.length;++f<h;)i[f].call(e,c);n.state===bo&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=ms,n.timer.stop(),delete r[t];for(var l in r)return;delete e.__transition}}function xr(e,t){var n=e.__transition,r,i,s=!0,a;if(!!n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){s=!1;continue}i=r.state>vo&&r.state<bo,r.state=ms,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}s&&delete e.__transition}}function Y4(e){return this.each(function(){xr(this,e)})}function B4(e,t){var n,r;return function(){var i=Qt(this,e),s=i.tween;if(s!==n){r=n=s;for(var a=0,o=r.length;a<o;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function U4(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Qt(this,e),a=s.tween;if(a!==r){i=(r=a).slice();for(var o={name:t,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===t){i[u]=o;break}u===l&&i.push(o)}s.tween=i}}function Z4(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=zt(this.node(),n).tween,i=0,s=r.length,a;i<s;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?B4:U4)(n,e,t))}function zl(e,t,n){var r=e._id;return e.each(function(){var i=Qt(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return zt(i,r).value[t]}}function qu(e,t){var n;return(typeof t=="number"?Rt:t instanceof Fn?Fs:(n=Fn(t))?(t=n,Fs):_u)(e,t)}function j4(e){return function(){this.removeAttribute(e)}}function X4(e){return function(){this.removeAttributeNS(e.space,e.local)}}function q4(e,t,n){var r,i=n+"",s;return function(){var a=this.getAttribute(e);return a===i?null:a===r?s:s=t(r=a,n)}}function J4(e,t,n){var r,i=n+"",s;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?s:s=t(r=a,n)}}function Q4(e,t,n){var r,i,s;return function(){var a,o=n(this),u;return o==null?void this.removeAttribute(e):(a=this.getAttribute(e),u=o+"",a===u?null:a===r&&u===i?s:(i=u,s=t(r=a,o)))}}function K4(e,t,n){var r,i,s;return function(){var a,o=n(this),u;return o==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),u=o+"",a===u?null:a===r&&u===i?s:(i=u,s=t(r=a,o)))}}function $4(e,t){var n=Sa(e),r=n==="transform"?E6:qu;return this.attrTween(e,typeof t=="function"?(n.local?K4:Q4)(n,r,zl(this,"attr."+e,t)):t==null?(n.local?X4:j4)(n):(n.local?J4:q4)(n,r,t))}function ef(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function tf(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function nf(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&tf(e,s)),n}return i._value=t,i}function rf(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&ef(e,s)),n}return i._value=t,i}function sf(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Sa(e);return this.tween(n,(r.local?nf:rf)(r,t))}function af(e,t){return function(){El(this,e).delay=+t.apply(this,arguments)}}function of(e,t){return t=+t,function(){El(this,e).delay=t}}function lf(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?af:of)(t,e)):zt(this.node(),t).delay}function cf(e,t){return function(){Qt(this,e).duration=+t.apply(this,arguments)}}function uf(e,t){return t=+t,function(){Qt(this,e).duration=t}}function hf(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?cf:uf)(t,e)):zt(this.node(),t).duration}function ff(e,t){if(typeof t!="function")throw new Error;return function(){Qt(this,e).ease=t}}function df(e){var t=this._id;return arguments.length?this.each(ff(t,e)):zt(this.node(),t).ease}function pf(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Qt(this,e).ease=n}}function gf(e){if(typeof e!="function")throw new Error;return this.each(pf(this._id,e))}function mf(e){typeof e!="function"&&(e=Qc(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],a=s.length,o=r[i]=[],u,l=0;l<a;++l)(u=s[l])&&e.call(u,u.__data__,l,s)&&o.push(u);return new hn(r,this._parents,this._name,this._id)}function yf(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),a=new Array(r),o=0;o<s;++o)for(var u=t[o],l=n[o],c=u.length,f=a[o]=new Array(c),h,p=0;p<c;++p)(h=u[p]||l[p])&&(f[p]=h);for(;o<r;++o)a[o]=t[o];return new hn(a,this._parents,this._name,this._id)}function wf(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function vf(e,t,n){var r,i,s=wf(t)?El:Qt;return function(){var a=s(this,e),o=a.on;o!==r&&(i=(r=o).copy()).on(t,n),a.on=i}}function bf(e,t){var n=this._id;return arguments.length<2?zt(this.node(),n).on.on(e):this.each(vf(n,e,t))}function Cf(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Sf(){return this.on("end.remove",Cf(this._id))}function _f(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Cl(e));for(var r=this._groups,i=r.length,s=new Array(i),a=0;a<i;++a)for(var o=r[a],u=o.length,l=s[a]=new Array(u),c,f,h=0;h<u;++h)(c=o[h])&&(f=e.call(c,c.__data__,h,o))&&("__data__"in c&&(f.__data__=c.__data__),l[h]=f,Ta(l[h],t,n,h,l,zt(c,n)));return new hn(s,this._parents,t,n)}function xf(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Jc(e));for(var r=this._groups,i=r.length,s=[],a=[],o=0;o<i;++o)for(var u=r[o],l=u.length,c,f=0;f<l;++f)if(c=u[f]){for(var h=e.call(c,c.__data__,f,u),p,g=zt(c,n),d=0,m=h.length;d<m;++d)(p=h[d])&&Ta(p,t,n,d,h,g);s.push(h),a.push(c)}return new hn(s,a,t,n)}var Lf=Yr.prototype.constructor;function kf(){return new Lf(this._groups,this._parents)}function Tf(e,t){var n,r,i;return function(){var s=Hr(this,e),a=(this.style.removeProperty(e),Hr(this,e));return s===a?null:s===n&&a===r?i:i=t(n=s,r=a)}}function Ju(e){return function(){this.style.removeProperty(e)}}function Mf(e,t,n){var r,i=n+"",s;return function(){var a=Hr(this,e);return a===i?null:a===r?s:s=t(r=a,n)}}function Af(e,t,n){var r,i,s;return function(){var a=Hr(this,e),o=n(this),u=o+"";return o==null&&(u=o=(this.style.removeProperty(e),Hr(this,e))),a===u?null:a===r&&u===i?s:(i=u,s=t(r=a,o))}}function Vf(e,t){var n,r,i,s="style."+t,a="end."+s,o;return function(){var u=Qt(this,e),l=u.on,c=u.value[s]==null?o||(o=Ju(t)):void 0;(l!==n||i!==c)&&(r=(n=l).copy()).on(a,i=c),u.on=r}}function Df(e,t,n){var r=(e+="")=="transform"?I6:qu;return t==null?this.styleTween(e,Tf(e,r)).on("end.style."+e,Ju(e)):typeof t=="function"?this.styleTween(e,Af(e,r,zl(this,"style."+e,t))).each(Vf(this._id,e)):this.styleTween(e,Mf(e,r,t),n).on("end.style."+e,null)}function Nf(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Hf(e,t,n){var r,i;function s(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&Nf(e,a,n)),r}return s._value=t,s}function Ff(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Hf(e,t,n==null?"":n))}function Pf(e){return function(){this.textContent=e}}function Rf(e){return function(){var t=e(this);this.textContent=t==null?"":t}}function If(e){return this.tween("text",typeof e=="function"?Rf(zl(this,"text",e)):Pf(e==null?"":e+""))}function Ef(e){return function(t){this.textContent=e.call(this,t)}}function zf(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Ef(i)),t}return r._value=e,r}function Wf(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,zf(e))}function Of(){for(var e=this._name,t=this._id,n=Ku(),r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],o=a.length,u,l=0;l<o;++l)if(u=a[l]){var c=zt(u,t);Ta(u,e,n,l,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new hn(r,this._parents,e,n)}function Gf(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,a){var o={value:a},u={value:function(){--i===0&&s()}};n.each(function(){var l=Qt(this,r),c=l.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(o),t._.interrupt.push(o),t._.end.push(u)),l.on=t}),i===0&&s()})}var Yf=0;function hn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Qu(e){return Yr().transition(e)}function Ku(){return++Yf}var sn=Yr.prototype;hn.prototype=Qu.prototype={constructor:hn,select:_f,selectAll:xf,selectChild:sn.selectChild,selectChildren:sn.selectChildren,filter:mf,merge:yf,selection:kf,transition:Of,call:sn.call,nodes:sn.nodes,node:sn.node,size:sn.size,empty:sn.empty,each:sn.each,on:bf,attr:$4,attrTween:sf,style:Df,styleTween:Ff,text:If,textTween:Wf,remove:Sf,tween:Z4,delay:lf,duration:hf,ease:df,easeVarying:gf,end:Gf,[Symbol.iterator]:sn[Symbol.iterator]};const Bf=e=>+e;function Uf(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function $u(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Wl=3;(function e(t){t=+t;function n(r){return Math.pow(r,t)}return n.exponent=e,n})(Wl);(function e(t){t=+t;function n(r){return 1-Math.pow(1-r,t)}return n.exponent=e,n})(Wl);var Zf=function e(t){t=+t;function n(r){return((r*=2)<=1?Math.pow(r,t):2-Math.pow(2-r,t))/2}return n.exponent=e,n}(Wl);function Os(e){return(Math.pow(2,-10*e)-.0009765625)*1.0009775171065494}var zr=2*Math.PI,Ol=1,Gl=.3;(function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=zr);function i(s){return t*Os(- --s)*Math.sin((r-s)/n)}return i.amplitude=function(s){return e(s,n*zr)},i.period=function(s){return e(t,s)},i})(Ol,Gl);var jf=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=zr);function i(s){return 1-t*Os(s=+s)*Math.sin((s+r)/n)}return i.amplitude=function(s){return e(s,n*zr)},i.period=function(s){return e(t,s)},i}(Ol,Gl);(function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=zr);function i(s){return((s=s*2-1)<0?t*Os(-s)*Math.sin((r-s)/n):2-t*Os(s)*Math.sin((r+s)/n))/2}return i.amplitude=function(s){return e(s,n*zr)},i.period=function(s){return e(t,s)},i})(Ol,Gl);var Xf={time:null,delay:0,duration:250,ease:$u};function qf(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Jf(e){var t,n;e instanceof hn?(t=e._id,e=e._name):(t=Ku(),(n=Xf).time=Il(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],o=a.length,u,l=0;l<o;++l)(u=a[l])&&Ta(u,e,t,l,a,n||qf(u,t));return new hn(r,this._parents,e,t)}Yr.prototype.interrupt=Y4;Yr.prototype.transition=Jf;function Qf(e){return e}var Ua=1,Za=2,Co=3,fi=4,ec=1e-6;function Kf(e){return"translate("+e+",0)"}function $f(e){return"translate(0,"+e+")"}function e8(e){return t=>+e(t)}function t8(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function n8(){return!this.__axis}function e2(e,t){var n=[],r=null,i=null,s=6,a=6,o=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=e===Ua||e===fi?-1:1,c=e===fi||e===Za?"x":"y",f=e===Ua||e===Co?Kf:$f;function h(p){var g=r==null?t.ticks?t.ticks.apply(t,n):t.domain():r,d=i==null?t.tickFormat?t.tickFormat.apply(t,n):Qf:i,m=Math.max(s,0)+o,v=t.range(),S=+v[0]+u,b=+v[v.length-1]+u,_=(t.bandwidth?t8:e8)(t.copy(),u),k=p.selection?p.selection():p,H=k.selectAll(".domain").data([null]),I=k.selectAll(".tick").data(g,t).order(),M=I.exit(),V=I.enter().append("g").attr("class","tick"),E=I.select("line"),F=I.select("text");H=H.merge(H.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),I=I.merge(V),E=E.merge(V.append("line").attr("stroke","currentColor").attr(c+"2",l*s)),F=F.merge(V.append("text").attr("fill","currentColor").attr(c,l*m).attr("dy",e===Ua?"0em":e===Co?"0.71em":"0.32em")),p!==k&&(H=H.transition(p),I=I.transition(p),E=E.transition(p),F=F.transition(p),M=M.transition(p).attr("opacity",ec).attr("transform",function(R){return isFinite(R=_(R))?f(R+u):this.getAttribute("transform")}),V.attr("opacity",ec).attr("transform",function(R){var A=this.parentNode.__axis;return f((A&&isFinite(A=A(R))?A:_(R))+u)})),M.remove(),H.attr("d",e===fi||e===Za?a?"M"+l*a+","+S+"H"+u+"V"+b+"H"+l*a:"M"+u+","+S+"V"+b:a?"M"+S+","+l*a+"V"+u+"H"+b+"V"+l*a:"M"+S+","+u+"H"+b),I.attr("opacity",1).attr("transform",function(R){return f(_(R)+u)}),E.attr(c+"2",l*s),F.attr(c,l*m).text(d),k.filter(n8).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Za?"start":e===fi?"end":"middle"),k.each(function(){this.__axis=_})}return h.scale=function(p){return arguments.length?(t=p,h):t},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(p){return arguments.length?(n=p==null?[]:Array.from(p),h):n.slice()},h.tickValues=function(p){return arguments.length?(r=p==null?null:Array.from(p),h):r&&r.slice()},h.tickFormat=function(p){return arguments.length?(i=p,h):i},h.tickSize=function(p){return arguments.length?(s=a=+p,h):s},h.tickSizeInner=function(p){return arguments.length?(s=+p,h):s},h.tickSizeOuter=function(p){return arguments.length?(a=+p,h):a},h.tickPadding=function(p){return arguments.length?(o=+p,h):o},h.offset=function(p){return arguments.length?(u=+p,h):u},h}function r8(e){return e2(Co,e)}function i8(e){return e2(fi,e)}const So=Math.PI,_o=2*So,Xn=1e-6,s8=_o-Xn;function xo(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Gi(){return new xo}xo.prototype=Gi.prototype={constructor:xo,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,s){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+s)},arcTo:function(e,t,n,r,i){e=+e,t=+t,n=+n,r=+r,i=+i;var s=this._x1,a=this._y1,o=n-e,u=r-t,l=s-e,c=a-t,f=l*l+c*c;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>Xn)if(!(Math.abs(c*o-u*l)>Xn)||!i)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var h=n-s,p=r-a,g=o*o+u*u,d=h*h+p*p,m=Math.sqrt(g),v=Math.sqrt(f),S=i*Math.tan((So-Math.acos((g+f-d)/(2*m*v)))/2),b=S/v,_=S/m;Math.abs(b-1)>Xn&&(this._+="L"+(e+b*l)+","+(t+b*c)),this._+="A"+i+","+i+",0,0,"+ +(c*h>l*p)+","+(this._x1=e+_*o)+","+(this._y1=t+_*u)}},arc:function(e,t,n,r,i,s){e=+e,t=+t,n=+n,s=!!s;var a=n*Math.cos(r),o=n*Math.sin(r),u=e+a,l=t+o,c=1^s,f=s?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+u+","+l:(Math.abs(this._x1-u)>Xn||Math.abs(this._y1-l)>Xn)&&(this._+="L"+u+","+l),n&&(f<0&&(f=f%_o+_o),f>s8?this._+="A"+n+","+n+",0,1,"+c+","+(e-a)+","+(t-o)+"A"+n+","+n+",0,1,"+c+","+(this._x1=u)+","+(this._y1=l):f>Xn&&(this._+="A"+n+","+n+",0,"+ +(f>=So)+","+c+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function qe(e){return function(){return e}}const tc=Math.abs,Ze=Math.atan2,jn=Math.cos,a8=Math.max,ja=Math.min,Ut=Math.sin,vr=Math.sqrt,ht=1e-12,Li=Math.PI,Gs=Li/2,o8=2*Li;function l8(e){return e>1?0:e<-1?Li:Math.acos(e)}function nc(e){return e>=1?Gs:e<=-1?-Gs:Math.asin(e)}function c8(e){return e.innerRadius}function u8(e){return e.outerRadius}function h8(e){return e.startAngle}function f8(e){return e.endAngle}function d8(e){return e&&e.padAngle}function p8(e,t,n,r,i,s,a,o){var u=n-e,l=r-t,c=a-i,f=o-s,h=f*u-c*l;if(!(h*h<ht))return h=(c*(t-s)-f*(e-i))/h,[e+h*u,t+h*l]}function $i(e,t,n,r,i,s,a){var o=e-n,u=t-r,l=(a?s:-s)/vr(o*o+u*u),c=l*u,f=-l*o,h=e+c,p=t+f,g=n+c,d=r+f,m=(h+g)/2,v=(p+d)/2,S=g-h,b=d-p,_=S*S+b*b,k=i-s,H=h*d-g*p,I=(b<0?-1:1)*vr(a8(0,k*k*_-H*H)),M=(H*b-S*I)/_,V=(-H*S-b*I)/_,E=(H*b+S*I)/_,F=(-H*S+b*I)/_,R=M-m,A=V-v,C=E-m,T=F-v;return R*R+A*A>C*C+T*T&&(M=E,V=F),{cx:M,cy:V,x01:-c,y01:-f,x11:M*(i/k-1),y11:V*(i/k-1)}}function g8(){var e=c8,t=u8,n=qe(0),r=null,i=h8,s=f8,a=d8,o=null;function u(){var l,c,f=+e.apply(this,arguments),h=+t.apply(this,arguments),p=i.apply(this,arguments)-Gs,g=s.apply(this,arguments)-Gs,d=tc(g-p),m=g>p;if(o||(o=l=Gi()),h<f&&(c=h,h=f,f=c),!(h>ht))o.moveTo(0,0);else if(d>o8-ht)o.moveTo(h*jn(p),h*Ut(p)),o.arc(0,0,h,p,g,!m),f>ht&&(o.moveTo(f*jn(g),f*Ut(g)),o.arc(0,0,f,g,p,m));else{var v=p,S=g,b=p,_=g,k=d,H=d,I=a.apply(this,arguments)/2,M=I>ht&&(r?+r.apply(this,arguments):vr(f*f+h*h)),V=ja(tc(h-f)/2,+n.apply(this,arguments)),E=V,F=V,R,A;if(M>ht){var C=nc(M/f*Ut(I)),T=nc(M/h*Ut(I));(k-=C*2)>ht?(C*=m?1:-1,b+=C,_-=C):(k=0,b=_=(p+g)/2),(H-=T*2)>ht?(T*=m?1:-1,v+=T,S-=T):(H=0,v=S=(p+g)/2)}var D=h*jn(v),P=h*Ut(v),G=f*jn(_),Y=f*Ut(_);if(V>ht){var U=h*jn(S),X=h*Ut(S),J=f*jn(b),me=f*Ut(b),K;if(d<Li&&(K=p8(D,P,J,me,U,X,G,Y))){var Q=D-K[0],B=P-K[1],ie=U-K[0],fe=X-K[1],j=1/Ut(l8((Q*ie+B*fe)/(vr(Q*Q+B*B)*vr(ie*ie+fe*fe)))/2),$=vr(K[0]*K[0]+K[1]*K[1]);E=ja(V,(f-$)/(j-1)),F=ja(V,(h-$)/(j+1))}}H>ht?F>ht?(R=$i(J,me,D,P,h,F,m),A=$i(U,X,G,Y,h,F,m),o.moveTo(R.cx+R.x01,R.cy+R.y01),F<V?o.arc(R.cx,R.cy,F,Ze(R.y01,R.x01),Ze(A.y01,A.x01),!m):(o.arc(R.cx,R.cy,F,Ze(R.y01,R.x01),Ze(R.y11,R.x11),!m),o.arc(0,0,h,Ze(R.cy+R.y11,R.cx+R.x11),Ze(A.cy+A.y11,A.cx+A.x11),!m),o.arc(A.cx,A.cy,F,Ze(A.y11,A.x11),Ze(A.y01,A.x01),!m))):(o.moveTo(D,P),o.arc(0,0,h,v,S,!m)):o.moveTo(D,P),!(f>ht)||!(k>ht)?o.lineTo(G,Y):E>ht?(R=$i(G,Y,U,X,f,-E,m),A=$i(D,P,J,me,f,-E,m),o.lineTo(R.cx+R.x01,R.cy+R.y01),E<V?o.arc(R.cx,R.cy,E,Ze(R.y01,R.x01),Ze(A.y01,A.x01),!m):(o.arc(R.cx,R.cy,E,Ze(R.y01,R.x01),Ze(R.y11,R.x11),!m),o.arc(0,0,f,Ze(R.cy+R.y11,R.cx+R.x11),Ze(A.cy+A.y11,A.cx+A.x11),m),o.arc(A.cx,A.cy,E,Ze(A.y11,A.x11),Ze(A.y01,A.x01),!m))):o.arc(0,0,f,_,b,m)}if(o.closePath(),l)return o=null,l+""||null}return u.centroid=function(){var l=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,c=(+i.apply(this,arguments)+ +s.apply(this,arguments))/2-Li/2;return[jn(c)*l,Ut(c)*l]},u.innerRadius=function(l){return arguments.length?(e=typeof l=="function"?l:qe(+l),u):e},u.outerRadius=function(l){return arguments.length?(t=typeof l=="function"?l:qe(+l),u):t},u.cornerRadius=function(l){return arguments.length?(n=typeof l=="function"?l:qe(+l),u):n},u.padRadius=function(l){return arguments.length?(r=l==null?null:typeof l=="function"?l:qe(+l),u):r},u.startAngle=function(l){return arguments.length?(i=typeof l=="function"?l:qe(+l),u):i},u.endAngle=function(l){return arguments.length?(s=typeof l=="function"?l:qe(+l),u):s},u.padAngle=function(l){return arguments.length?(a=typeof l=="function"?l:qe(+l),u):a},u.context=function(l){return arguments.length?(o=l==null?null:l,u):o},u}var m8=Array.prototype.slice;function y8(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function t2(e){this._context=e}t2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function w8(e){return new t2(e)}function n2(e){return e[0]}function r2(e){return e[1]}function v8(e,t){var n=qe(!0),r=null,i=w8,s=null;e=typeof e=="function"?e:e===void 0?n2:qe(e),t=typeof t=="function"?t:t===void 0?r2:qe(t);function a(o){var u,l=(o=y8(o)).length,c,f=!1,h;for(r==null&&(s=i(h=Gi())),u=0;u<=l;++u)!(u<l&&n(c=o[u],u,o))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+e(c,u,o),+t(c,u,o));if(h)return s=null,h+""||null}return a.x=function(o){return arguments.length?(e=typeof o=="function"?o:qe(+o),a):e},a.y=function(o){return arguments.length?(t=typeof o=="function"?o:qe(+o),a):t},a.defined=function(o){return arguments.length?(n=typeof o=="function"?o:qe(!!o),a):n},a.curve=function(o){return arguments.length?(i=o,r!=null&&(s=i(r)),a):i},a.context=function(o){return arguments.length?(o==null?r=s=null:s=i(r=o),a):r},a}class i2{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function b8(e){return new i2(e,!0)}function C8(e){return new i2(e,!1)}function S8(e){return e.source}function _8(e){return e.target}function s2(e){let t=S8,n=_8,r=n2,i=r2,s=null,a=null;function o(){let u;const l=m8.call(arguments),c=t.apply(this,l),f=n.apply(this,l);if(s==null&&(a=e(u=Gi())),a.lineStart(),l[0]=c,a.point(+r.apply(this,l),+i.apply(this,l)),l[0]=f,a.point(+r.apply(this,l),+i.apply(this,l)),a.lineEnd(),u)return a=null,u+""||null}return o.source=function(u){return arguments.length?(t=u,o):t},o.target=function(u){return arguments.length?(n=u,o):n},o.x=function(u){return arguments.length?(r=typeof u=="function"?u:qe(+u),o):r},o.y=function(u){return arguments.length?(i=typeof u=="function"?u:qe(+u),o):i},o.context=function(u){return arguments.length?(u==null?s=a=null:a=e(s=u),o):s},o}function x8(){return s2(b8)}function L8(){return s2(C8)}function rc(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function a2(e){this._context=e}a2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:rc(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:rc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function k8(e){return new a2(e)}function ic(e){return e<0?-1:1}function sc(e,t,n){var r=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),o=(s*i+a*r)/(r+i);return(ic(s)+ic(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function ac(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Xa(e,t,n){var r=e._x0,i=e._y0,s=e._x1,a=e._y1,o=(s-r)/3;e._context.bezierCurveTo(r+o,i+o*t,s-o,a-o*n,s,a)}function Ys(e){this._context=e}Ys.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Xa(this,this._t0,ac(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Xa(this,ac(this,n=sc(this,e,t)),n);break;default:Xa(this,this._t0,n=sc(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function o2(e){this._context=new l2(e)}(o2.prototype=Object.create(Ys.prototype)).point=function(e,t){Ys.prototype.point.call(this,t,e)};function l2(e){this._context=e}l2.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,s){this._context.bezierCurveTo(t,e,r,n,s,i)}};function T8(e){return new Ys(e)}function M8(e){return new o2(e)}function c2(e,t){this._context=e,this._t=t}c2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function A8(e){return new c2(e,1)}function V8(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function D8(){return this.eachAfter(V8)}function N8(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function H8(e,t){for(var n=this,r=[n],i,s,a=-1;n=r.pop();)if(e.call(t,n,++a,this),i=n.children)for(s=i.length-1;s>=0;--s)r.push(i[s]);return this}function F8(e,t){for(var n=this,r=[n],i=[],s,a,o,u=-1;n=r.pop();)if(i.push(n),s=n.children)for(a=0,o=s.length;a<o;++a)r.push(s[a]);for(;n=i.pop();)e.call(t,n,++u,this);return this}function P8(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function R8(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function I8(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function E8(e){for(var t=this,n=z8(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function z8(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function W8(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function O8(){return Array.from(this)}function G8(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function Y8(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*B8(){var e=this,t,n=[e],r,i,s;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,s=r.length;i<s;++i)n.push(r[i]);while(n.length)}function Yl(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=j8)):t===void 0&&(t=Z8);for(var n=new ki(e),r,i=[n],s,a,o,u;r=i.pop();)if((a=t(r.data))&&(u=(a=Array.from(a)).length))for(r.children=a,o=u-1;o>=0;--o)i.push(s=a[o]=new ki(a[o])),s.parent=r,s.depth=r.depth+1;return n.eachBefore(q8)}function U8(){return Yl(this).eachBefore(X8)}function Z8(e){return e.children}function j8(e){return Array.isArray(e)?e[1]:null}function X8(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function q8(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function ki(e){this.data=e,this.depth=this.height=0,this.parent=null}ki.prototype=Yl.prototype={constructor:ki,count:D8,each:N8,eachAfter:F8,eachBefore:H8,find:P8,sum:R8,sort:I8,path:E8,ancestors:W8,descendants:O8,leaves:G8,links:Y8,copy:U8,[Symbol.iterator]:B8};function J8(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function Q8(e,t,n,r,i){for(var s=e.children,a,o=-1,u=s.length,l=e.value&&(r-t)/e.value;++o<u;)a=s[o],a.y0=n,a.y1=i,a.x0=t,a.x1=t+=a.value*l}function K8(){var e=1,t=1,n=0,r=!1;function i(a){var o=a.height+1;return a.x0=a.y0=n,a.x1=e,a.y1=t/o,a.eachBefore(s(t,o)),r&&a.eachBefore(J8),a}function s(a,o){return function(u){u.children&&Q8(u,u.x0,a*(u.depth+1)/o,u.x1,a*(u.depth+2)/o);var l=u.x0,c=u.y0,f=u.x1-n,h=u.y1-n;f<l&&(l=f=(l+f)/2),h<c&&(c=h=(c+h)/2),u.x0=l,u.y0=c,u.x1=f,u.y1=h}}return i.round=function(a){return arguments.length?(r=!!a,i):r},i.size=function(a){return arguments.length?(e=+a[0],t=+a[1],i):[e,t]},i.padding=function(a){return arguments.length?(n=+a,i):n},i}function $8(e,t){return e.parent===t.parent?1:2}function qa(e){var t=e.children;return t?t[0]:e.t}function Ja(e){var t=e.children;return t?t[t.length-1]:e.t}function e7(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function t7(e){for(var t=0,n=0,r=e.children,i=r.length,s;--i>=0;)s=r[i],s.z+=t,s.m+=t,t+=s.s+(n+=s.c)}function n7(e,t,n){return e.a.parent===t.parent?e.a:n}function ys(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}ys.prototype=Object.create(ki.prototype);function r7(e){for(var t=new ys(e,0),n,r=[t],i,s,a,o;n=r.pop();)if(s=n._.children)for(n.children=new Array(o=s.length),a=o-1;a>=0;--a)r.push(i=n.children[a]=new ys(s[a],a)),i.parent=n;return(t.parent=new ys(null,0)).children=[t],t}function i7(){var e=$8,t=1,n=1,r=null;function i(l){var c=r7(l);if(c.eachAfter(s),c.parent.m=-c.z,c.eachBefore(a),r)l.eachBefore(u);else{var f=l,h=l,p=l;l.eachBefore(function(S){S.x<f.x&&(f=S),S.x>h.x&&(h=S),S.depth>p.depth&&(p=S)});var g=f===h?1:e(f,h)/2,d=g-f.x,m=t/(h.x+g+d),v=n/(p.depth||1);l.eachBefore(function(S){S.x=(S.x+d)*m,S.y=S.depth*v})}return l}function s(l){var c=l.children,f=l.parent.children,h=l.i?f[l.i-1]:null;if(c){t7(l);var p=(c[0].z+c[c.length-1].z)/2;h?(l.z=h.z+e(l._,h._),l.m=l.z-p):l.z=p}else h&&(l.z=h.z+e(l._,h._));l.parent.A=o(l,h,l.parent.A||f[0])}function a(l){l._.x=l.z+l.parent.m,l.m+=l.parent.m}function o(l,c,f){if(c){for(var h=l,p=l,g=c,d=h.parent.children[0],m=h.m,v=p.m,S=g.m,b=d.m,_;g=Ja(g),h=qa(h),g&&h;)d=qa(d),p=Ja(p),p.a=l,_=g.z+S-h.z-m+e(g._,h._),_>0&&(e7(n7(g,l,f),l,_),m+=_,v+=_),S+=g.m,m+=h.m,b+=d.m,v+=p.m;g&&!Ja(p)&&(p.t=g,p.m+=S-v),h&&!qa(d)&&(d.t=h,d.m+=m-b,f=l)}return f}function u(l){l.x*=t,l.y=l.depth*n}return i.separation=function(l){return arguments.length?(e=l,i):e},i.size=function(l){return arguments.length?(r=!1,t=+l[0],n=+l[1],i):r?null:[t,n]},i.nodeSize=function(l){return arguments.length?(r=!0,t=+l[0],n=+l[1],i):r?[t,n]:null},i}const s7={passive:!1},Ti={capture:!0,passive:!1};function Qa(e){e.stopImmediatePropagation()}function Lr(e){e.preventDefault(),e.stopImmediatePropagation()}function Bl(e){var t=e.document.documentElement,n=$e(e).on("dragstart.drag",Lr,Ti);"onselectstart"in t?n.on("selectstart.drag",Lr,Ti):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Ul(e,t){var n=e.document.documentElement,r=$e(e).on("dragstart.drag",null);t&&(r.on("click.drag",Lr,Ti),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const es=e=>()=>e;function Lo(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:s,x:a,y:o,dx:u,dy:l,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:c}})}Lo.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function a7(e){return!e.ctrlKey&&!e.button}function o7(){return this.parentNode}function l7(e,t){return t==null?{x:e.x,y:e.y}:t}function c7(){return navigator.maxTouchPoints||"ontouchstart"in this}function u7(){var e=a7,t=o7,n=l7,r=c7,i={},s=Oi("start","drag","end"),a=0,o,u,l,c,f=0;function h(_){_.on("mousedown.drag",p).filter(r).on("touchstart.drag",m).on("touchmove.drag",v,s7).on("touchend.drag touchcancel.drag",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(_,k){if(!(c||!e.call(this,_,k))){var H=b(this,t.call(this,_,k),_,k,"mouse");!H||($e(_.view).on("mousemove.drag",g,Ti).on("mouseup.drag",d,Ti),Bl(_.view),Qa(_),l=!1,o=_.clientX,u=_.clientY,H("start",_))}}function g(_){if(Lr(_),!l){var k=_.clientX-o,H=_.clientY-u;l=k*k+H*H>f}i.mouse("drag",_)}function d(_){$e(_.view).on("mousemove.drag mouseup.drag",null),Ul(_.view,l),Lr(_),i.mouse("end",_)}function m(_,k){if(!!e.call(this,_,k)){var H=_.changedTouches,I=t.call(this,_,k),M=H.length,V,E;for(V=0;V<M;++V)(E=b(this,I,_,k,H[V].identifier,H[V]))&&(Qa(_),E("start",_,H[V]))}}function v(_){var k=_.changedTouches,H=k.length,I,M;for(I=0;I<H;++I)(M=i[k[I].identifier])&&(Lr(_),M("drag",_,k[I]))}function S(_){var k=_.changedTouches,H=k.length,I,M;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),I=0;I<H;++I)(M=i[k[I].identifier])&&(Qa(_),M("end",_,k[I]))}function b(_,k,H,I,M,V){var E=s.copy(),F=Pt(V||H,k),R,A,C;if((C=n.call(_,new Lo("beforestart",{sourceEvent:H,target:h,identifier:M,active:a,x:F[0],y:F[1],dx:0,dy:0,dispatch:E}),I))!=null)return R=C.x-F[0]||0,A=C.y-F[1]||0,function T(D,P,G){var Y=F,U;switch(D){case"start":i[M]=T,U=a++;break;case"end":delete i[M],--a;case"drag":F=Pt(G||P,k),U=a;break}E.call(D,_,new Lo(D,{sourceEvent:P,subject:C,target:h,identifier:M,active:U,x:F[0]+R,y:F[1]+A,dx:F[0]-Y[0],dy:F[1]-Y[1],dispatch:E}),I)}}return h.filter=function(_){return arguments.length?(e=typeof _=="function"?_:es(!!_),h):e},h.container=function(_){return arguments.length?(t=typeof _=="function"?_:es(_),h):t},h.subject=function(_){return arguments.length?(n=typeof _=="function"?_:es(_),h):n},h.touchable=function(_){return arguments.length?(r=typeof _=="function"?_:es(!!_),h):r},h.on=function(){var _=s.on.apply(s,arguments);return _===s?h:_},h.clickDistance=function(_){return arguments.length?(f=(_=+_)*_,h):Math.sqrt(f)},h}const Ka=e=>()=>e;function h7(e,{sourceEvent:t,target:n,selection:r,mode:i,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:s}})}function f7(e){e.stopImmediatePropagation()}function $a(e){e.preventDefault(),e.stopImmediatePropagation()}var oc={name:"drag"},eo={name:"space"},fr={name:"handle"},dr={name:"center"};const{abs:lc,max:je,min:Xe}=Math;function cc(e){return[+e[0],+e[1]]}function ko(e){return[cc(e[0]),cc(e[1])]}var to={name:"x",handles:["w","e"].map(Mi),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},no={name:"y",handles:["n","s"].map(Mi),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},d7={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Mi),input:function(e){return e==null?null:ko(e)},output:function(e){return e}},an={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},uc={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},hc={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},p7={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},g7={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Mi(e){return{type:e}}function m7(e){return!e.ctrlKey&&!e.button}function y7(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function w7(){return navigator.maxTouchPoints||"ontouchstart"in this}function ro(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function v7(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function b7(){return C7(d7)}function C7(e){var t=y7,n=m7,r=w7,i=!0,s=Oi("start","brush","end"),a=6,o;function u(m){var v=m.property("__brush",d).selectAll(".overlay").data([Mi("overlay")]);v.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",an.overlay).merge(v).each(function(){var b=ro(this).extent;$e(this).attr("x",b[0][0]).attr("y",b[0][1]).attr("width",b[1][0]-b[0][0]).attr("height",b[1][1]-b[0][1])}),m.selectAll(".selection").data([Mi("selection")]).enter().append("rect").attr("class","selection").attr("cursor",an.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var S=m.selectAll(".handle").data(e.handles,function(b){return b.type});S.exit().remove(),S.enter().append("rect").attr("class",function(b){return"handle handle--"+b.type}).attr("cursor",function(b){return an[b.type]}),m.each(l).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(r).on("touchstart.brush",h).on("touchmove.brush",p).on("touchend.brush touchcancel.brush",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}u.move=function(m,v,S){m.tween?m.on("start.brush",function(b){c(this,arguments).beforestart().start(b)}).on("interrupt.brush end.brush",function(b){c(this,arguments).end(b)}).tween("brush",function(){var b=this,_=b.__brush,k=c(b,arguments),H=_.selection,I=e.input(typeof v=="function"?v.apply(this,arguments):v,_.extent),M=Wi(H,I);function V(E){_.selection=E===1&&I===null?null:M(E),l.call(b),k.brush()}return H!==null&&I!==null?V:V(1)}):m.each(function(){var b=this,_=arguments,k=b.__brush,H=e.input(typeof v=="function"?v.apply(b,_):v,k.extent),I=c(b,_).beforestart();xr(b),k.selection=H===null?null:H,l.call(b),I.start(S).brush(S).end(S)})},u.clear=function(m,v){u.move(m,null,v)};function l(){var m=$e(this),v=ro(this).selection;v?(m.selectAll(".selection").style("display",null).attr("x",v[0][0]).attr("y",v[0][1]).attr("width",v[1][0]-v[0][0]).attr("height",v[1][1]-v[0][1]),m.selectAll(".handle").style("display",null).attr("x",function(S){return S.type[S.type.length-1]==="e"?v[1][0]-a/2:v[0][0]-a/2}).attr("y",function(S){return S.type[0]==="s"?v[1][1]-a/2:v[0][1]-a/2}).attr("width",function(S){return S.type==="n"||S.type==="s"?v[1][0]-v[0][0]+a:a}).attr("height",function(S){return S.type==="e"||S.type==="w"?v[1][1]-v[0][1]+a:a})):m.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(m,v,S){var b=m.__brush.emitter;return b&&(!S||!b.clean)?b:new f(m,v,S)}function f(m,v,S){this.that=m,this.args=v,this.state=m.__brush,this.active=0,this.clean=S}f.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(m,v){return this.starting?(this.starting=!1,this.emit("start",m,v)):this.emit("brush",m),this},brush:function(m,v){return this.emit("brush",m,v),this},end:function(m,v){return--this.active===0&&(delete this.state.emitter,this.emit("end",m,v)),this},emit:function(m,v,S){var b=$e(this.that).datum();s.call(m,this.that,new h7(m,{sourceEvent:v,target:u,selection:e.output(this.state.selection),mode:S,dispatch:s}),b)}};function h(m){if(o&&!m.touches||!n.apply(this,arguments))return;var v=this,S=m.target.__data__.type,b=(i&&m.metaKey?S="overlay":S)==="selection"?oc:i&&m.altKey?dr:fr,_=e===no?null:p7[S],k=e===to?null:g7[S],H=ro(v),I=H.extent,M=H.selection,V=I[0][0],E,F,R=I[0][1],A,C,T=I[1][0],D,P,G=I[1][1],Y,U,X=0,J=0,me,K=_&&k&&i&&m.shiftKey,Q,B,ie=Array.from(m.touches||[m],Z=>{const ue=Z.identifier;return Z=Pt(Z,v),Z.point0=Z.slice(),Z.identifier=ue,Z});xr(v);var fe=c(v,arguments,!0).beforestart();if(S==="overlay"){M&&(me=!0);const Z=[ie[0],ie[1]||ie[0]];H.selection=M=[[E=e===no?V:Xe(Z[0][0],Z[1][0]),A=e===to?R:Xe(Z[0][1],Z[1][1])],[D=e===no?T:je(Z[0][0],Z[1][0]),Y=e===to?G:je(Z[0][1],Z[1][1])]],ie.length>1&&we(m)}else E=M[0][0],A=M[0][1],D=M[1][0],Y=M[1][1];F=E,C=A,P=D,U=Y;var j=$e(v).attr("pointer-events","none"),$=j.selectAll(".overlay").attr("cursor",an[S]);if(m.touches)fe.moved=O,fe.ended=de;else{var oe=$e(m.view).on("mousemove.brush",O,!0).on("mouseup.brush",de,!0);i&&oe.on("keydown.brush",xe,!0).on("keyup.brush",Le,!0),Bl(m.view)}l.call(v),fe.start(m,b.name);function O(Z){for(const ue of Z.changedTouches||[Z])for(const He of ie)He.identifier===ue.identifier&&(He.cur=Pt(ue,v));if(K&&!Q&&!B&&ie.length===1){const ue=ie[0];lc(ue.cur[0]-ue[0])>lc(ue.cur[1]-ue[1])?B=!0:Q=!0}for(const ue of ie)ue.cur&&(ue[0]=ue.cur[0],ue[1]=ue.cur[1]);me=!0,$a(Z),we(Z)}function we(Z){const ue=ie[0],He=ue.point0;var ke;switch(X=ue[0]-He[0],J=ue[1]-He[1],b){case eo:case oc:{_&&(X=je(V-E,Xe(T-D,X)),F=E+X,P=D+X),k&&(J=je(R-A,Xe(G-Y,J)),C=A+J,U=Y+J);break}case fr:{ie[1]?(_&&(F=je(V,Xe(T,ie[0][0])),P=je(V,Xe(T,ie[1][0])),_=1),k&&(C=je(R,Xe(G,ie[0][1])),U=je(R,Xe(G,ie[1][1])),k=1)):(_<0?(X=je(V-E,Xe(T-E,X)),F=E+X,P=D):_>0&&(X=je(V-D,Xe(T-D,X)),F=E,P=D+X),k<0?(J=je(R-A,Xe(G-A,J)),C=A+J,U=Y):k>0&&(J=je(R-Y,Xe(G-Y,J)),C=A,U=Y+J));break}case dr:{_&&(F=je(V,Xe(T,E-X*_)),P=je(V,Xe(T,D+X*_))),k&&(C=je(R,Xe(G,A-J*k)),U=je(R,Xe(G,Y+J*k)));break}}P<F&&(_*=-1,ke=E,E=D,D=ke,ke=F,F=P,P=ke,S in uc&&$.attr("cursor",an[S=uc[S]])),U<C&&(k*=-1,ke=A,A=Y,Y=ke,ke=C,C=U,U=ke,S in hc&&$.attr("cursor",an[S=hc[S]])),H.selection&&(M=H.selection),Q&&(F=M[0][0],P=M[1][0]),B&&(C=M[0][1],U=M[1][1]),(M[0][0]!==F||M[0][1]!==C||M[1][0]!==P||M[1][1]!==U)&&(H.selection=[[F,C],[P,U]],l.call(v),fe.brush(Z,b.name))}function de(Z){if(f7(Z),Z.touches){if(Z.touches.length)return;o&&clearTimeout(o),o=setTimeout(function(){o=null},500)}else Ul(Z.view,me),oe.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);j.attr("pointer-events","all"),$.attr("cursor",an.overlay),H.selection&&(M=H.selection),v7(M)&&(H.selection=null,l.call(v)),fe.end(Z,b.name)}function xe(Z){switch(Z.keyCode){case 16:{K=_&&k;break}case 18:{b===fr&&(_&&(D=P-X*_,E=F+X*_),k&&(Y=U-J*k,A=C+J*k),b=dr,we(Z));break}case 32:{(b===fr||b===dr)&&(_<0?D=P-X:_>0&&(E=F-X),k<0?Y=U-J:k>0&&(A=C-J),b=eo,$.attr("cursor",an.selection),we(Z));break}default:return}$a(Z)}function Le(Z){switch(Z.keyCode){case 16:{K&&(Q=B=K=!1,we(Z));break}case 18:{b===dr&&(_<0?D=P:_>0&&(E=F),k<0?Y=U:k>0&&(A=C),b=fr,we(Z));break}case 32:{b===eo&&(Z.altKey?(_&&(D=P-X*_,E=F+X*_),k&&(Y=U-J*k,A=C+J*k),b=dr):(_<0?D=P:_>0&&(E=F),k<0?Y=U:k>0&&(A=C),b=fr),$.attr("cursor",an[S]),we(Z));break}default:return}$a(Z)}}function p(m){c(this,arguments).moved(m)}function g(m){c(this,arguments).ended(m)}function d(){var m=this.__brush||{selection:null};return m.extent=ko(t.apply(this,arguments)),m.dim=e,m}return u.extent=function(m){return arguments.length?(t=typeof m=="function"?m:Ka(ko(m)),u):t},u.filter=function(m){return arguments.length?(n=typeof m=="function"?m:Ka(!!m),u):n},u.touchable=function(m){return arguments.length?(r=typeof m=="function"?m:Ka(!!m),u):r},u.handleSize=function(m){return arguments.length?(a=+m,u):a},u.keyModifiers=function(m){return arguments.length?(i=!!m,u):i},u.on=function(){var m=s.on.apply(s,arguments);return m===s?u:m},u}const ts=e=>()=>e;function S7(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function un(e,t,n){this.k=e,this.x=t,this.y=n}un.prototype={constructor:un,scale:function(e){return e===1?this:new un(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new un(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Zl=new un(1,0,0);un.prototype;function io(e){e.stopImmediatePropagation()}function ai(e){e.preventDefault(),e.stopImmediatePropagation()}function _7(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function x7(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function fc(){return this.__zoom||Zl}function L7(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function k7(){return navigator.maxTouchPoints||"ontouchstart"in this}function T7(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>s?(s+a)/2:Math.min(0,s)||Math.max(0,a))}function M7(){var e=_7,t=x7,n=T7,r=L7,i=k7,s=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],o=250,u=G6,l=Oi("start","zoom","end"),c,f,h,p=500,g=150,d=0,m=10;function v(C){C.property("__zoom",fc).on("wheel.zoom",M,{passive:!1}).on("mousedown.zoom",V).on("dblclick.zoom",E).filter(i).on("touchstart.zoom",F).on("touchmove.zoom",R).on("touchend.zoom touchcancel.zoom",A).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.transform=function(C,T,D,P){var G=C.selection?C.selection():C;G.property("__zoom",fc),C!==G?k(C,T,D,P):G.interrupt().each(function(){H(this,arguments).event(P).start().zoom(null,typeof T=="function"?T.apply(this,arguments):T).end()})},v.scaleBy=function(C,T,D,P){v.scaleTo(C,function(){var G=this.__zoom.k,Y=typeof T=="function"?T.apply(this,arguments):T;return G*Y},D,P)},v.scaleTo=function(C,T,D,P){v.transform(C,function(){var G=t.apply(this,arguments),Y=this.__zoom,U=D==null?_(G):typeof D=="function"?D.apply(this,arguments):D,X=Y.invert(U),J=typeof T=="function"?T.apply(this,arguments):T;return n(b(S(Y,J),U,X),G,a)},D,P)},v.translateBy=function(C,T,D,P){v.transform(C,function(){return n(this.__zoom.translate(typeof T=="function"?T.apply(this,arguments):T,typeof D=="function"?D.apply(this,arguments):D),t.apply(this,arguments),a)},null,P)},v.translateTo=function(C,T,D,P,G){v.transform(C,function(){var Y=t.apply(this,arguments),U=this.__zoom,X=P==null?_(Y):typeof P=="function"?P.apply(this,arguments):P;return n(Zl.translate(X[0],X[1]).scale(U.k).translate(typeof T=="function"?-T.apply(this,arguments):-T,typeof D=="function"?-D.apply(this,arguments):-D),Y,a)},P,G)};function S(C,T){return T=Math.max(s[0],Math.min(s[1],T)),T===C.k?C:new un(T,C.x,C.y)}function b(C,T,D){var P=T[0]-D[0]*C.k,G=T[1]-D[1]*C.k;return P===C.x&&G===C.y?C:new un(C.k,P,G)}function _(C){return[(+C[0][0]+ +C[1][0])/2,(+C[0][1]+ +C[1][1])/2]}function k(C,T,D,P){C.on("start.zoom",function(){H(this,arguments).event(P).start()}).on("interrupt.zoom end.zoom",function(){H(this,arguments).event(P).end()}).tween("zoom",function(){var G=this,Y=arguments,U=H(G,Y).event(P),X=t.apply(G,Y),J=D==null?_(X):typeof D=="function"?D.apply(G,Y):D,me=Math.max(X[1][0]-X[0][0],X[1][1]-X[0][1]),K=G.__zoom,Q=typeof T=="function"?T.apply(G,Y):T,B=u(K.invert(J).concat(me/K.k),Q.invert(J).concat(me/Q.k));return function(ie){if(ie===1)ie=Q;else{var fe=B(ie),j=me/fe[2];ie=new un(j,J[0]-fe[0]*j,J[1]-fe[1]*j)}U.zoom(null,ie)}})}function H(C,T,D){return!D&&C.__zooming||new I(C,T)}function I(C,T){this.that=C,this.args=T,this.active=0,this.sourceEvent=null,this.extent=t.apply(C,T),this.taps=0}I.prototype={event:function(C){return C&&(this.sourceEvent=C),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(C,T){return this.mouse&&C!=="mouse"&&(this.mouse[1]=T.invert(this.mouse[0])),this.touch0&&C!=="touch"&&(this.touch0[1]=T.invert(this.touch0[0])),this.touch1&&C!=="touch"&&(this.touch1[1]=T.invert(this.touch1[0])),this.that.__zoom=T,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(C){var T=$e(this.that).datum();l.call(C,this.that,new S7(C,{sourceEvent:this.sourceEvent,target:v,type:C,transform:this.that.__zoom,dispatch:l}),T)}};function M(C,...T){if(!e.apply(this,arguments))return;var D=H(this,T).event(C),P=this.__zoom,G=Math.max(s[0],Math.min(s[1],P.k*Math.pow(2,r.apply(this,arguments)))),Y=Pt(C);if(D.wheel)(D.mouse[0][0]!==Y[0]||D.mouse[0][1]!==Y[1])&&(D.mouse[1]=P.invert(D.mouse[0]=Y)),clearTimeout(D.wheel);else{if(P.k===G)return;D.mouse=[Y,P.invert(Y)],xr(this),D.start()}ai(C),D.wheel=setTimeout(U,g),D.zoom("mouse",n(b(S(P,G),D.mouse[0],D.mouse[1]),D.extent,a));function U(){D.wheel=null,D.end()}}function V(C,...T){if(h||!e.apply(this,arguments))return;var D=C.currentTarget,P=H(this,T,!0).event(C),G=$e(C.view).on("mousemove.zoom",J,!0).on("mouseup.zoom",me,!0),Y=Pt(C,D),U=C.clientX,X=C.clientY;Bl(C.view),io(C),P.mouse=[Y,this.__zoom.invert(Y)],xr(this),P.start();function J(K){if(ai(K),!P.moved){var Q=K.clientX-U,B=K.clientY-X;P.moved=Q*Q+B*B>d}P.event(K).zoom("mouse",n(b(P.that.__zoom,P.mouse[0]=Pt(K,D),P.mouse[1]),P.extent,a))}function me(K){G.on("mousemove.zoom mouseup.zoom",null),Ul(K.view,P.moved),ai(K),P.event(K).end()}}function E(C,...T){if(!!e.apply(this,arguments)){var D=this.__zoom,P=Pt(C.changedTouches?C.changedTouches[0]:C,this),G=D.invert(P),Y=D.k*(C.shiftKey?.5:2),U=n(b(S(D,Y),P,G),t.apply(this,T),a);ai(C),o>0?$e(this).transition().duration(o).call(k,U,P,C):$e(this).call(v.transform,U,P,C)}}function F(C,...T){if(!!e.apply(this,arguments)){var D=C.touches,P=D.length,G=H(this,T,C.changedTouches.length===P).event(C),Y,U,X,J;for(io(C),U=0;U<P;++U)X=D[U],J=Pt(X,this),J=[J,this.__zoom.invert(J),X.identifier],G.touch0?!G.touch1&&G.touch0[2]!==J[2]&&(G.touch1=J,G.taps=0):(G.touch0=J,Y=!0,G.taps=1+!!c);c&&(c=clearTimeout(c)),Y&&(G.taps<2&&(f=J[0],c=setTimeout(function(){c=null},p)),xr(this),G.start())}}function R(C,...T){if(!!this.__zooming){var D=H(this,T).event(C),P=C.changedTouches,G=P.length,Y,U,X,J;for(ai(C),Y=0;Y<G;++Y)U=P[Y],X=Pt(U,this),D.touch0&&D.touch0[2]===U.identifier?D.touch0[0]=X:D.touch1&&D.touch1[2]===U.identifier&&(D.touch1[0]=X);if(U=D.that.__zoom,D.touch1){var me=D.touch0[0],K=D.touch0[1],Q=D.touch1[0],B=D.touch1[1],ie=(ie=Q[0]-me[0])*ie+(ie=Q[1]-me[1])*ie,fe=(fe=B[0]-K[0])*fe+(fe=B[1]-K[1])*fe;U=S(U,Math.sqrt(ie/fe)),X=[(me[0]+Q[0])/2,(me[1]+Q[1])/2],J=[(K[0]+B[0])/2,(K[1]+B[1])/2]}else if(D.touch0)X=D.touch0[0],J=D.touch0[1];else return;D.zoom("touch",n(b(U,X,J),D.extent,a))}}function A(C,...T){if(!!this.__zooming){var D=H(this,T).event(C),P=C.changedTouches,G=P.length,Y,U;for(io(C),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),Y=0;Y<G;++Y)U=P[Y],D.touch0&&D.touch0[2]===U.identifier?delete D.touch0:D.touch1&&D.touch1[2]===U.identifier&&delete D.touch1;if(D.touch1&&!D.touch0&&(D.touch0=D.touch1,delete D.touch1),D.touch0)D.touch0[1]=this.__zoom.invert(D.touch0[0]);else if(D.end(),D.taps===2&&(U=Pt(U,this),Math.hypot(f[0]-U[0],f[1]-U[1])<m)){var X=$e(this).on("dblclick.zoom");X&&X.apply(this,arguments)}}}return v.wheelDelta=function(C){return arguments.length?(r=typeof C=="function"?C:ts(+C),v):r},v.filter=function(C){return arguments.length?(e=typeof C=="function"?C:ts(!!C),v):e},v.touchable=function(C){return arguments.length?(i=typeof C=="function"?C:ts(!!C),v):i},v.extent=function(C){return arguments.length?(t=typeof C=="function"?C:ts([[+C[0][0],+C[0][1]],[+C[1][0],+C[1][1]]]),v):t},v.scaleExtent=function(C){return arguments.length?(s[0]=+C[0],s[1]=+C[1],v):[s[0],s[1]]},v.translateExtent=function(C){return arguments.length?(a[0][0]=+C[0][0],a[1][0]=+C[1][0],a[0][1]=+C[0][1],a[1][1]=+C[1][1],v):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},v.constrain=function(C){return arguments.length?(n=C,v):n},v.duration=function(C){return arguments.length?(o=+C,v):o},v.interpolate=function(C){return arguments.length?(u=C,v):u},v.on=function(){var C=l.on.apply(l,arguments);return C===l?v:C},v.clickDistance=function(C){return arguments.length?(d=(C=+C)*C,v):Math.sqrt(d)},v.tapDistance=function(C){return arguments.length?(m=+C,v):m},v}const z={select:$e,selectAll:I3,json:z3,scaleLinear:Du,scaleSqrt:w5,scalePoint:l6,scaleBand:Ll,scalePow:Nl,scaleOrdinal:xl,scaleLog:Nu,schemeTableau10:D4,interpolateRainbow:N4,lch:C6,hsl:uu,color:Fn,quantize:Y6,interpolate:Wi,max:n6,maxIndex:r6,min:i6,minIndex:s6,extent:ds,sum:o6,bin:t6,timeout:wo,transition:Qu,easeLinear:Bf,easePolyInOut:Zf,easeQuadInOut:Uf,easeCubicInOut:$u,easeElasticOut:jf,axisLeft:i8,axisBottom:r8,line:v8,curveStepAfter:A8,brush:b7,zoom:M7,zoomIdentity:Zl,drag:u7,format:La,curveMonotoneX:T8,curveMonotoneY:M8,curveBasis:k8,timeFormat:Bu,hierarchy:Yl,partition:K8,tree:i7,arc:g8,linkHorizontal:x8,linkVertical:L8,path:Gi},Wr=(e,t)=>Math.round((e+Number.EPSILON)*10**t)/10**t,A7=(e,t=null,n="download.json")=>{const r="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e));let i=t,s=!1;t===null&&(i=document.createElement("a"),i.style.display="none",s=!0),i==null||i.setAttribute("href",r),i==null||i.setAttribute("download",`${n}`),i==null||i.click(),s&&(i==null||i.remove())},dc=e=>{const t=e[0],n=e[1],r=e[2],i=[t,n,r].map(s=>(s/=255,s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4)));return i[0]*.2126+i[1]*.7152+i[2]*.0722},Or=(e,t)=>{const n=dc(e),r=dc(t);return n>r?(r+.05)/(n+.05):(n+.05)/(r+.05)},pc=(e,t)=>e.size===t.size&&[...e].every(n=>t.has(n));class gc{constructor(t,n,r,i){N(this,"favoritesStore");N(this,"favoritesStoreValue");N(this,"searchStore");N(this,"searchStoreValue");N(this,"sunburstStore");N(this,"sunburstStoreValue");N(this,"handlerUpdated");N(this,"favoritesClicked",()=>{this.favoritesStoreValue.shown=!this.favoritesStoreValue.shown,this.favoritesStore.set(this.favoritesStoreValue),this.favoritesStoreValue.shown&&this.searchStoreValue.shown&&(this.searchStoreValue.shown=!1,this.searchStore.set(this.searchStoreValue))});N(this,"searchClicked",()=>{this.searchStoreValue.shown=!this.searchStoreValue.shown,this.searchStore.set(this.searchStoreValue),this.searchStoreValue.shown&&this.favoritesStoreValue.shown&&(this.favoritesStoreValue.shown=!1,this.favoritesStore.set(this.favoritesStoreValue))});N(this,"depthBoxClicked",t=>{t<this.sunburstStoreValue.depthLow||(t>this.sunburstStoreValue.depthHigh?(this.sunburstStoreValue.depthHigh=t,this.sunburstStoreValue.action=Qn.DepthChanged,this.sunburstStore.set(this.sunburstStoreValue)):this.sunburstStoreValue.depthLow<t&&t<this.sunburstStoreValue.depthHigh?(this.sunburstStoreValue.depthHigh=t,this.sunburstStoreValue.action=Qn.DepthChanged,this.sunburstStore.set(this.sunburstStoreValue)):this.sunburstStoreValue.depthLow===t||this.sunburstStoreValue.depthHigh===t||console.error("Unknown case in depthBoxClicked()"))});N(this,"getDepthBoxStyle",t=>{const n=this.sunburstStoreValue.depthColors[t-1];let r="inherit";if(n===null||n==="")return"";{const i=[252,252,252],s=[74,74,74],a=z.color(n).rgb(),o=[a.r,a.g,a.b];Or(i,o)<Or(s,o)&&(r="hsla(0, 0%, 99%, 1)")}return`
    background-color: ${n}; color: ${r}; border: none;
    `});this.handlerUpdated=t,this.favoritesStore=n,this.favoritesStoreValue=Vr(),this.favoritesStore.subscribe(s=>{this.favoritesStoreValue=s,this.handlerUpdated()}),this.sunburstStore=r,this.sunburstStoreValue=vl(),this.sunburstStore.subscribe(s=>{this.sunburstStoreValue=s,this.handlerUpdated()}),this.searchStore=i,this.searchStoreValue=Dr(),this.searchStore.subscribe(s=>{this.searchStoreValue=s,this.handlerUpdated()})}}const u2='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z"></path></svg>',h2='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M4.25 2.5c-1.336 0-2.75 1.164-2.75 3 0 2.15 1.58 4.144 3.365 5.682A20.565 20.565 0 008 13.393a20.561 20.561 0 003.135-2.211C12.92 9.644 14.5 7.65 14.5 5.5c0-1.836-1.414-3-2.75-3-1.373 0-2.609.986-3.029 2.456a.75.75 0 01-1.442 0C6.859 3.486 5.623 2.5 4.25 2.5zM8 14.25l-.345.666-.002-.001-.006-.003-.018-.01a7.643 7.643 0 01-.31-.17 22.075 22.075 0 01-3.434-2.414C2.045 10.731 0 8.35 0 5.5 0 2.836 2.086 1 4.25 1 5.797 1 7.153 1.802 8 3.02 8.847 1.802 10.203 1 11.75 1 13.914 1 16 2.836 16 5.5c0 2.85-2.045 5.231-3.885 6.818a22.08 22.08 0 01-3.744 2.584l-.018.01-.006.003h-.002L8 14.25zm0 0l.345.666a.752.752 0 01-.69 0L8 14.25z"></path></svg>',f2=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <path d="M8,14.25L7.655,14.916L7.647,14.912L7.629,14.902C7.524,14.848 7.421,14.791 7.319,14.732C6.1,14.038 4.95,13.23 3.885,12.318C2.045,10.731 0,8.35 0,5.5C0,2.836 2.086,1 4.25,1C5.797,1 7.153,1.802 8,3.02C8.847,1.802 10.203,1 11.75,1C13.914,1 16,2.836 16,5.5C16,8.35 13.955,10.731 12.115,12.318C10.959,13.306 9.705,14.172 8.371,14.902L8.353,14.912L8.347,14.915L8.345,14.915L8,14.25ZM8,14.25L8.345,14.916C8.129,15.028 7.871,15.028 7.655,14.916L8,14.25Z"/>
</svg>
`;const Ke="src/components/toolbar/Toolbar.svelte";function mc(e,t,n){const r=e.slice();return r[13]=t[n],r}function yc(e,t,n){const r=e.slice();return r[13]=t[n],r}function To(e){let t;const n={c:function(){var i,s;t=L("div"),w(t,"class","depth-line s-JBVBfphpN2RX"),ge(t,"in-range",e[13]+2<=((i=e[2])==null?void 0:i.sunburstStoreValue.depthHigh)&&e[13]+2>((s=e[2])==null?void 0:s.sunburstStoreValue.depthLow)),x(t,Ke,223,10,5195)},m:function(i,s){ae(i,t,s)},p:function(i,s){var a,o;s&4&&ge(t,"in-range",i[13]+2<=((a=i[2])==null?void 0:a.sunburstStoreValue.depthHigh)&&i[13]+2>((o=i[2])==null?void 0:o.sunburstStoreValue.depthLow))},d:function(i){i&&re(t)}};return ee("SvelteRegisterBlock",{block:n,id:To.name,type:"each",source:"(223:8) {#each [...Array(Math.max(handler?.sunburstStoreValue.depthMax - 1, 0)).keys()] as i}",ctx:e}),n}function Mo(e){let t,n=e[13]+1+"",r,i,s,a,o;function u(){return e[6](e[13])}const l={c:function(){var f,h,p,g;t=L("div"),r=ce(n),i=W(),w(t,"class","depth-box s-JBVBfphpN2RX"),w(t,"style",s=(f=e[2])==null?void 0:f.getDepthBoxStyle(e[13]+1)),ge(t,"in-range",e[13]+1<=((h=e[2])==null?void 0:h.sunburstStoreValue.depthHigh)&&e[13]+1>=((p=e[2])==null?void 0:p.sunburstStoreValue.depthLow)),ge(t,"no-hover",e[13]+1===((g=e[2])==null?void 0:g.sunburstStoreValue.depthHigh)),x(t,Ke,232,8,5495)},m:function(f,h){ae(f,t,h),y(t,r),y(t,i),a||(o=he(t,"click",u,!1,!1,!1),a=!0)},p:function(f,h){var p,g,d,m;e=f,h&4&&n!==(n=e[13]+1+"")&&Ee(r,n),h&4&&s!==(s=(p=e[2])==null?void 0:p.getDepthBoxStyle(e[13]+1))&&w(t,"style",s),h&4&&ge(t,"in-range",e[13]+1<=((g=e[2])==null?void 0:g.sunburstStoreValue.depthHigh)&&e[13]+1>=((d=e[2])==null?void 0:d.sunburstStoreValue.depthLow)),h&4&&ge(t,"no-hover",e[13]+1===((m=e[2])==null?void 0:m.sunburstStoreValue.depthHigh))},d:function(f){f&&re(t),a=!1,o()}};return ee("SvelteRegisterBlock",{block:l,id:Mo.name,type:"each",source:"(232:6) {#each [...Array(handler?.sunburstStoreValue.depthMax).keys()] as i}",ctx:e}),l}function Ao(e){var T,D;let t,n,r,i=e[0]<600?"Depth":"Show Depth",s,a,o,u,l,c,f,h,p,g,d,m,v,S,b,_,k,H,I,M,V,E=[...Array(Math.max(((T=e[2])==null?void 0:T.sunburstStoreValue.depthMax)-1,0)).keys()];De(E);let F=[];for(let P=0;P<E.length;P+=1)F[P]=To(yc(e,E,P));let R=[...Array((D=e[2])==null?void 0:D.sunburstStoreValue.depthMax).keys()];De(R);let A=[];for(let P=0;P<R.length;P+=1)A[P]=Mo(mc(e,R,P));const C={c:function(){var G,Y,U,X;t=L("div"),n=L("div"),r=L("div"),s=ce(i),a=W(),o=L("div"),u=L("div");for(let J=0;J<F.length;J+=1)F[J].c();l=W();for(let J=0;J<A.length;J+=1)A[J].c();c=W(),f=L("div"),h=L("div"),p=L("span"),g=new Jn(!1),d=W(),m=L("div"),v=W(),S=L("span"),S.textContent="Favorites",b=W(),_=L("div"),k=L("span"),H=W(),I=L("span"),I.textContent="Search",w(r,"class","depth-label s-JBVBfphpN2RX"),x(r,Ke,216,4,4926),w(u,"class","depth-box-lines s-JBVBfphpN2RX"),x(u,Ke,221,6,5061),w(o,"class","depth-box-container s-JBVBfphpN2RX"),x(o,Ke,220,4,5021),w(n,"class","depths s-JBVBfphpN2RX"),x(n,Ke,215,2,4901),g.a=d,w(m,"class","hidden-heart s-JBVBfphpN2RX"),ge(m,"pulse",!1),x(m,Ke,256,8,6178),w(p,"class","svg-icon s-JBVBfphpN2RX"),x(p,Ke,254,6,6120),w(S,"class","button-text s-JBVBfphpN2RX"),ge(S,"no-display",((G=e[2])==null?void 0:G.sunburstStoreValue.depthMax)>8&&e[0]<650),x(S,Ke,260,6,6293),w(h,"class","tool-button s-JBVBfphpN2RX"),ge(h,"shown",(Y=e[2])==null?void 0:Y.favoritesStoreValue.shown),x(h,Ke,247,4,5952),w(k,"class","svg-icon s-JBVBfphpN2RX"),x(k,Ke,276,6,6646),w(I,"class","button-text s-JBVBfphpN2RX"),ge(I,"no-display",((U=e[2])==null?void 0:U.sunburstStoreValue.depthMax)>8&&e[0]<650),x(I,Ke,279,6,6717),w(_,"class","tool-button s-JBVBfphpN2RX"),ge(_,"shown",(X=e[2])==null?void 0:X.searchStoreValue.shown),x(_,Ke,269,4,6484),w(f,"class","tools s-JBVBfphpN2RX"),x(f,Ke,246,2,5928),w(t,"class","toolbar s-JBVBfphpN2RX"),x(t,Ke,214,0,4855)},l:function(G){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(G,Y){ae(G,t,Y),y(t,n),y(n,r),y(r,s),y(n,a),y(n,o),y(o,u);for(let U=0;U<F.length;U+=1)F[U].m(u,null);y(o,l);for(let U=0;U<A.length;U+=1)A[U].m(o,null);y(t,c),y(t,f),y(f,h),y(h,p),g.m(h2,p),y(p,d),y(p,m),m.innerHTML=f2,y(h,v),y(h,S),y(f,b),y(f,_),y(_,k),k.innerHTML=u2,y(_,H),y(_,I),e[9](t),M||(V=[he(h,"click",e[7],!1,!1,!1),he(_,"click",e[8],!1,!1,!1)],M=!0)},p:function(G,[Y]){var U,X,J,me,K,Q;if(Y&1&&i!==(i=G[0]<600?"Depth":"Show Depth")&&Ee(s,i),Y&4){E=[...Array(Math.max(((U=G[2])==null?void 0:U.sunburstStoreValue.depthMax)-1,0)).keys()],De(E);let B;for(B=0;B<E.length;B+=1){const ie=yc(G,E,B);F[B]?F[B].p(ie,Y):(F[B]=To(ie),F[B].c(),F[B].m(u,null))}for(;B<F.length;B+=1)F[B].d(1);F.length=E.length}if(Y&4){R=[...Array((X=G[2])==null?void 0:X.sunburstStoreValue.depthMax).keys()],De(R);let B;for(B=0;B<R.length;B+=1){const ie=mc(G,R,B);A[B]?A[B].p(ie,Y):(A[B]=Mo(ie),A[B].c(),A[B].m(o,null))}for(;B<A.length;B+=1)A[B].d(1);A.length=R.length}Y&5&&ge(S,"no-display",((J=G[2])==null?void 0:J.sunburstStoreValue.depthMax)>8&&G[0]<650),Y&4&&ge(h,"shown",(me=G[2])==null?void 0:me.favoritesStoreValue.shown),Y&5&&ge(I,"no-display",((K=G[2])==null?void 0:K.sunburstStoreValue.depthMax)>8&&G[0]<650),Y&4&&ge(_,"shown",(Q=G[2])==null?void 0:Q.searchStoreValue.shown)},i:pe,o:pe,d:function(G){G&&re(t),ln(F,G),ln(A,G),e[9](null),M=!1,Re(V)}};return ee("SvelteRegisterBlock",{block:C,id:Ao.name,type:"component",source:"",ctx:e}),C}function V7(e,t,n){let{$$slots:r={},$$scope:i}=t;St("Toolbar",r,[]);let{favoritesStore:s=null}=t,{sunburstStore:a=null}=t,{searchStore:o=null}=t,{sunburstWidth:u=650}=t,l=null,c=!1,f=null;Ne(()=>{c=!0});const h=()=>{n(2,f)},p=()=>{s&&a&&o&&n(2,f=new gc(h,s,a,o))},g=["favoritesStore","sunburstStore","searchStore","sunburstWidth"];Object.keys(t).forEach(b=>{!~g.indexOf(b)&&b.slice(0,2)!=="$$"&&b!=="slot"&&console.warn(`<Toolbar> was created with unknown prop '${b}'`)});const d=b=>f==null?void 0:f.depthBoxClicked(b+1),m=()=>{f==null||f.favoritesClicked()},v=()=>{f==null||f.searchClicked()};function S(b){Je[b?"unshift":"push"](()=>{l=b,n(1,l)})}return e.$$set=b=>{"favoritesStore"in b&&n(3,s=b.favoritesStore),"sunburstStore"in b&&n(4,a=b.sunburstStore),"searchStore"in b&&n(5,o=b.searchStore),"sunburstWidth"in b&&n(0,u=b.sunburstWidth)},e.$capture_state=()=>({onMount:Ne,ToolbarEventHandler:gc,iconSearch:u2,iconHeart:h2,iconHeartSolid:f2,favoritesStore:s,sunburstStore:a,searchStore:o,sunburstWidth:u,component:l,mounted:c,handler:f,handlerUpdated:h,initView:p}),e.$inject_state=b=>{"favoritesStore"in b&&n(3,s=b.favoritesStore),"sunburstStore"in b&&n(4,a=b.sunburstStore),"searchStore"in b&&n(5,o=b.searchStore),"sunburstWidth"in b&&n(0,u=b.sunburstWidth),"component"in b&&n(1,l=b.component),"mounted"in b&&(c=b.mounted),"handler"in b&&n(2,f=b.handler)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{e.$$.dirty&56&&s&&a&&o&&p()},[u,l,f,s,a,o,d,m,v,S]}class d2 extends _t{constructor(t){super(t),Ct(this,t,V7,Ao,tt,{favoritesStore:3,sunburstStore:4,searchStore:5,sunburstWidth:0}),ee("SvelteRegisterComponent",{component:this,tagName:"Toolbar",options:t,id:Ao.name})}get favoritesStore(){throw new Error("<Toolbar>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set favoritesStore(t){throw new Error("<Toolbar>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get sunburstStore(){throw new Error("<Toolbar>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set sunburstStore(t){throw new Error("<Toolbar>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get searchStore(){throw new Error("<Toolbar>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set searchStore(t){throw new Error("<Toolbar>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get sunburstWidth(){throw new Error("<Toolbar>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set sunburstWidth(t){throw new Error("<Toolbar>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const ws={sunburstWidth:650,treeWindowWidth:150,treeWindowHeaderHeight:26,treeWindowHeight:0,toolbarHeight:36},D7={mouseenterDelay:300};ws.treeWindowHeight=ws.treeWindowHeaderHeight+ws.treeWindowWidth;const N7={"red-50":"hsl(350, 100.0%, 96.08%)","red-100":"hsl(354, 100.0%, 90.2%)","red-200":"hsl(0, 72.65%, 77.06%)","red-300":"hsl(0, 68.67%, 67.45%)","red-400":"hsl(1, 83.25%, 62.55%)","red-500":"hsl(4, 89.62%, 58.43%)","red-600":"hsl(1, 77.19%, 55.29%)","red-700":"hsl(0, 65.08%, 50.59%)","red-800":"hsl(0, 66.39%, 46.67%)","red-900":"hsl(0, 73.46%, 41.37%)","red-a100":"hsl(4, 100.0%, 75.1%)","red-a200":"hsl(0, 100.0%, 66.08%)","red-a400":"hsl(348, 100.0%, 54.51%)","red-a700":"hsl(0, 100.0%, 41.76%)","pink-50":"hsl(340, 80.0%, 94.12%)","pink-100":"hsl(339, 81.33%, 85.29%)","pink-200":"hsl(339, 82.11%, 75.88%)","pink-300":"hsl(339, 82.56%, 66.27%)","pink-400":"hsl(339, 81.9%, 58.82%)","pink-500":"hsl(339, 82.19%, 51.57%)","pink-600":"hsl(338, 77.78%, 47.65%)","pink-700":"hsl(336, 77.98%, 42.75%)","pink-800":"hsl(333, 79.27%, 37.84%)","pink-900":"hsl(328, 81.33%, 29.41%)","pink-a100":"hsl(339, 100.0%, 75.1%)","pink-a200":"hsl(339, 100.0%, 62.55%)","pink-a400":"hsl(338, 100.0%, 48.04%)","pink-a700":"hsl(333, 84.11%, 41.96%)","purple-50":"hsl(292, 44.44%, 92.94%)","purple-100":"hsl(291, 46.07%, 82.55%)","purple-200":"hsl(291, 46.94%, 71.18%)","purple-300":"hsl(291, 46.6%, 59.61%)","purple-400":"hsl(291, 46.61%, 50.78%)","purple-500":"hsl(291, 63.72%, 42.16%)","purple-600":"hsl(287, 65.05%, 40.39%)","purple-700":"hsl(282, 67.88%, 37.84%)","purple-800":"hsl(277, 70.17%, 35.49%)","purple-900":"hsl(267, 75.0%, 31.37%)","purple-a100":"hsl(291, 95.38%, 74.51%)","purple-a200":"hsl(291, 95.9%, 61.76%)","purple-a400":"hsl(291, 100.0%, 48.82%)","purple-a700":"hsl(280, 100.0%, 50.0%)","deep-purple-50":"hsl(264, 45.45%, 93.53%)","deep-purple-100":"hsl(261, 45.68%, 84.12%)","deep-purple-200":"hsl(261, 46.27%, 73.73%)","deep-purple-300":"hsl(261, 46.81%, 63.14%)","deep-purple-400":"hsl(261, 46.72%, 55.1%)","deep-purple-500":"hsl(261, 51.87%, 47.25%)","deep-purple-600":"hsl(259, 53.91%, 45.1%)","deep-purple-700":"hsl(257, 57.75%, 41.76%)","deep-purple-800":"hsl(254, 60.8%, 39.02%)","deep-purple-900":"hsl(251, 68.79%, 33.92%)","deep-purple-a100":"hsl(261, 100.0%, 76.67%)","deep-purple-a200":"hsl(255, 100.0%, 65.1%)","deep-purple-a400":"hsl(258, 100.0%, 56.08%)","deep-purple-a700":"hsl(265, 100.0%, 45.88%)","indigo-50":"hsl(231, 43.75%, 93.73%)","indigo-100":"hsl(231, 45.0%, 84.31%)","indigo-200":"hsl(230, 44.36%, 73.92%)","indigo-300":"hsl(230, 44.09%, 63.53%)","indigo-400":"hsl(230, 44.25%, 55.69%)","indigo-500":"hsl(230, 48.36%, 47.84%)","indigo-600":"hsl(231, 50.0%, 44.71%)","indigo-700":"hsl(231, 53.62%, 40.59%)","indigo-800":"hsl(232, 57.22%, 36.67%)","indigo-900":"hsl(234, 65.79%, 29.8%)","indigo-a100":"hsl(230, 100.0%, 77.45%)","indigo-a200":"hsl(230, 98.84%, 66.08%)","indigo-a400":"hsl(230, 98.97%, 61.76%)","indigo-a700":"hsl(230, 99.04%, 59.22%)","blue-50":"hsl(205, 86.67%, 94.12%)","blue-100":"hsl(207, 88.89%, 85.88%)","blue-200":"hsl(206, 89.74%, 77.06%)","blue-300":"hsl(206, 89.02%, 67.84%)","blue-400":"hsl(206, 89.95%, 60.98%)","blue-500":"hsl(206, 89.74%, 54.12%)","blue-600":"hsl(208, 79.28%, 50.78%)","blue-700":"hsl(209, 78.72%, 46.08%)","blue-800":"hsl(211, 80.28%, 41.76%)","blue-900":"hsl(216, 85.06%, 34.12%)","blue-a100":"hsl(217, 100.0%, 75.49%)","blue-a200":"hsl(217, 100.0%, 63.33%)","blue-a400":"hsl(217, 100.0%, 58.04%)","blue-a700":"hsl(224, 100.0%, 58.04%)","light-blue-50":"hsl(198, 93.55%, 93.92%)","light-blue-100":"hsl(198, 92.41%, 84.51%)","light-blue-200":"hsl(198, 92.37%, 74.31%)","light-blue-300":"hsl(198, 91.3%, 63.92%)","light-blue-400":"hsl(198, 91.93%, 56.27%)","light-blue-500":"hsl(198, 97.57%, 48.43%)","light-blue-600":"hsl(199, 97.41%, 45.49%)","light-blue-700":"hsl(201, 98.1%, 41.37%)","light-blue-800":"hsl(202, 97.91%, 37.45%)","light-blue-900":"hsl(206, 98.72%, 30.59%)","light-blue-a100":"hsl(198, 100.0%, 75.1%)","light-blue-a200":"hsl(198, 100.0%, 62.55%)","light-blue-a400":"hsl(198, 100.0%, 50.0%)","light-blue-a700":"hsl(202, 100.0%, 45.88%)","cyan-50":"hsl(186, 72.22%, 92.94%)","cyan-100":"hsl(186, 71.11%, 82.35%)","cyan-200":"hsl(186, 71.62%, 70.98%)","cyan-300":"hsl(186, 71.15%, 59.22%)","cyan-400":"hsl(186, 70.87%, 50.2%)","cyan-500":"hsl(186, 100.0%, 41.57%)","cyan-600":"hsl(186, 100.0%, 37.84%)","cyan-700":"hsl(185, 100.0%, 32.75%)","cyan-800":"hsl(185, 100.0%, 28.04%)","cyan-900":"hsl(182, 100.0%, 19.61%)","cyan-a100":"hsl(180, 100.0%, 75.88%)","cyan-a200":"hsl(180, 100.0%, 54.71%)","cyan-a400":"hsl(186, 100.0%, 50.0%)","cyan-a700":"hsl(187, 100.0%, 41.57%)","teal-50":"hsl(176, 40.91%, 91.37%)","teal-100":"hsl(174, 41.28%, 78.63%)","teal-200":"hsl(174, 41.9%, 64.9%)","teal-300":"hsl(174, 41.83%, 50.78%)","teal-400":"hsl(174, 62.75%, 40.0%)","teal-500":"hsl(174, 100.0%, 29.41%)","teal-600":"hsl(173, 100.0%, 26.86%)","teal-700":"hsl(173, 100.0%, 23.73%)","teal-800":"hsl(172, 100.0%, 20.59%)","teal-900":"hsl(169, 100.0%, 15.1%)","teal-a100":"hsl(166, 100.0%, 82.75%)","teal-a200":"hsl(165, 100.0%, 69.61%)","teal-a400":"hsl(165, 82.26%, 51.37%)","teal-a700":"hsl(171, 100.0%, 37.45%)","green-50":"hsl(124, 39.39%, 93.53%)","green-100":"hsl(121, 37.5%, 84.31%)","green-200":"hsl(122, 37.4%, 74.31%)","green-300":"hsl(122, 38.46%, 64.31%)","green-400":"hsl(122, 38.46%, 56.67%)","green-500":"hsl(122, 39.44%, 49.22%)","green-600":"hsl(122, 40.97%, 44.51%)","green-700":"hsl(122, 43.43%, 38.82%)","green-800":"hsl(123, 46.2%, 33.53%)","green-900":"hsl(124, 55.37%, 23.73%)","green-a100":"hsl(136, 77.22%, 84.51%)","green-a200":"hsl(150, 81.82%, 67.65%)","green-a400":"hsl(150, 100.0%, 45.1%)","green-a700":"hsl(144, 100.0%, 39.22%)","light-green-50":"hsl(88, 51.72%, 94.31%)","light-green-100":"hsl(87, 50.68%, 85.69%)","light-green-200":"hsl(88, 50.0%, 76.47%)","light-green-300":"hsl(87, 50.0%, 67.06%)","light-green-400":"hsl(87, 50.24%, 59.8%)","light-green-500":"hsl(87, 50.21%, 52.75%)","light-green-600":"hsl(89, 46.12%, 48.04%)","light-green-700":"hsl(92, 47.91%, 42.16%)","light-green-800":"hsl(95, 49.46%, 36.47%)","light-green-900":"hsl(103, 55.56%, 26.47%)","light-green-a100":"hsl(87, 100.0%, 78.24%)","light-green-a200":"hsl(87, 100.0%, 67.45%)","light-green-a400":"hsl(92, 100.0%, 50.59%)","light-green-a700":"hsl(96, 81.15%, 47.84%)","lime-50":"hsl(65, 71.43%, 94.51%)","lime-100":"hsl(64, 69.01%, 86.08%)","lime-200":"hsl(65, 70.69%, 77.25%)","lime-300":"hsl(65, 70.37%, 68.24%)","lime-400":"hsl(65, 69.7%, 61.18%)","lime-500":"hsl(65, 69.96%, 54.31%)","lime-600":"hsl(63, 59.68%, 49.61%)","lime-700":"hsl(62, 61.43%, 43.73%)","lime-800":"hsl(59, 62.89%, 38.04%)","lime-900":"hsl(53, 69.93%, 30.0%)","lime-a100":"hsl(65, 100.0%, 75.29%)","lime-a200":"hsl(65, 100.0%, 62.75%)","lime-a400":"hsl(73, 100.0%, 50.0%)","lime-a700":"hsl(75, 100.0%, 45.88%)","yellow-50":"hsl(55, 100.0%, 95.29%)","yellow-100":"hsl(53, 100.0%, 88.43%)","yellow-200":"hsl(53, 100.0%, 80.78%)","yellow-300":"hsl(53, 100.0%, 73.14%)","yellow-400":"hsl(53, 100.0%, 67.25%)","yellow-500":"hsl(53, 100.0%, 61.57%)","yellow-600":"hsl(48, 98.04%, 60.0%)","yellow-700":"hsl(42, 96.26%, 58.04%)","yellow-800":"hsl(37, 94.64%, 56.08%)","yellow-900":"hsl(28, 91.74%, 52.55%)","yellow-a100":"hsl(60, 100.0%, 77.65%)","yellow-a200":"hsl(60, 100.0%, 50.0%)","yellow-a400":"hsl(55, 100.0%, 50.0%)","yellow-a700":"hsl(50, 100.0%, 50.0%)","amber-50":"hsl(46, 100.0%, 94.12%)","amber-100":"hsl(45, 100.0%, 85.1%)","amber-200":"hsl(45, 100.0%, 75.49%)","amber-300":"hsl(45, 100.0%, 65.49%)","amber-400":"hsl(45, 100.0%, 57.84%)","amber-500":"hsl(45, 100.0%, 51.37%)","amber-600":"hsl(42, 100.0%, 50.0%)","amber-700":"hsl(37, 100.0%, 50.0%)","amber-800":"hsl(33, 100.0%, 50.0%)","amber-900":"hsl(26, 100.0%, 50.0%)","amber-a100":"hsl(47, 100.0%, 74.9%)","amber-a200":"hsl(47, 100.0%, 62.55%)","amber-a400":"hsl(46, 100.0%, 50.0%)","amber-a700":"hsl(40, 100.0%, 50.0%)","orange-50":"hsl(36, 100.0%, 93.92%)","orange-100":"hsl(35, 100.0%, 84.9%)","orange-200":"hsl(35, 100.0%, 75.1%)","orange-300":"hsl(35, 100.0%, 65.1%)","orange-400":"hsl(35, 100.0%, 57.45%)","orange-500":"hsl(35, 100.0%, 50.0%)","orange-600":"hsl(33, 100.0%, 49.22%)","orange-700":"hsl(30, 100.0%, 48.04%)","orange-800":"hsl(27, 100.0%, 46.86%)","orange-900":"hsl(21, 100.0%, 45.1%)","orange-a100":"hsl(38, 100.0%, 75.1%)","orange-a200":"hsl(33, 100.0%, 62.55%)","orange-a400":"hsl(34, 100.0%, 50.0%)","orange-a700":"hsl(25, 100.0%, 50.0%)","deep-orange-50":"hsl(5, 71.43%, 94.51%)","deep-orange-100":"hsl(14, 100.0%, 86.86%)","deep-orange-200":"hsl(14, 100.0%, 78.43%)","deep-orange-300":"hsl(14, 100.0%, 69.8%)","deep-orange-400":"hsl(14, 100.0%, 63.14%)","deep-orange-500":"hsl(14, 100.0%, 56.67%)","deep-orange-600":"hsl(14, 90.68%, 53.73%)","deep-orange-700":"hsl(14, 80.39%, 50.0%)","deep-orange-800":"hsl(14, 82.28%, 46.47%)","deep-orange-900":"hsl(14, 88.18%, 39.8%)","deep-orange-a100":"hsl(14, 100.0%, 75.1%)","deep-orange-a200":"hsl(14, 100.0%, 62.55%)","deep-orange-a400":"hsl(14, 100.0%, 50.0%)","deep-orange-a700":"hsl(11, 100.0%, 43.33%)","brown-50":"hsl(19, 15.79%, 92.55%)","brown-100":"hsl(16, 15.79%, 81.37%)","brown-200":"hsl(14, 15.19%, 69.02%)","brown-300":"hsl(15, 15.32%, 56.47%)","brown-400":"hsl(15, 17.5%, 47.06%)","brown-500":"hsl(15, 25.39%, 37.84%)","brown-600":"hsl(15, 25.29%, 34.12%)","brown-700":"hsl(14, 25.68%, 29.02%)","brown-800":"hsl(11, 25.81%, 24.31%)","brown-900":"hsl(8, 27.84%, 19.02%)","gray-50":"hsl(0, 0.0%, 98.04%)","gray-100":"hsl(0, 0.0%, 96.08%)","gray-200":"hsl(0, 0.0%, 93.33%)","gray-300":"hsl(0, 0.0%, 87.84%)","gray-400":"hsl(0, 0.0%, 74.12%)","gray-500":"hsl(0, 0.0%, 61.96%)","gray-600":"hsl(0, 0.0%, 45.88%)","gray-700":"hsl(0, 0.0%, 38.04%)","gray-800":"hsl(0, 0.0%, 25.88%)","gray-900":"hsl(0, 0.0%, 12.94%)","blue-gray-50":"hsl(204, 15.15%, 93.53%)","blue-gray-100":"hsl(198, 15.66%, 83.73%)","blue-gray-200":"hsl(199, 15.33%, 73.14%)","blue-gray-300":"hsl(199, 15.63%, 62.35%)","blue-gray-400":"hsl(200, 15.38%, 54.12%)","blue-gray-500":"hsl(199, 18.3%, 46.08%)","blue-gray-600":"hsl(198, 18.45%, 40.39%)","blue-gray-700":"hsl(199, 18.34%, 33.14%)","blue-gray-800":"hsl(199, 17.91%, 26.27%)","blue-gray-900":"hsl(199, 19.15%, 18.43%)","blue-gray-1000":"hsl(199, 20.93%, 8.43%)"},Te={colors:N7,layout:ws,time:D7};var Mt=(e=>(e[e.left=0]="left",e[e.middle=1]="middle",e[e.right=2]="right",e))(Mt||{}),gr=(e=>(e[e.First=0]="First",e[e.Second=1]="Second",e[e.Both=2]="Both",e))(gr||{}),di=(e=>(e[e.PairArray=0]="PairArray",e[e.PairString=1]="PairString",e))(di||{}),It=(e=>(e[e.SectorArc=0]="SectorArc",e[e.MidLine=1]="MidLine",e))(It||{});const H7=[[" ",19.3],["!",34.3],['"',39.7],["#",58],["$",58],["%",78.6],["&",70.3],["'",23],["(",30],[")",30],["*",40],["+",58],[",",21.2],["-",34.7],[".",21.2],["/",37.3],["0",58],["1",58],["2",58],["3",58],["4",58],["5",58],["6",58],["7",58],["8",58],["9",58],[":",25.2],[";",25.2],["<",58],["=",58],[">",58],["?",39.8],["@",82.2],["A",68],["B",64.7],["C",68.5],["D",75.3],["E",58.1],["F",56.6],["G",73.4],["H",75.6],["I",30.7],["J",44.4],["K",68.1],["L",51.4],["M",92],["N",75.6],["O",79.8],["P",61.1],["Q",79.8],["R",64.4],["S",53],["T",59],["U",73],["V",68],["W",101.9],["X",64.3],["Y",62.9],["Z",62.4],["[",30],["\\",37.5],["]",30],["^",58],["_",39.4],["`",30.7],["a",50.7],["b",55.9],["c",46.7],["d",55.9],["e",52.4],["f",33.7],["g",51.1],["h",55.6],["i",25.6],["j",25.4],["k",52.4],["l",25.6],["m",82.1],["n",55.6],["o",55.6],["p",55.2],["q",55.9],["r",40.3],["s",43.4],["t",37.3],["u",55.6],["v",51.2],["w",76.6],["x",50.4],["y",51.2],["z",46.2],["{",30],["|",30],["}",30],["~",58],["_median",55.9]],F7=[['"&',-9.1],['",',-11.4],['"-',-8.9],['".',-11.4],['"/',-9.1],['"@',-2.3],['"A',-9.1],['"C',-2.3],['"G',-2.3],['"O',-2.3],['"Q',-2.3],['"V',2.4],['"W',2.4],['"Y',1.5],['"\\',2.4],['"a',-3.2],['"c',-4.6],['"d',-4.6],['"e',-4.6],['"o',-4.6],['"q',-4.6],["'&",-9.1],["',",-11.4],["'-",-8.9],["'.",-11.4],["'/",-9.1],["'@",-2.3],["'A",-9.1],["'C",-2.3],["'G",-2.3],["'O",-2.3],["'Q",-2.3],["'V",2.4],["'W",2.4],["'Y",1.5],["'\\",2.4],["'a",-3.2],["'c",-4.6],["'d",-4.6],["'e",-4.6],["'o",-4.6],["'q",-4.6],["(@",-2],["(C",-2],["(G",-2],["(O",-2],["(Q",-2],["(c",-1.6],["(d",-1.6],["(e",-1.6],["(o",-1.6],["(q",-1.6],["*&",-9.1],["*,",-11.4],["*-",-8.9],["*.",-11.4],["*/",-9.1],["*@",-2.3],["*A",-9.1],["*C",-2.3],["*G",-2.3],["*O",-2.3],["*Q",-2.3],["*V",2.4],["*W",2.4],["*Y",1.5],["*\\",2.4],["*a",-3.2],["*c",-4.6],["*d",-4.6],["*e",-4.6],["*o",-4.6],["*q",-4.6],[',"',-11.4],[",'",-11.4],[",*",-11.4],[",-",-6.8],[",@",-2.8],[",C",-2.8],[",G",-2.8],[",O",-2.8],[",Q",-2.8],[",T",-9],[",V",-9],[",W",-6.1],[",Y",-7.6],[",\\",-9],[",v",-6.6],[",w",-3.1],[",y",-6.6],['-"',-8.9],["-&",-2.6],["-'",-8.9],["-*",-8.9],["-,",-6.8],["-.",-6.8],["-/",-2.6],["-A",-2.6],["-T",-9],["-V",-5.6],["-W",-1.6],["-X",-3.1],["-Y",-8],["-Z",-2.3],["-\\",-5.6],['."',-11.4],[".'",-11.4],[".*",-11.4],[".-",-6.8],[".@",-2.8],[".C",-2.8],[".G",-2.8],[".O",-2.8],[".Q",-2.8],[".T",-9],[".V",-9],[".W",-6.1],[".Y",-7.6],[".\\",-9],[".v",-6.6],[".w",-3.1],[".y",-6.6],['/"',2.4],["/&",-6.8],["/'",2.4],["/*",2.4],["/,",-9.6],["/-",-5.6],["/.",-9.6],["//",-6.8],["/:",-4.4],["/;",-4.4],["/?",2.4],["/@",-2.6],["/A",-6.8],["/C",-2.6],["/G",-2.6],["/J",-7.6],["/O",-2.6],["/Q",-2.6],["/a",-5.8],["/c",-5.8],["/d",-5.8],["/e",-5.8],["/f",-1.5],["/g",-6.8],["/m",-4.4],["/n",-4.4],["/o",-5.8],["/p",-4.4],["/q",-5.8],["/r",-4.4],["/s",-5.3],["/t",-2.1],["/u",-4.4],["/v",-2.4],["/x",-2.6],["/y",-2.4],["/z",-4.1],['@"',-2.3],["@&",-2.1],["@'",-2.3],["@)",-2],["@*",-2.3],["@,",-2.8],["@.",-2.8],["@/",-2.1],["@A",-2.1],["@T",-4.9],["@V",-2.6],["@X",-1.5],["@Y",-4],["@Z",-3.5],["@\\",-2.6],["@]",-2],["@}",-2],['A"',-9.1],["A'",-9.1],["A*",-9.1],["A-",-2.6],["A?",-2.8],["A@",-2.1],["AC",-2.1],["AG",-2.1],["AJ",2.5],["AO",-2.1],["AQ",-2.1],["AT",-6.6],["AU",-2.8],["AV",-6.8],["AW",-4.2],["AY",-8.2],["A\\",-6.8],["Av",-4.1],["Ay",-4.1],["C-",-7.5],['D"',-2.3],["D&",-2.1],["D'",-2.3],["D)",-2],["D*",-2.3],["D,",-2.8],["D.",-2.8],["D/",-2.1],["DA",-2.1],["DT",-4.9],["DV",-2.6],["DX",-1.5],["DY",-4],["DZ",-3.5],["D\\",-2.6],["D]",-2],["D}",-2],["F&",-6.6],["F,",-9],["F.",-9],["F/",-6.6],["F:",-3],["F;",-3],["F?",1.5],["FA",-6.6],["FJ",-9.9],["Fc",-3.5],["Fd",-3.5],["Fe",-3.5],["Fm",-3],["Fn",-3],["Fo",-3.5],["Fp",-3],["Fq",-3.5],["Fr",-3],["Fu",-3],["J&",-2.8],["J,",-2.5],["J.",-2.5],["J/",-2.8],["JA",-2.8],["K-",-3.1],["K@",-1.5],["KC",-1.5],["KG",-1.5],["KO",-1.5],["KQ",-1.5],["Kc",-1.8],["Kd",-1.8],["Ke",-1.8],["Kf",-2.6],["Ko",-1.8],["Kq",-1.8],["Kt",-4.1],["Kv",-3.3],["Kw",-2.8],["Ky",-3.3],['L"',-14.5],["L'",-14.5],["L*",-14.5],["L,",2.7],["L-",-9.9],["L.",2.7],["L?",-2.5],["L@",-4],["LC",-4],["LG",-4],["LO",-4],["LQ",-4],["LT",-8.6],["LV",-9.1],["LW",-7.6],["LY",-10.6],["L\\",-9.1],["Lc",-1.8],["Ld",-1.8],["Le",-1.8],["Lo",-1.8],["Lq",-1.8],["Lv",-5.4],["Lw",-4],["Ly",-5.4],['O"',-2.3],["O&",-2.1],["O'",-2.3],["O)",-2],["O*",-2.3],["O,",-2.8],["O.",-2.8],["O/",-2.1],["OA",-2.1],["OT",-4.9],["OV",-2.6],["OX",-1.5],["OY",-4],["OZ",-3.5],["O\\",-2.6],["O]",-2],["O}",-2],["P&",-6.9],["P,",-12.4],["P.",-12.4],["P/",-6.9],["PA",-6.9],["PJ",-9.1],["Pa",-2.5],["Pc",-1.5],["Pd",-1.5],["Pe",-1.5],["Po",-1.5],["Pq",-1.5],['Q"',-2.3],["Q&",-2.1],["Q'",-2.3],["Q)",-2],["Q*",-2.3],["Q,",-2.8],["Q.",-2.8],["Q/",-2.1],["QA",-2.1],["QT",-4.9],["QV",-2.6],["QX",-1.5],["QY",-4],["QZ",-3.5],["Q\\",-2.6],["Q]",-2],["Q}",-2],["R@",-2.3],["RC",-2.3],["RG",-2.3],["RO",-2.3],["RQ",-2.3],["RT",-2.6],["RU",-2.1],["T&",-6.6],["T,",-9],["T-",-9],["T.",-9],["T/",-6.6],["T:",-8],["T;",-8],["T@",-4.9],["TA",-6.6],["TC",-4.9],["TG",-4.9],["TJ",-10],["TO",-4.9],["TQ",-4.9],["Ta",-12.5],["Tc",-10.5],["Td",-10.5],["Te",-10.5],["Tg",-9.4],["Tm",-8],["Tn",-8],["To",-10.5],["Tp",-8],["Tq",-10.5],["Tr",-8],["Ts",-8.1],["Tu",-8],["Tv",-9],["Tw",-7],["Tx",-7.2],["Ty",-9],["Tz",-6],["U&",-2.8],["U,",-2.5],["U.",-2.5],["U/",-2.8],["UA",-2.8],['V"',2.4],["V&",-6.8],["V'",2.4],["V*",2.4],["V,",-9.6],["V-",-5.6],["V.",-9.6],["V/",-6.8],["V:",-4.4],["V;",-4.4],["V?",2.4],["V@",-2.6],["VA",-6.8],["VC",-2.6],["VG",-2.6],["VJ",-7.6],["VO",-2.6],["VQ",-2.6],["Va",-5.8],["Vc",-5.8],["Vd",-5.8],["Ve",-5.8],["Vf",-1.5],["Vg",-6.8],["Vm",-4.4],["Vn",-4.4],["Vo",-5.8],["Vp",-4.4],["Vq",-5.8],["Vr",-4.4],["Vs",-5.3],["Vt",-2.1],["Vu",-4.4],["Vv",-2.4],["Vx",-2.6],["Vy",-2.4],["Vz",-4.1],['W"',2.4],["W&",-4.7],["W'",2.4],["W*",2.4],["W,",-6.1],["W-",-1.6],["W.",-6.1],["W/",-4.7],["W?",1.7],["WA",-4.7],["WJ",-5.1],["Wa",-4.4],["Wc",-1.6],["Wd",-1.6],["We",-1.6],["Wg",-4.9],["Wo",-1.6],["Wq",-1.6],["Ws",-2.3],["X-",-3.1],["X@",-1.5],["XC",-1.5],["XG",-1.5],["XO",-1.5],["XQ",-1.5],["Xc",-1.8],["Xd",-1.8],["Xe",-1.8],["Xf",-2.6],["Xo",-1.8],["Xq",-1.8],["Xt",-4.1],["Xv",-3.3],["Xw",-2.8],["Xy",-3.3],['Y"',1.5],["Y&",-8.2],["Y'",1.5],["Y*",1.5],["Y,",-7.6],["Y-",-8],["Y.",-7.6],["Y/",-8.2],["Y:",-6.1],["Y;",-6.1],["Y?",1.7],["Y@",-4],["YA",-8.2],["YC",-4],["YG",-4],["YJ",-10],["YO",-4],["YQ",-4],["Ya",-6.4],["Yc",-8],["Yd",-8],["Ye",-8],["Yg",-8.6],["Ym",-6.1],["Yn",-6.1],["Yo",-8],["Yp",-6.1],["Yq",-8],["Yr",-6.1],["Ys",-6.4],["Yu",-6.1],["Yv",-5],["Yw",-4.6],["Yx",-6.6],["Yy",-5],["Z-",-3.5],["Z?",1.7],["Z@",-2.9],["ZC",-2.9],["ZG",-2.9],["ZO",-2.9],["ZQ",-2.9],["Zc",-1.9],["Zd",-1.9],["Ze",-1.9],["Zo",-1.9],["Zq",-1.9],["Zs",-1.4],["Zv",-2],["Zy",-2],["[@",-2],["[C",-2],["[G",-2],["[O",-2],["[Q",-2],["[c",-1.6],["[d",-1.6],["[e",-1.6],["[o",-1.6],["[q",-1.6],['\\"',-9.1],["\\'",-9.1],["\\*",-9.1],["\\-",-2.6],["\\?",-2.8],["\\@",-2.1],["\\C",-2.1],["\\G",-2.1],["\\J",2.5],["\\O",-2.1],["\\Q",-2.1],["\\T",-6.6],["\\U",-2.8],["\\V",-6.8],["\\W",-4.2],["\\Y",-8.2],["\\\\",-6.8],["\\v",-4.1],["\\y",-4.1],['a"',-3.6],["a'",-3.6],["a*",-3.6],["av",-1.6],["aw",-.8],["ay",-1.6],['b"',-4.6],["b'",-4.6],["b)",-1.6],["b*",-4.6],["bV",-5.8],["bW",-1.6],["b\\",-5.8],["b]",-1.6],["bv",-1.3],["bx",-3],["by",-1.3],["b}",-1.6],['e"',-4.6],["e'",-4.6],["e)",-1.6],["e*",-4.6],["eV",-5.8],["eW",-1.6],["e\\",-5.8],["e]",-1.6],["ev",-1.3],["ex",-3],["ey",-1.3],["e}",-1.6],['f"',3.4],["f'",3.4],["f*",3.4],["f,",-6.5],["f.",-6.5],["fi",-2.3],['h"',-3.6],["h'",-3.6],["h*",-3.6],["hv",-1.6],["hw",-.8],["hy",-1.6],["kc",-3],["kd",-3],["ke",-3],["ko",-3],["kq",-3],['m"',-3.6],["m'",-3.6],["m*",-3.6],["mv",-1.6],["mw",-.8],["my",-1.6],['n"',-3.6],["n'",-3.6],["n*",-3.6],["nv",-1.6],["nw",-.8],["ny",-1.6],['o"',-4.6],["o'",-4.6],["o)",-1.6],["o*",-4.6],["oV",-5.8],["oW",-1.6],["o\\",-5.8],["o]",-1.6],["ov",-1.3],["ox",-3],["oy",-1.3],["o}",-1.6],['p"',-4.6],["p'",-4.6],["p)",-1.6],["p*",-4.6],["pV",-5.8],["pW",-1.6],["p\\",-5.8],["p]",-1.6],["pv",-1.3],["px",-3],["py",-1.3],["p}",-1.6],["r,",-6.6],["r.",-6.6],["ra",-1.9],["v&",-4.1],["v,",-6.6],["v.",-6.6],["v/",-4.1],["vA",-4.1],["vc",-1.3],["vd",-1.3],["ve",-1.3],["vo",-1.3],["vq",-1.3],["w,",-3.1],["w.",-3.1],["xc",-3],["xd",-3],["xe",-3],["xo",-3],["xq",-3],["y&",-4.1],["y,",-6.6],["y.",-6.6],["y/",-4.1],["yA",-4.1],["yc",-1.3],["yd",-1.3],["ye",-1.3],["yo",-1.3],["yq",-1.3],["{@",-2],["{C",-2],["{G",-2],["{O",-2],["{Q",-2],["{c",-1.6],["{d",-1.6],["{e",-1.6],["{o",-1.6],["{q",-1.6]],P7={textWidth:H7,kerningWidth:F7},R7=(e,t,n=16)=>{const r=new Map(e.textWidth),i=new Map(e.kerningWidth),s=[...t];let a=0;for(const[o,u]of s.entries())a+=r.get(u)||r.get("_median"),o!==s.length-1&&(a+=i.get(`${u}${s[o+1]}`)||0);return a/(100/n)},ft=(e,t=16)=>R7(P7,e,t),ns=Math.PI/2,p2=20;function I7(e,t){switch(t){case It.SectorArc:{const n=[this.xScale(e.x0)-ns,this.xScale(e.x1)-ns],r=Math.max(0,(this.yScale(e.y0)+this.yScale(e.y1))/2),i=(n[0]+n[1])/2,s=i>0&&i<Math.PI;s&&n.reverse();const a=z.path();return a.arc(0,0,r,n[0],n[1],s),a.toString()}case It.MidLine:{const n=[this.xScale(e.x0)-ns,this.xScale(e.x1)-ns],r=(n[0]+n[1])/2,i=this.yScale(e.y0),s=this.yScale(e.y1),a=i*Math.cos(r),o=i*Math.sin(r),u=s*Math.cos(r),l=s*Math.sin(r),c=z.path();return r>=Math.PI/2&&r<=Math.PI*3/2?(c.moveTo(u,l),c.lineTo(a,o)):(c.moveTo(a,o),c.lineTo(u,l)),c.toString()}}}function E7(e,t=16,n=null,r=0){n==null&&(n=this.getFeatureInfo(e.data.f).nameValue);const i=ft(n,t),s=this.xScale(e.x1)-this.xScale(e.x0),a=Math.max(0,(this.yScale(e.y0)+this.yScale(e.y1))/2),o=s*a;return i<=o-r}const jl=(e,t)=>{const n=z.color(e(t.data.f));let r="currentcolor";if(n!==null){const i=[252,252,252],s=[74,74,74],a=z.color(n).rgb(),o=[a.r,a.g,a.b];Or(i,o)<Or(s,o)&&(r="hsla(0, 0%, 99%, 1)")}return r};function z7(){const t=this.svg.select("g.mid-circle-group").selectAll("g.mid-circle");if(t.size()===0)return;const n=this.svg.select(`g.arc-${this.sunburstStoreValue.depthLow}`).datum(),i=(this.yScale(n.y1)-this.yScale(n.y0))/t.size(),s=Math.PI*1.2,a=t.append("text").attr("class","feature-name").style("fill",l=>jl(this.getFeatureColor,l)),o=this.textFontScale(this.sunburstStoreValue.depthHigh-this.sunburstStoreValue.depthLow),u=(l,c)=>{const f=this.getFeatureInfo(l.data.f);let h=f.nameValue,p=ft(h,16*o);if(p>c)for(h=f.shortValue,p=ft(h,16*o);p>c;)h=h.replace("...",""),h=h.slice(0,h.length-1),h=`${h}...`,p=ft(h,16*o);return h};a.filter(l=>l.depth===1).style("font-size",`${o}rem`).text(l=>u(l,i*2-10)),a.filter(l=>l.depth!==1).style("font-size",`${o}rem`).append("textPath").attr("startOffset","50%").attr("xlink:href",l=>`#mid-circle-text-arc-${l.depth}`).text(l=>u(l,i*(l.depth-.5)*s))}function W7(){const e=this.svg.select("g.arc-group"),t=this.svg.select("g.text-group");let n=e.selectAll(`g.arc-${this.xScale.domain()[0]===0&&this.xScale.domain()[1]===1?this.sunburstStoreValue.depthLow:this.sunburstStoreValue.depthLow+1}`);n=n.sort((f,h)=>f.x0-h.x0),n=n.filter(f=>f.x0>=this.xScale.domain()[0]&&f.x1<=this.xScale.domain()[1]&&f.data.f!=="_");const r=t.selectAll("g.text-group").data(n.data()).join("g").attr("class","text-group");r.append("path").attr("class","text-arc").attr("id",(f,h)=>`text-arc-${h}`).attr("d",f=>this.textArc(f,It.SectorArc)),r.append("path").attr("class","text-line").attr("id",(f,h)=>`text-line-${h}`).attr("d",f=>this.textArc(f,It.MidLine));const i=r.append("text").attr("class","feature-name");i.style("fill",f=>jl(this.getFeatureColor,f));const s=new Set,a=new Map;if(i.size()===0)return;const o=this.yScale(i.datum().y1)-this.yScale(i.datum().y0)-15,u=this.textFontScale(this.sunburstStoreValue.depthHigh-this.sunburstStoreValue.depthLow),l=i.style("font-size",`${u}rem`).append("textPath").attr("startOffset","50%").attr("xlink:href",(f,h)=>{const p=this.getFeatureInfo(f.data.f);let g=p.nameValue,d=!1;return s.has(p.name)&&(g=p.value,d=!0),s.add(p.name),ft(g,16*u)<o?(a.set(h,It.MidLine),`#text-line-${h}`):!d&&this.doesTextFitArc(f,16*u,g,10)?(a.set(h,It.SectorArc),`#text-arc-${h}`):(a.set(h,It.MidLine),`#text-line-${h}`)});s.clear(),l.text((f,h)=>{const p=this.getFeatureInfo(f.data.f);let g=p.nameValue,d=!1;if(s.has(p.name)&&(g=p.value,d=!0),a.get(h)===It.MidLine){if(this.yScale(f.y1)*(this.xScale(f.x1)-this.xScale(f.x0))<p2)return"";let v=ft(g,16*u);if(v>o&&!d)for(g=p.shortValue,v=ft(g,16*u);v>o;)g=g.replace("...",""),g=g.slice(0,g.length-1),g=`${g}...`,v=ft(g,16*u)}return s.add(p.name),g});const c=new Set;Array.from(this.featureMap.entries()).forEach(f=>{s.has(f[1][0])||c.add(f[0])}),this.drawSecondaryText(c)}function O7(e){const t=this.svg.select("g.arc-group"),n=this.svg.select("g.text-group");let r=t.selectAll(`g.arc-${this.xScale.domain()[0]===0&&this.xScale.domain()[1]===1?this.sunburstStoreValue.depthLow+1:this.sunburstStoreValue.depthLow+2}`);if(r=r.filter(f=>f.x0>=this.xScale.domain()[0]&&f.x1<=this.xScale.domain()[1]&&e.has(+f.data.f)),r.size()===0)return;r=r.sort((f,h)=>f.x0-h.x0);const i=n.selectAll("g.s-text-group").data(r.data()).join("g").attr("class","text-group");i.append("path").attr("class","text-arc").attr("id",(f,h)=>`s-text-arc-${h}`).attr("d",f=>this.textArc(f,It.SectorArc)),i.append("path").attr("class","text-line").attr("id",(f,h)=>`s-text-line-${h}`).attr("d",f=>this.textArc(f,It.MidLine));const s=i.append("text").attr("class","feature-name"),a=this.yScale(s.datum().y1)-this.yScale(s.datum().y0)-15,o=this.textFontScale(this.sunburstStoreValue.depthHigh-this.sunburstStoreValue.depthLow);s.style("fill",f=>jl(this.getFeatureColor,f));const u=new Set([]),l=s.style("font-size",`${o}rem`).append("textPath").attr("startOffset","50%").attr("xlink:href",(f,h)=>{const g=this.getFeatureInfo(f.data.f).nameValue;return ft(g,16*o)<a?`#s-text-line-${h}`:this.doesTextFitArc(f,16*o,g,10)?(u.add(h),`#s-text-arc-${h}`):`#s-text-line-${h}`}),c=new Set;l.text((f,h)=>{if(c.has(f.data.f))return"";const p=this.getFeatureInfo(f.data.f);let g=p.nameValue;if(this.yScale(f.y1)*(this.xScale(f.x1)-this.xScale(f.x0))<p2)return"";if(!u.has(h)){let m=ft(g,16*o);if(m>a)for(g=p.shortValue,m=ft(g,16*o);m>a;)g=g.replace("...",""),g=g.slice(0,g.length-1),g=`${g}...`,m=ft(g,16*o)}return c.add(f.data.f),g})}function G7(){this.svg.select(".text-group").selectAll("*").remove(),this.svg.selectAll("text.feature-name").remove()}let gi=null,vs=null,g2=new Date().getTime();function Y7(e,t){if(e.stopPropagation(),e.preventDefault(),t!==null&&t.data.f==="_")return;let n={x0:0,x1:1,y0:0,y1:1},r=t;const i=this.xScale.domain(),s=this.yScale.domain(),a=this.sunburstStoreValue.depthHigh-this.sunburstStoreValue.depthLow;if(t===null||t.x0==i[0]&&t.x1==i[1]){const l=this.arcDomainStack.pop();l!==void 0?(r=l.node,n=l,this.sunburstStoreValue.depthLow=r.depth===0?1:r.depth,this.sunburstStoreValue.depthHigh=Math.min(this.sunburstStoreValue.depthLow+l.depthGap,this.sunburstStoreValue.depthMax)):console.error("No more arc domain from the stack to pop!")}else{const l=1/(this.sunburstStoreValue.depthMax+1);this.sunburstStoreValue.depthLow=t.depth,this.sunburstStoreValue.depthHigh=Math.min(t.depth+a,this.sunburstStoreValue.depthMax),n={x0:t.x0,x1:t.x1,y0:t.y0,y1:t.y0+l*(this.sunburstStoreValue.depthHigh-this.sunburstStoreValue.depthLow+1)};const c={x0:i[0],x1:i[1],y0:s[0],y1:s[1],node:this.curHeadNode,depthGap:a};this.arcDomainStack.push(c)}const o=new Array(this.sunburstStoreValue.depthMax).fill("");r.ancestors().forEach(l=>{if(l.depth>0){const c=this.getFeatureColor(l.data.f);o[l.depth-1]=c}}),this.sunburstStoreValue.depthColors=o,this.sunburstStore.set(this.sunburstStoreValue),this.curHeadNode=r,this.sunburstUpdated(),this.arcZoom(n)}function B7(e,t){if(e.currentTarget===null)return;t.ancestors().filter(r=>r.depth>0).forEach(r=>{const i=this.svg.select(`path#arc-${r.data.nid}`);z.select(i.node().parentElement).raise(),i.classed("highlighted",!0)})}function U7(e,t){if(e.currentTarget===null)return;t.ancestors().filter(r=>r.depth>0).forEach(r=>{this.svg.select(`path#arc-${r.data.nid}`).classed("highlighted",!1)})}function Z7(e,t){e.preventDefault(),e.stopPropagation(),this.arcMouseenterHandler(e,t),vs!==null&&(window.clearTimeout(vs),vs=null);const n=()=>{if(t.data.t===void 0)return;const r=t.data.t;this.treeWindowStoreValue.treeID=+r;const i=t.ancestors().filter(a=>a.depth!==0).map(a=>a.data.f).reverse();this.treeWindowStoreValue.ancestorFs=i;const s=this.getTreeWindowPos(t);this.treeWindowStoreValue.x=s.x,this.treeWindowStoreValue.y=s.y,this.treeWindowStoreValue.show=!0,this.treeWindowStore.set(this.treeWindowStoreValue),this.curHeadNode.value&&this.curHeadNode.value<300&&this.svg.select(".arc-group").selectAll(`path.arc.leaf-${r}`).filter(o=>o.data.nid!==t.data.nid).classed("same-leaf-highlight",!0),gi=null};this.treeWindowStoreValue.show||new Date().getTime()-g2<500?n():gi=window.setTimeout(n,Te.time.mouseenterDelay)}function j7(e,t){t.data.t!==void 0&&(e.preventDefault(),e.stopPropagation(),this.arcMouseleaveHandler(e,t),this.curHeadNode.value&&this.curHeadNode.value<300&&this.svg.select(".arc-group").selectAll(`path.arc.leaf-${t.data.t}`).classed("same-leaf-highlight",!1),gi!==null&&(window.clearTimeout(gi),gi=null),vs=window.setTimeout(()=>{this.treeWindowStoreValue.show=!1,this.treeWindowStore.set(this.treeWindowStoreValue),g2=new Date().getTime()},100))}function X7(e){let t=(this.xScale(e.x0)+this.xScale(e.x1))/2-Math.PI/2;const n=this.yScale(e.y1)+8,r={x:Math.cos(t)*n,y:Math.sin(t)*n,quad:Math.floor(t/(Math.PI/2))+2};e.x0===this.xScale.domain()[0]&&e.x1===this.xScale.domain()[1]&&(r.x=Math.cos(-Math.PI/4)*n,r.y=Math.sin(-Math.PI/4)*n,r.quad=1);const i=c=>{const f={x:0,y:0};switch(c.quad){case 1:{f.x=c.x,f.y=c.y-Te.layout.treeWindowHeight;break}case 2:{f.x=c.x,f.y=c.y;break}case 3:{f.x=c.x-Te.layout.treeWindowWidth,f.y=c.y;break}case 4:{f.x=c.x-Te.layout.treeWindowWidth,f.y=c.y-Te.layout.treeWindowHeight;break}default:console.warn("Unknown quad!")}return f};let s=window.innerHeight;z.select(".timbertrek-page").size()>0&&(s=z.select(".timbertrek-page").node().getBoundingClientRect().height);const a=5,o=this.svg.node().getBoundingClientRect(),u={x:o.x+o.width/2,y:o.y+o.height/2};let l=i(r);if(l.y+u.y<a){const f=-(u.y-Te.layout.treeWindowHeight-a);t=Math.asin(f/n),r.quad===4&&(t=Math.PI-t),r.x=Math.cos(t)*n,r.y=Math.sin(t)*n,r.quad=Math.floor(t/(Math.PI/2))+2,l=i(r)}if(l.y+u.y+Te.layout.treeWindowHeight>s-a){const c=s-a-u.y-Te.layout.treeWindowHeight;t=Math.asin(c/n),r.quad===3&&(t=Math.PI-t),r.x=Math.cos(t)*n,r.y=Math.sin(t)*n,r.quad=Math.floor(t/(Math.PI/2))+2,l=i(r)}return l.x=u.x+l.x,l.y=u.y+l.y,l}function q7(e,t){if(e.preventDefault(),e.stopPropagation(),localStorage.getItem("treeWindowPinnedOnce")!=="true"&&localStorage.setItem("treeWindowPinnedOnce","true"),t.data.t===void 0)return;const n=t.data.t,r=this.treeWindowStoreValue.treeMap.get(n);if(r===void 0)return;const i=this.getTreeWindowPos(t),s={x:i.x,y:i.y,width:Te.layout.treeWindowWidth,height:Te.layout.treeWindowHeight},a={x:20,y:20};if(this.pinnedTreeStoreValue.lastActiveTreeID!==null){const o=this.pinnedTreeStoreValue.pinnedTrees.filter(u=>u.treeID===this.pinnedTreeStoreValue.lastActiveTreeID)[0];a.x=o.x+20,a.y=o.y+30}if(this.pinnedTreeStoreValue.pinnedTrees.map(o=>o.treeID).includes(n)){let o=-1;for(let l=0;l<this.pinnedTreeStoreValue.pinnedTrees.length;l++)if(this.pinnedTreeStoreValue.pinnedTrees[l].treeID===n){o=l;break}if(o===-1){console.warn("Could not find the clicked tree in the pinnedTrees array!");return}const u=this.pinnedTreeStoreValue.pinnedTrees[o];u.isPinned?u.jiggle():(u.isPinned=!0,u.startPos=s,u.x=a.x,u.y=a.y),this.pinnedTreeStore.set(this.pinnedTreeStoreValue)}else{const o={tree:r[0],treeMetric:Wr(r[2],4),treeID:n,x:a.x,y:a.y,startPos:s,isFav:!1,isPinned:!0,note:"",jiggle:()=>{}};this.pinnedTreeStoreValue.pinnedTrees.push(o),this.pinnedTreeStore.set(this.pinnedTreeStoreValue)}}function J7(){const t=this.treeWindowStoreValue.treeMap.get(412);if(t!==void 0){const n={x:70,y:150};if(this.pinnedTreeStoreValue.lastActiveTreeID!==null){const i=this.pinnedTreeStoreValue.pinnedTrees.filter(s=>s.treeID===this.pinnedTreeStoreValue.lastActiveTreeID)[0];n.x=i.x+20,n.y=i.y+30}const r={tree:t[0],treeMetric:Wr(t[2],4),treeID:412,x:n.x,y:n.y,startPos:{x:0,y:0,width:0,height:0},isFav:!1,isPinned:!0,note:"",jiggle:()=>{}};this.pinnedTreeStoreValue.pinnedTrees.push(r),this.pinnedTreeStore.set(this.pinnedTreeStoreValue)}}let Vn=null;function Q7(){this.treeMapMap.forEach((n,r)=>{n[2]>=this.localAccuracyLow&&n[2]<=this.localAccuracyHigh?this.selectedTrees.accuracy.add(r):this.selectedTrees.accuracy.delete(r)});const e=new Set;for(const n of this.selectedTrees.accuracy)this.selectedTrees.depth.has(n)&&this.selectedTrees.minSample.has(n)&&this.selectedTrees.allFeature.has(n)&&this.selectedTrees.height.has(n)&&e.add(n);this.dataRoot.eachBefore(n=>{n.data.t!==void 0&&(e.has(n.data.t)?n.data.u=!0:n.data.u=!1)}),this.dataRoot=this.dataRoot.sum(n=>n.u!==void 0&&n.u?1:0);const t=z.partition()(this.dataRoot);t.eachAfter(n=>{var r;if(n.data.u!==void 0&&n.data.u)n.uniqueTreeIDs=new Set([n.data.t]);else{const i=new Set;(r=n.children)==null||r.forEach(s=>{var a;(a=s.uniqueTreeIDs)==null||a.forEach(o=>{i.add(o)})}),n.uniqueTreeIDs=i}}),t.each(n=>{var r;n.treeNum=((r=n.uniqueTreeIDs)==null?void 0:r.size)||0,n.uniqueTreeIDs=null}),this.partition=t,this.updateSunburst(),this.searchStoreValue.updatePlots!==null&&this.searchStoreValue.updatePlots(this.selectedTrees,!1)}function K7(){if(this.searchStoreValue.treeMinSampleMap===null)return;for(const[n,r]of this.searchStoreValue.treeMinSampleMap)r>=this.localMinSampleLow&&r<=this.localMinSampleHigh?this.selectedTrees.minSample.add(n):this.selectedTrees.minSample.delete(n);const e=new Set;for(const n of this.selectedTrees.accuracy)this.selectedTrees.depth.has(n)&&this.selectedTrees.minSample.has(n)&&this.selectedTrees.allFeature.has(n)&&this.selectedTrees.height.has(n)&&e.add(n);this.dataRoot.eachBefore(n=>{n.data.t!==void 0&&(e.has(n.data.t)?n.data.u=!0:n.data.u=!1)}),this.dataRoot=this.dataRoot.sum(n=>n.u!==void 0&&n.u?1:0);const t=z.partition()(this.dataRoot);t.eachAfter(n=>{var r;if(n.data.u!==void 0&&n.data.u)n.uniqueTreeIDs=new Set([n.data.t]);else{const i=new Set;(r=n.children)==null||r.forEach(s=>{var a;(a=s.uniqueTreeIDs)==null||a.forEach(o=>{i.add(o)})}),n.uniqueTreeIDs=i}}),t.each(n=>{var r;n.treeNum=((r=n.uniqueTreeIDs)==null?void 0:r.size)||0,n.uniqueTreeIDs=null}),this.partition=t,this.updateSunburst(),this.searchStoreValue.updatePlots!==null&&this.searchStoreValue.updatePlots(this.selectedTrees,!1)}function $7(){if(this.searchStoreValue.treeHeightMap===null)return;this.searchStoreValue.treeHeightMap.forEach((n,r)=>{this.localHeightRange.has(n)?this.selectedTrees.height.add(r):this.selectedTrees.height.delete(r)});const e=new Set;for(const n of this.selectedTrees.accuracy)this.selectedTrees.depth.has(n)&&this.selectedTrees.minSample.has(n)&&this.selectedTrees.allFeature.has(n)&&this.selectedTrees.height.has(n)&&e.add(n);this.dataRoot.eachBefore(n=>{const r=n;r.previous={x0:r.x0,x1:r.x1,y0:r.y0,y1:r.y1,data:r.data},n.data.t!==void 0&&(e.has(n.data.t)?n.data.u=!0:n.data.u=!1)}),this.dataRoot=this.dataRoot.sum(n=>n.u!==void 0&&n.u?1:0);const t=z.partition()(this.dataRoot);t.eachAfter(n=>{var r;if(n.data.u!==void 0&&n.data.u)n.uniqueTreeIDs=new Set([n.data.t]);else{const i=new Set;(r=n.children)==null||r.forEach(s=>{var a;(a=s.uniqueTreeIDs)==null||a.forEach(o=>{i.add(o)})}),n.uniqueTreeIDs=i}}),t.each(n=>{var r;n.treeNum=((r=n.uniqueTreeIDs)==null?void 0:r.size)||0,n.uniqueTreeIDs=null}),this.partition=t,this.updateSunburstWithAnimation(),this.searchStoreValue.updatePlots!==null&&this.searchStoreValue.updatePlots(this.selectedTrees,!0)}function ed(){if(this.searchStoreValue.treeDepthFeaturesMap===null)return;for(const[n,r]of this.searchStoreValue.treeDepthFeaturesMap){let i=!0;e:for(const[s,a]of r)for(const o of a)if(!this.localDepthFeatures.get(s).has(o)){i=!1;break e}i?this.selectedTrees.depth.add(n):this.selectedTrees.depth.delete(n)}const e=new Set;for(const n of this.selectedTrees.accuracy)this.selectedTrees.depth.has(n)&&this.selectedTrees.minSample.has(n)&&this.selectedTrees.allFeature.has(n)&&this.selectedTrees.height.has(n)&&e.add(n);this.dataRoot.eachBefore(n=>{const r=n;r.previous={x0:r.x0,x1:r.x1,y0:r.y0,y1:r.y1,data:r.data},n.data.t!==void 0&&(e.has(n.data.t)?n.data.u=!0:n.data.u=!1)}),this.dataRoot=this.dataRoot.sum(n=>n.u!==void 0&&n.u?1:0);const t=z.partition()(this.dataRoot);t.eachAfter(n=>{var r;if(n.data.u!==void 0&&n.data.u)n.uniqueTreeIDs=new Set([n.data.t]);else{const i=new Set;(r=n.children)==null||r.forEach(s=>{var a;(a=s.uniqueTreeIDs)==null||a.forEach(o=>{i.add(o)})}),n.uniqueTreeIDs=i}}),t.each(n=>{var r;n.treeNum=((r=n.uniqueTreeIDs)==null?void 0:r.size)||0,n.uniqueTreeIDs=null}),this.partition=t,this.updateSunburstWithAnimation(),this.searchStoreValue.updatePlots!==null&&this.searchStoreValue.updatePlots(this.selectedTrees,!0)}function td(){if(this.searchStoreValue.treeDepthFeaturesMap===null)return;for(const[n,r]of this.searchStoreValue.treeDepthFeaturesMap){let i=!0;e:for(const[s,a]of r)for(const o of a)if(!this.localAllFeatures.has(o)){i=!1;break e}i?this.selectedTrees.allFeature.add(n):this.selectedTrees.allFeature.delete(n)}const e=new Set;for(const n of this.selectedTrees.accuracy)this.selectedTrees.depth.has(n)&&this.selectedTrees.minSample.has(n)&&this.selectedTrees.allFeature.has(n)&&this.selectedTrees.height.has(n)&&e.add(n);this.dataRoot.eachBefore(n=>{const r=n;r.previous={x0:r.x0,x1:r.x1,y0:r.y0,y1:r.y1,data:r.data},n.data.t!==void 0&&(e.has(n.data.t)?n.data.u=!0:n.data.u=!1)}),this.dataRoot=this.dataRoot.sum(n=>n.u!==void 0&&n.u?1:0);const t=z.partition()(this.dataRoot);t.eachAfter(n=>{var r;if(n.data.u!==void 0&&n.data.u)n.uniqueTreeIDs=new Set([n.data.t]);else{const i=new Set;(r=n.children)==null||r.forEach(s=>{var a;(a=s.uniqueTreeIDs)==null||a.forEach(o=>{i.add(o)})}),n.uniqueTreeIDs=i}}),t.each(n=>{var r;n.treeNum=((r=n.uniqueTreeIDs)==null?void 0:r.size)||0,n.uniqueTreeIDs=null}),this.partition=t,this.updateSunburstWithAnimation(),this.searchStoreValue.updatePlots!==null&&this.searchStoreValue.updatePlots(this.selectedTrees,!0)}function nd(e=500){const t=this.svg.select(".content-group"),n=z.transition().duration(e).ease(z.easeLinear);this.removeText(),this.arcDomainStack.forEach(i=>{i.x0=i.node.x0,i.x1=i.node.x1}),t.select(".arc-group").selectAll("g.arc").data(this.partition.descendants().slice(1),i=>i.data.nid).select("path").transition(n).tween("data",i=>{const s={x0:i.x0,x1:i.x1,y0:i.y0,y1:i.y1,data:i.data},a=z.interpolate(i.previous,s),o=z.interpolate(this.xScale.domain(),[this.curHeadNode.x0,this.curHeadNode.x1]);return u=>{this.xScale.domain(o(u)),i.previous=a(u)}}).style("display",i=>i.data.f===";"||i.depth>this.sunburstStoreValue.depthHigh+1?"none":(i.value!==void 0&&i.value===0,"initial")).attrTween("d",i=>()=>this.arc(i.previous)).on("end",(i,s,a)=>{const o=z.select(a[s]);let u="initial";i.data.f===";"||i.depth>this.sunburstStoreValue.depthHigh+1||i.value!==void 0&&i.value===0?u="none":u="initial",o.style("display",u)}),Vn!==null&&(window.clearTimeout(Vn),Vn=null),Vn=window.setTimeout(()=>{this.drawCenterText(),this.drawText()},700),this.sunburstUpdated()}function rd(){const e=this.svg.select(".content-group");this.removeText(),this.arcDomainStack.forEach(t=>{t.x0=t.node.x0,t.x1=t.node.x1}),this.xScale.domain([this.curHeadNode.x0,this.curHeadNode.x1]),e.select(".arc-group").selectAll("g.arc").data(this.partition.descendants().slice(1),t=>t.data.nid).select("path").attr("d",t=>this.arc(t)).style("display",t=>t.data.f===";"||t.depth>this.sunburstStoreValue.depthHigh+1||t.value!==void 0&&t.value===0?"none":"initial"),Vn!==null&&(window.clearTimeout(Vn),Vn=null),Vn=window.setTimeout(()=>{this.drawCenterText(),this.drawText()},500),this.sunburstUpdated()}const rs=800;var Bs,m2,Us,y2,Zs,w2,js,v2,Xs,b2,qs,C2,Js,S2;class wc{constructor({component:t,data:n,initDepthGap:r=2,sunburstStore:i,treeWindowStore:s,pinnedTreeStore:a,searchStore:o,sunburstUpdated:u}){ye(this,Bs);ye(this,Us);ye(this,Zs);ye(this,js);ye(this,Xs);ye(this,qs);ye(this,Js);N(this,"svg");N(this,"sunburstStore");N(this,"sunburstStoreValue");N(this,"treeWindowStore");N(this,"treeWindowStoreValue");N(this,"pinnedTreeStore");N(this,"pinnedTreeStoreValue");N(this,"searchStore");N(this,"searchStoreValue");N(this,"sunburstUpdated");N(this,"padding");N(this,"width");N(this,"height");N(this,"maxRadius");N(this,"xScale");N(this,"yScale");N(this,"textFontScale");N(this,"data");N(this,"dataRoot");N(this,"treeMapMap");N(this,"partition");N(this,"totalPathNum");N(this,"totalTreeNum");N(this,"featureCount");N(this,"featureValueCount");N(this,"featureOrder");N(this,"arc");N(this,"featureMap");N(this,"colorScale");N(this,"arcDomainStack");N(this,"curHeadNode");N(this,"localAccuracyLow");N(this,"localAccuracyHigh");N(this,"localMinSampleLow");N(this,"localMinSampleHigh");N(this,"localHeightRange");N(this,"localDepthFeatures");N(this,"localAllFeatures");N(this,"viewInitialized",!1);N(this,"selectedTrees");N(this,"textArc",I7);N(this,"doesTextFitArc",E7);N(this,"removeText",G7);N(this,"drawText",W7);N(this,"drawSecondaryText",O7);N(this,"drawCenterText",z7);N(this,"arcClicked",Y7);N(this,"arcMouseenterHandler",B7);N(this,"arcMouseleaveHandler",U7);N(this,"leafArcClickHandler",q7);N(this,"leafArcMouseenterHandler",Z7);N(this,"leafArcMouseleaveHandler",j7);N(this,"getTreeWindowPos",X7);N(this,"tempShowPinnedTree",J7);N(this,"syncAccuracyRange",Q7);N(this,"syncMinSampleRange",K7);N(this,"updateSunburst",rd);N(this,"updateSunburstWithAnimation",nd);N(this,"syncHeightRange",$7);N(this,"syncDepthFeatures",ed);N(this,"syncAllFeatures",td);N(this,"getFeatureColor",t=>this.colorScale(this.getFeatureNameValue(t,gr.First,di.PairString)));this.svg=z.select(t).select("svg").attr("width","100%").attr("height","100%").attr("viewbox","0 0 650 650").attr("preserveAspectRatio","none"),this.padding={top:10,bottom:10,left:10,right:10};const l=this.svg.node().getBoundingClientRect();this.width=l.width-this.padding.left-this.padding.right,this.height=l.height-this.padding.top-this.padding.bottom,this.data=n.trie,this.treeMapMap=new Map,Object.keys(n.treeMap).forEach(c=>{this.treeMapMap.set(+c,n.treeMap[+c])}),this.featureMap=new Map;for(const[c,f]of Object.entries(n.featureMap))this.featureMap.set(parseInt(c),f);this.featureCount=new Map,this.featureValueCount=new Map,this.colorScale=z.scaleOrdinal(),this.featureOrder=[],this.dataRoot=z.hierarchy(this.data,c=>c.c).sum(c=>c.f==="_"?1:0),this.partition=se(this,Bs,m2).call(this),this.curHeadNode=this.partition,this.totalTreeNum=this.partition.treeNum,this.totalPathNum=this.partition.value,this.sunburstStore=i,this.sunburstStoreValue=vl(),se(this,Zs,w2).call(this,r),this.treeWindowStore=s,this.treeWindowStoreValue=bl(),se(this,js,v2).call(this),this.pinnedTreeStore=a,this.pinnedTreeStoreValue=Nr(),se(this,Xs,b2).call(this),this.searchStore=o,this.searchStoreValue=Dr(),this.localAccuracyLow=this.searchStoreValue.curAccuracyLow,this.localAccuracyHigh=this.searchStoreValue.curAccuracyHigh,this.localMinSampleLow=this.searchStoreValue.curMinSampleLow,this.localMinSampleHigh=this.searchStoreValue.curMinSampleHigh,this.localHeightRange=new Set([...this.searchStoreValue.curHeightRange]),this.localDepthFeatures=so(this.searchStoreValue.curDepthFeatures),this.localAllFeatures=new Set([...this.searchStoreValue.curAllFeatures]),this.selectedTrees={accuracy:new Set(this.treeMapMap.keys()),minSample:new Set(this.treeMapMap.keys()),height:new Set(this.treeMapMap.keys()),depth:new Set(this.treeMapMap.keys()),allFeature:new Set(this.treeMapMap.keys())},se(this,qs,C2).call(this),this.sunburstUpdated=u,this.maxRadius=this.width/2,this.xScale=z.scaleLinear().domain([0,1]).range([0,2*Math.PI]).clamp(!0),this.yScale=z.scaleLinear().domain([0,1]).range([0,this.maxRadius]),this.textFontScale=z.scaleLinear().domain([1,this.sunburstStoreValue.depthMax-1]).range([.93,.7]),this.arcDomainStack=[],this.arc=z.arc().startAngle(c=>this.xScale(c.x0)).endAngle(c=>{const f=c;let h=f.x1;return f.x0===f.x1&&(h=f.x0+1e-6),this.xScale(h)}).padAngle(c=>{const f=c,h=this.xScale(c.x1)-this.xScale(c.x0);return f.data.f==="_"?h<.001?0:Math.min(h/2,.015):0}).padRadius(this.radius*1.5).innerRadius(c=>Math.max(0,this.yScale(c.y0))).outerRadius(c=>Math.max(this.yScale(c.y0),this.yScale(c.y1)-1)),console.time("Draw sunburst"),this.initView(),this.viewInitialized=!0,console.timeEnd("Draw sunburst")}get radius(){return this.width/(2*(this.sunburstStoreValue.depthMax-this.sunburstStoreValue.depthLow+1))}getFeatureInfo(t){const n={name:"",value:"",nameValue:"",short:"",shortValue:""},r=parseInt(t);if(!isNaN(r)){const i=this.featureMap.get(r);i!==void 0&&(n.name=i[0],n.value=i[1],n.short=i[2],n.nameValue=`${n.name} ${n.value}`,n.shortValue=`${n.short} ${n.value}`)}return n}getFeatureNameValue(t,n=gr.First,r=di.PairArray){let i=-1;if(t.includes(" "))switch(n){case gr.First:i=+t.replace(/(.*)\s.*/,"$1");break;case gr.Second:i=+t.replace(/.*\s(.*)/,"$1");break;case gr.Both:i=+t.replace(/(.*)\s.*/,"$1");break;default:console.error("Unknown cases")}else i=+t;switch(r){case di.PairArray:return isNaN(i)?["",""]:this.featureMap.get(i);case di.PairString:{if(isNaN(i))return"";const s=this.featureMap.get(i);return s!==void 0?`${s[0]}:${s[1]}`:(console.error(`Encounter unrecorded key ${i}`),"")}}}initView(){const t=this.svg.append("g").attr("class","content-group").attr("transform",`translate(${this.padding.left+this.width/2}, ${this.padding.top+this.height/2})`);t.append("g").attr("class","mid-circle-group");const n=t.append("g").attr("class","arc-group");t.append("g").attr("class","text-group");const r=n.selectAll("g.arc").data(this.partition.descendants().slice(1),a=>a.data.nid).join("g").attr("class",a=>`arc arc-${a.depth} ${a.data.f==="_"?"leaf leaf-".concat(String(a.data.t)):""}`).classed("leaf",a=>a.data.f==="_");r.append("path").attr("class","arc").attr("class",a=>`arc arc-${a.depth} ${a.data.f==="_"?"leaf leaf-".concat(String(a.data.t)):""}`).attr("id",a=>`arc-${a.data.nid}`).attr("d",a=>this.arc(a)).on("click",(a,o)=>this.arcClicked(a,o)).on("mouseenter",(a,o)=>this.arcMouseenterHandler(a,o)).on("mouseleave",(a,o)=>this.arcMouseleaveHandler(a,o)).style("fill",a=>a.data.f==="_"?"null":this.getFeatureColor(a.data.f)).style("display",a=>a.data.f===";"||a.depth>this.sunburstStoreValue.depthHigh+1?"none":"initial").filter(a=>a.data.f==="_").on("click",(a,o)=>this.leafArcClickHandler(a,o)).on("mouseenter",(a,o)=>this.leafArcMouseenterHandler(a,o)).on("mouseleave",(a,o)=>this.leafArcMouseleaveHandler(a,o)),r.append("title").text(a=>this.getFeatureInfo(a.data.f).nameValue);const s=1/(this.sunburstStoreValue.depthMax+1);this.arcZoom({x0:this.xScale.domain()[0],x1:this.xScale.domain()[1],y0:0,y1:(this.sunburstStoreValue.depthHigh+1)*s},500)}arcZoom(t,n=rs){this.removeText(),se(this,Js,S2).call(this,t),this.svg.select(".arc-group").transition().duration(n).ease(z.easeCubicInOut).tween("zoom",()=>{const i=z.interpolate(this.xScale.domain(),[t.x0,t.x1]),s=z.interpolate(this.yScale.domain(),[t.y0,t.y1]);return a=>{this.xScale.domain(i(a)),this.yScale.domain(s(a))}}).on("end",()=>{this.drawText(),this.drawCenterText()}).selectAll(".arc").attrTween("d",i=>()=>this.arc(i)).style("fill-opacity",i=>i.depth>this.sunburstStoreValue.depthHigh?.2:1).style("pointer-events",i=>i.depth>this.sunburstStoreValue.depthHigh?"none":"initial").style("display",i=>{const s=i;return s.data.f===";"||s.depth>this.sunburstStoreValue.depthHigh+1?"none":"initial"})}}Bs=new WeakSet,m2=function(){let t=0;this.dataRoot.eachBefore(r=>{r.data.f==="_"&&(r.data.u=!0),r.data.nid=t++});for(const[r,i]of this.featureMap){if(this.featureValueCount.has(i[0]))this.featureValueCount.get(i[0]).set(i[1],0);else{const s=new Map;s.set(i[1],0),this.featureValueCount.set(i[0],s)}this.featureCount.has(i[0])||this.featureCount.set(i[0],0)}this.dataRoot.children.forEach(r=>{const[i,s]=this.getFeatureNameValue(r.data.f);this.featureCount.set(i,this.featureCount.get(i)+r.value),this.featureValueCount.get(i).set(s,this.featureValueCount.get(i).get(s)+r.value)}),this.featureCount.set("",0),this.colorScale=se(this,Us,y2).call(this),this.dataRoot=this.dataRoot.sort((r,i)=>{const s=this.getFeatureInfo(r.data.f).name,a=this.getFeatureInfo(i.data.f).name,o=this.featureCount.get(s),u=this.featureCount.get(a),l=z.lch(this.getFeatureColor(r.data.f)).l,c=z.lch(this.getFeatureColor(i.data.f)).l;return o!==void 0&&u!==void 0?u-o||s.localeCompare(a)||l-c:(console.warn(`Encountered unrecorded keys '${s}', '${a}'`),0)}),this.featureOrder=this.dataRoot.children.map(r=>parseInt(r.data.f)),this.featureMap.forEach((r,i)=>{if(!this.featureOrder.includes(i)){const s=[];this.featureMap.forEach((a,o)=>{a[0]===r[0]&&this.featureOrder.indexOf(o)!==-1&&s.push(this.featureOrder.indexOf(o))}),this.featureOrder.splice(Math.max(...s)+1,0,i)}});const n=z.partition()(this.dataRoot);return n.eachAfter(r=>{var i;if(r.data.f==="_")r.uniqueTreeIDs=new Set([r.data.t]);else{const s=new Set;(i=r.children)==null||i.forEach(a=>{var o;(o=a.uniqueTreeIDs)==null||o.forEach(u=>{s.add(u)})}),r.uniqueTreeIDs=s}}),n.each(r=>{var i;r.treeNum=((i=r.uniqueTreeIDs)==null?void 0:i.size)||0,r.uniqueTreeIDs=null}),n},Us=new WeakSet,y2=function(){const t=[],n=[],s=[z.lch(49.184,30.07,260.445),z.lch(68.968,73.064,62.176),z.lch(56.278,61.87,27.615),z.lch(60.11,50.293,135.863),z.lch(82.442,65.798,87.008),z.lch(69.948,22.911,191.071),z.lch(57.703,28.677,334.556),z.lch(52.777,22.881,53.64)],a=new Map;for(const[l,c]of s.entries())a.set(l,[0,c]);return Array.from(this.featureCount.keys()).filter(l=>l!=="").sort((l,c)=>this.featureCount.get(c)-this.featureCount.get(l)).forEach((l,c)=>{let f,h;if(c>7){console.warn("Number of feature is greater than 8:",l);let v=-1,S=1/0;for(let b=0;b<s.length;b++)a.get(b)[0]<S&&(v=b,S=a.get(b)[0]);f=a.get(v)[1],h=v}else f=s[c],h=c;const p=Array.from(this.featureValueCount.get(l).keys()).sort((v,S)=>this.featureValueCount.get(l).get(S)-this.featureValueCount.get(l).get(v)),g=p.length;let d=f;if(f.l+g*20<=92)p.forEach((v,S)=>{const b=`${l}:${v}`;d=z.lch(f.l+S*20,f.c,f.h),t.push(b),n.push(d.formatHsl())});else{const v=(92-f.l)/g;p.forEach((S,b)=>{const _=`${l}:${S}`;d=z.lch(f.l+b*v,f.c,f.h),t.push(_),n.push(d.formatHsl())})}const m=z.lch(d.l+10,d.c,d.h);a.set(h,[a.get(h)[0]+g,m])}),z.scaleOrdinal(n).domain(t)},Zs=new WeakSet,w2=function(t){this.sunburstStore.subscribe(n=>{switch(this.sunburstStoreValue=n,this.sunburstStoreValue.action){case Qn.DepthChanged:{this.sunburstStoreValue.action=Qn.None;const r=1/(this.sunburstStoreValue.depthMax+1),i=this.arcDomainStack.length>0?this.yScale.domain()[0]:0;this.arcZoom({x0:this.xScale.domain()[0],x1:this.xScale.domain()[1],y0:i,y1:(this.sunburstStoreValue.depthHigh+1)*r},500),this.sunburstStore.set(this.sunburstStoreValue);break}case Qn.None:break;default:console.error("Unknown case in sunburstStore action")}}),this.sunburstStoreValue.depthMax=this.partition.height,this.sunburstStoreValue.depthLow=1,this.sunburstStoreValue.depthHigh=this.sunburstStoreValue.depthLow+t,this.sunburstStoreValue.action=Qn.None,this.sunburstStoreValue.depthColors=new Array(this.sunburstStoreValue.depthMax).fill(""),this.sunburstStore.set(this.sunburstStoreValue)},js=new WeakSet,v2=function(){this.treeWindowStore.subscribe(t=>{this.treeWindowStoreValue=t}),this.treeWindowStoreValue.getFeatureColor=this.getFeatureColor,this.treeWindowStore.set(this.treeWindowStoreValue)},Xs=new WeakSet,b2=function(){this.pinnedTreeStore.subscribe(t=>{this.pinnedTreeStoreValue=t}),this.pinnedTreeStoreValue.getFeatureColor=this.getFeatureColor,this.pinnedTreeStoreValue.getFeatureInfo=t=>this.getFeatureInfo(t),this.pinnedTreeStore.set(this.pinnedTreeStoreValue)},qs=new WeakSet,C2=function(){this.searchStore.subscribe(n=>{this.searchStoreValue=n,this.viewInitialized&&this.searchStoreValue.shown&&(this.searchStoreValue.curAccuracyHigh!==this.localAccuracyHigh||this.searchStoreValue.curAccuracyLow!==this.localAccuracyLow)?(this.localAccuracyHigh=this.searchStoreValue.curAccuracyHigh,this.localAccuracyLow=this.searchStoreValue.curAccuracyLow,this.syncAccuracyRange()):(this.localAccuracyHigh=this.searchStoreValue.curAccuracyHigh,this.localAccuracyLow=this.searchStoreValue.curAccuracyLow),this.viewInitialized&&this.searchStoreValue.shown&&(this.searchStoreValue.curMinSampleHigh!==this.localMinSampleHigh||this.searchStoreValue.curMinSampleLow!==this.localMinSampleLow)?(this.localMinSampleHigh=this.searchStoreValue.curMinSampleHigh,this.localMinSampleLow=this.searchStoreValue.curMinSampleLow,this.syncMinSampleRange()):(this.localMinSampleHigh=this.searchStoreValue.curMinSampleHigh,this.localMinSampleLow=this.searchStoreValue.curMinSampleLow);const r=[...this.localHeightRange].every(a=>this.searchStoreValue.curHeightRange.has(a))&&this.localHeightRange.size===this.searchStoreValue.curHeightRange.size;this.viewInitialized&&this.searchStoreValue.shown&&!r?(this.localHeightRange=new Set([...this.searchStoreValue.curHeightRange]),this.syncHeightRange()):this.localHeightRange=new Set([...this.searchStoreValue.curHeightRange]);const i=[...this.searchStoreValue.curDepthFeatures.entries()].every(a=>this.localDepthFeatures.has(a[0])?pc(this.localDepthFeatures.get(a[0]),a[1]):!1);this.viewInitialized&&this.searchStoreValue.shown&&!i?(this.localDepthFeatures=so(this.searchStoreValue.curDepthFeatures),this.syncDepthFeatures()):this.localDepthFeatures=so(this.searchStoreValue.curDepthFeatures);const s=pc(this.localAllFeatures,this.searchStoreValue.curAllFeatures);this.viewInitialized&&this.searchStoreValue.shown&&!s?(this.localAllFeatures=new Set([...this.searchStoreValue.curAllFeatures]),this.syncAllFeatures()):this.localAllFeatures=new Set([...this.searchStoreValue.curAllFeatures])}),this.searchStoreValue.getFeatureColor=this.getFeatureColor,this.searchStoreValue.featureMap=this.featureMap,this.searchStoreValue.featureOrder=this.featureOrder;for(let n=1;n<this.partition.height;n++){const r=new Set([...this.featureMap.keys()].map(i=>i));this.searchStoreValue.curDepthFeatures.set(n,r)}const t=new Set([...this.featureMap.keys()].map(n=>n));this.searchStoreValue.curAllFeatures=t,this.searchStore.set(this.searchStoreValue)},Js=new WeakSet,S2=function(t){let n=!1;this.arcDomainStack.length>0&&(n=this.curHeadNode.depth-this.arcDomainStack[this.arcDomainStack.length-1].node.depth!==1);const r=this.svg.select("g.content-group").selectAll("g.mid-circle-group").data([0]).join("g").attr("class","mid-circle-group").raise(),i=this.curHeadNode.ancestors().filter(c=>c.depth!==0),s=z.scaleLinear().domain([t.y0,t.y1]).range([0,this.maxRadius]),a=s(this.curHeadNode.y1)-s(this.curHeadNode.y0),o=i.map(c=>c.depth),u=z.scaleLinear().domain([z.min(o)-1,z.max(o)]).range([0,a]),l=u(1);r.selectAll("g.mid-circle").data(i,c=>c.value).join(c=>{const f=c.append("g").attr("class","mid-circle").on("click",h=>this.arcClicked(h,null));return f.append("circle").attr("r",0).style("fill",h=>this.getFeatureColor(h.data.f)).call(h=>h.transition().duration(0).delay(n?rs-100:rs+100).attr("r",p=>u(p.depth))),f.append("path").attr("class","mid-circle-text-arc").attr("id",h=>`mid-circle-text-arc-${h.depth}`).attr("d",h=>{const p=[Math.PI*.5,Math.PI*2.5],g=l*(h.depth-.5),d=z.path();return d.arc(0,0,g,p[0],p[1],!1),d.toString()}),f.append("title").text(h=>this.getFeatureInfo(h.data.f).nameValue),f},c=>{const f=c;return f.select("circle").transition("zoom").duration(rs).ease(z.easeCubicInOut).attr("r",h=>u(h.depth)),f.select("path").attr("d",h=>{const p=[Math.PI*.5,Math.PI*2.5],g=l*(h.depth-.5),d=z.path();return d.arc(0,0,g,p[0],p[1],!1),d.toString()}),f})};const so=e=>{const t=new Map;return e.forEach((n,r)=>{t.set(r,new Set([...n]))}),t};const kn="src/components/sunburst/Sunburst.svelte";function Vo(e){var k,H,I,M,V,E,F,R,A,C;let t,n,r,i,s,a,o,u,l,c,f=((k=e[1])==null?void 0:k.curHeadNode.value)===((H=e[1])==null?void 0:H.totalPathNum)?`${((I=e[1])==null?void 0:I.curHeadNode.value)|0}`:`${((M=e[1])==null?void 0:M.curHeadNode.value)|0}/${(V=e[1])==null?void 0:V.totalPathNum}`,h,p,g,d,m=((E=e[1])==null?void 0:E.curHeadNode.treeNum)===((F=e[1])==null?void 0:F.totalTreeNum)?`${((R=e[1])==null?void 0:R.curHeadNode.treeNum)|0}`:`${((A=e[1])==null?void 0:A.curHeadNode.treeNum)|0}/${(C=e[1])==null?void 0:C.totalTreeNum}`,v,S,b;const _={c:function(){var D,P,G;t=L("div"),n=L("div"),r=L("span"),r.textContent="No tree meets the current constraints :(",i=W(),s=L("span"),s.textContent="Try to relax the filtering in the Search Panel",a=W(),o=Dn("svg"),u=W(),l=L("div"),c=L("span"),h=ce(f),p=ce(" paths"),g=W(),d=L("span"),v=ce(m),S=ce(" trees"),w(r,"class","s-_PkX202GTJ8Y"),x(r,kn,162,4,3664),w(s,"class","s-_PkX202GTJ8Y"),x(s,kn,165,4,3738),w(n,"class","no-tree-message s-_PkX202GTJ8Y"),ge(n,"show",((D=e[1])==null?void 0:D.curHeadNode.treeNum)===0),x(n,kn,161,2,3581),w(o,"class","sunburst-svg s-_PkX202GTJ8Y"),x(o,kn,169,2,3825),w(c,"class","tree-stat s-_PkX202GTJ8Y"),x(c,kn,176,4,4066),w(d,"class","tree-stat s-_PkX202GTJ8Y"),x(d,kn,181,4,4296),w(l,"class","stat-overlay s-_PkX202GTJ8Y"),w(l,"title",b=`There are ${(P=e[1])==null?void 0:P.curHeadNode.value} decision paths `.concat(`and ${(G=e[1])==null?void 0:G.curHeadNode.treeNum} decisions trees in the current selection.`)),x(l,kn,170,2,3856),w(t,"class","sunburst s-_PkX202GTJ8Y"),x(t,kn,160,0,3534)},l:function(D){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(D,P){ae(D,t,P),y(t,n),y(n,r),y(n,i),y(n,s),y(t,a),y(t,o),y(t,u),y(t,l),y(l,c),y(c,h),y(c,p),y(l,g),y(l,d),y(d,v),y(d,S),e[9](t)},p:function(D,[P]){var G,Y,U,X,J,me,K,Q,B,ie,fe,j,$;P&2&&ge(n,"show",((G=D[1])==null?void 0:G.curHeadNode.treeNum)===0),P&2&&f!==(f=((Y=D[1])==null?void 0:Y.curHeadNode.value)===((U=D[1])==null?void 0:U.totalPathNum)?`${((X=D[1])==null?void 0:X.curHeadNode.value)|0}`:`${((J=D[1])==null?void 0:J.curHeadNode.value)|0}/${(me=D[1])==null?void 0:me.totalPathNum}`)&&Ee(h,f),P&2&&m!==(m=((K=D[1])==null?void 0:K.curHeadNode.treeNum)===((Q=D[1])==null?void 0:Q.totalTreeNum)?`${((B=D[1])==null?void 0:B.curHeadNode.treeNum)|0}`:`${((ie=D[1])==null?void 0:ie.curHeadNode.treeNum)|0}/${(fe=D[1])==null?void 0:fe.totalTreeNum}`)&&Ee(v,m),P&2&&b!==(b=`There are ${(j=D[1])==null?void 0:j.curHeadNode.value} decision paths `.concat(`and ${($=D[1])==null?void 0:$.curHeadNode.treeNum} decisions trees in the current selection.`))&&w(l,"title",b)},i:pe,o:pe,d:function(D){D&&re(t),e[9](null)}};return ee("SvelteRegisterBlock",{block:_,id:Vo.name,type:"component",source:"",ctx:e}),_}function id(e,t,n){let{$$slots:r={},$$scope:i}=t;St("Sunburst",r,[]);let{data:s=null}=t,{sunburstStore:a=null}=t,{treeWindowStore:o=null}=t,{pinnedTreeStore:u=null}=t,{searchStore:l=null}=t,{initDepthGap:c=2}=t,f=null,h=!1,p=null;const g=()=>{n(1,p)};Ne(()=>{n(8,h=!0)});const d=()=>{f&&s&&a&&o&&l&&u&&n(1,p=new wc({component:f,data:s,initDepthGap:c,sunburstStore:a,treeWindowStore:o,pinnedTreeStore:u,searchStore:l,sunburstUpdated:g}))},m=["data","sunburstStore","treeWindowStore","pinnedTreeStore","searchStore","initDepthGap"];Object.keys(t).forEach(S=>{!~m.indexOf(S)&&S.slice(0,2)!=="$$"&&S!=="slot"&&console.warn(`<Sunburst> was created with unknown prop '${S}'`)});function v(S){Je[S?"unshift":"push"](()=>{f=S,n(0,f)})}return e.$$set=S=>{"data"in S&&n(2,s=S.data),"sunburstStore"in S&&n(3,a=S.sunburstStore),"treeWindowStore"in S&&n(4,o=S.treeWindowStore),"pinnedTreeStore"in S&&n(5,u=S.pinnedTreeStore),"searchStore"in S&&n(6,l=S.searchStore),"initDepthGap"in S&&n(7,c=S.initDepthGap)},e.$capture_state=()=>({Sunburst:wc,onMount:Ne,config:Te,data:s,sunburstStore:a,treeWindowStore:o,pinnedTreeStore:u,searchStore:l,initDepthGap:c,component:f,mounted:h,sunburst:p,sunburstUpdated:g,initView:d}),e.$inject_state=S=>{"data"in S&&n(2,s=S.data),"sunburstStore"in S&&n(3,a=S.sunburstStore),"treeWindowStore"in S&&n(4,o=S.treeWindowStore),"pinnedTreeStore"in S&&n(5,u=S.pinnedTreeStore),"searchStore"in S&&n(6,l=S.searchStore),"initDepthGap"in S&&n(7,c=S.initDepthGap),"component"in S&&n(0,f=S.component),"mounted"in S&&n(8,h=S.mounted),"sunburst"in S&&n(1,p=S.sunburst)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{e.$$.dirty&381&&s&&a&&o&&u&&l&&h&&f&&d()},[f,p,s,a,o,u,l,c,h,v]}class _2 extends _t{constructor(t){super(t),Ct(this,t,id,Vo,tt,{data:2,sunburstStore:3,treeWindowStore:4,pinnedTreeStore:5,searchStore:6,initDepthGap:7}),ee("SvelteRegisterComponent",{component:this,tagName:"Sunburst_1",options:t,id:Vo.name})}get data(){throw new Error("<Sunburst>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(t){throw new Error("<Sunburst>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get sunburstStore(){throw new Error("<Sunburst>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set sunburstStore(t){throw new Error("<Sunburst>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get treeWindowStore(){throw new Error("<Sunburst>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set treeWindowStore(t){throw new Error("<Sunburst>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get pinnedTreeStore(){throw new Error("<Sunburst>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set pinnedTreeStore(t){throw new Error("<Sunburst>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get searchStore(){throw new Error("<Sunburst>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set searchStore(t){throw new Error("<Sunburst>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get initDepthGap(){throw new Error("<Sunburst>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set initDepthGap(t){throw new Error("<Sunburst>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var Qs,x2,Ks,L2,$s,k2;class vc{constructor({component:t,treeMapMap:n,featureMap:r,treeWindowStore:i,treeWindowUpdated:s,width:a=150,height:o=150}){ye(this,Qs);ye(this,Ks);ye(this,$s);N(this,"treeMap");N(this,"curTreeID");N(this,"curAncestorFs");N(this,"treeWindowStore");N(this,"treeWindowStoreValue");N(this,"treeWindowUpdated");N(this,"svg");N(this,"padding");N(this,"width");N(this,"height");N(this,"getStyle",()=>`left: ${this.treeWindowStoreValue.x}px;
      top: ${this.treeWindowStoreValue.y}px;`);N(this,"shouldHidePinLabel",()=>localStorage.getItem("treeWindowPinnedOnce")===null?(localStorage.setItem("treeWindowPinnedOnce","false"),!1):localStorage.getItem("treeWindowPinnedOnce")==="true");this.treeMap=n,this.curTreeID=0,this.curAncestorFs=[],this.treeWindowUpdated=s,this.treeWindowStore=i,this.treeWindowStoreValue=bl(),se(this,Qs,x2).call(this,r),this.svg=z.select(t).select("svg.tree-svg").attr("width",a).attr("height",o).attr("viewbox",`0 0 ${a} ${o}`).attr("preserveAspectRatio","none"),this.padding={top:20,bottom:20,left:0,right:0},this.width=a-this.padding.left-this.padding.right,this.height=o-this.padding.top-this.padding.bottom}get tree(){const t=this.treeMap.get(this.curTreeID);return t!==void 0?t[0]:(console.warn(`No such tree on the record ${this.curTreeID}`),null)}get treeMetric(){const t=this.treeMap.get(this.curTreeID);return t!==void 0?Wr(t[2],4):null}}Qs=new WeakSet,x2=function(t){this.treeWindowStore.subscribe(n=>{this.treeWindowStoreValue=n,this.svg!==void 0&&(this.treeWindowStoreValue.treeID!==this.curTreeID||this.treeWindowStoreValue.ancestorFs.length!==this.curAncestorFs.length||!this.treeWindowStoreValue.ancestorFs.every((r,i)=>r===this.curAncestorFs[i]))&&this.treeMap.get(this.treeWindowStoreValue.treeID)&&(this.curTreeID=this.treeWindowStoreValue.treeID,this.curAncestorFs=[...this.treeWindowStoreValue.ancestorFs],se(this,Ks,L2).call(this)),this.treeWindowUpdated()}),this.treeWindowStoreValue.featureMap=t,this.treeWindowStoreValue.treeMap=this.treeMap,this.treeWindowStore.set(this.treeWindowStoreValue)},Ks=new WeakSet,L2=function(){this.svg.selectAll("g.content").remove(),se(this,$s,k2).call(this)},$s=new WeakSet,k2=function(){if(this.tree===null){console.warn("Trying to draw a tree that does not exist");return}const t=this.svg.append("g").attr("class","content").attr("transform",`translate(${this.padding.left}, ${this.padding.top})`),n=z.hierarchy(this.tree,d=>d.c),r=7,i=r*1,s=z.tree().size([this.width,this.height])(n),a=t.append("g").attr("class","link-group");a.selectAll("path.link").data(s.links()).join("path").attr("class",d=>`link link-${d.source.data.f[0]}`).attr("id",d=>{const m=d.source.ancestors().length>1?d.source.ancestors()[1].data.f[0]:"r",v=d.source.data.f[0],S=d.target.data.f[0];return d.target.data.f[0]==="+"?`link-${m}-${v}-p`:d.target.data.f[0]==="-"?`link-${m}-${v}-n`:`link-${m}-${v}-${S}`}).attr("d",d=>z.line()([[d.source.x,d.source.y],[d.target.x,d.target.y]]));const u=t.append("g").attr("class","node-group").selectAll("g").data(s.descendants()).join("g").attr("class","node").attr("transform",d=>`translate(${d.x}, ${d.y})`),l=new Set(["-","+"]);u.filter(d=>!l.has(d.data.f[0])).append("circle").attr("r",r).style("fill",d=>this.treeWindowStoreValue.getFeatureColor?this.treeWindowStoreValue.getFeatureColor(d.data.f[0]):Te.colors["gray-500"]),u.filter(d=>l.has(d.data.f[0])).append("rect").attr("x",-i).attr("y",-i).attr("rx",2).attr("ry",2).attr("width",2*i).attr("height",2*i),u.filter(d=>l.has(d.data.f[0])).append("text").attr("dy",.5).text(d=>d.data.f[0]);for(let d=0;d<this.curAncestorFs.length-1;d++){const m=d===0?"r":this.curAncestorFs[d-1],v=this.curAncestorFs[d],S=this.curAncestorFs[d+1];this.curAncestorFs[d+1]==="_"?(a.selectAll(`#link-${m}-${v}-p`).classed("highlighted",!0),a.selectAll(`#link-${m}-${v}-n`).classed("highlighted",!0)):a.selectAll(`#link-${m}-${v}-${S}`).classed("highlighted",!0)}const c=a.selectAll(`.link-${this.curAncestorFs[0]}`).data(),f=5,h=-1,p=[{x:(c[0].source.x+c[0].target.x)/2-f,y:(c[0].source.y+c[0].target.y)/2+h},{x:(c[1].source.x+c[1].target.x)/2+f,y:(c[1].source.y+c[1].target.y)/2+h}];t.append("g").attr("class","label-group").selectAll("text.split-label").data(p).join("text").attr("class","split-label").classed("split-label-left",(d,m)=>m===0).attr("x",d=>d.x).attr("y",d=>d.y).text((d,m)=>m===0?"true":"false")};const T2='<svg viewBox="0 0 48 63" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2"><path d="M45.606-7.813c-.033.782.309 1.278 1.025 1.49.716.211 1.351.073 1.904-.415l5.713-5.762 6.348 15.771c.162.391.431.668.805.831.375.162.741.179 1.099.048l4.102-1.709c.39-.162.642-.431.756-.805.114-.375.074-.757-.122-1.148l-6.738-15.527 8.008-.488c.781-.033 1.318-.35 1.611-.953.293-.602.163-1.212-.39-1.831L48.828-39.356c-.553-.553-1.131-.707-1.733-.463-.602.244-.904.74-.904 1.489l-.585 30.517Z" style="fill-rule:nonzero" transform="translate(-18.934 59.052) scale(.91051)"/><path d="M2377.74 4322.67c0-.91-.76-1.65-1.69-1.65-.94 0-1.7.74-1.7 1.65v5.08c0 .91.76 1.65 1.7 1.65.93 0 1.69-.74 1.69-1.65v-5.08Z" style="fill-opacity:.4" transform="matrix(1.43013 0 0 1.46942 -3373.023 -6348.854)"/><path d="M2377.74 4322.67c0-.91-.76-1.65-1.69-1.65-.94 0-1.7.74-1.7 1.65v5.08c0 .91.76 1.65 1.7 1.65.93 0 1.69-.74 1.69-1.65v-5.08Z" style="fill-opacity:.4" transform="matrix(1.01125 -1.01125 1.03904 1.03904 -6884.807 -2079.508)"/><path d="M2377.74 4322.67c0-.91-.76-1.65-1.69-1.65-.94 0-1.7.74-1.7 1.65v5.08c0 .91.76 1.65 1.7 1.65.93 0 1.69-.74 1.69-1.65v-5.08Z" style="fill-opacity:.4" transform="matrix(0 -1.43013 1.46942 0 -6348.578 3420.756)"/><path d="M2377.74 4322.67c0-.91-.76-1.65-1.69-1.65-.94 0-1.7.74-1.7 1.65v5.08c0 .91.76 1.65 1.7 1.65.93 0 1.69-.74 1.69-1.65v-5.08Z" style="fill-opacity:.4" transform="matrix(-1.01125 -1.01125 1.03904 -1.03904 -2079.243 6931.533)"/><path d="M2377.74 4322.67c0-.91-.76-1.65-1.69-1.65-.94 0-1.7.74-1.7 1.65v5.08c0 .91.76 1.65 1.7 1.65.93 0 1.69-.74 1.69-1.65v-5.08Z" style="fill-opacity:.4" transform="matrix(1.01125 1.01125 -1.03904 1.03904 2129.287 -6885.076)"/><path d="M2377.74 4322.67c0-.91-.76-1.65-1.69-1.65-.94 0-1.7.74-1.7 1.65v5.08c0 .91.76 1.65 1.7 1.65.93 0 1.69-.74 1.69-1.65v-5.08Z" style="fill-opacity:.4" transform="matrix(0 1.43013 -1.46942 0 6396.933 -3375.343)"/></svg>';const{Object:sd}=wl,Zt="src/components/tree-window/TreeWindow.svelte";function Do(e){var M,V;let t,n,r,i,s=((M=e[1])==null?void 0:M.treeWindowStoreValue.treeID)+"",a,o,u,l,c=((V=e[1])==null?void 0:V.treeMetric)+"",f,h,p,g,d,m,v,S,b,_,k,H;const I={c:function(){var F,R,A;t=L("div"),n=L("div"),r=L("span"),i=ce("Tree "),a=ce(s),o=W(),u=L("span"),l=ce("("),f=ce(c),h=ce(")"),p=W(),g=L("div"),d=L("div"),m=L("div"),v=L("div"),S=W(),b=L("span"),b.textContent="pin",_=W(),k=Dn("svg"),w(r,"class","tree-name s-cr5gyj4Gsmo-"),x(r,Zt,173,4,3681),w(u,"class","tree-acc s-cr5gyj4Gsmo-"),x(u,Zt,177,4,3776),w(n,"class","tree-header s-cr5gyj4Gsmo-"),x(n,Zt,172,2,3651),w(v,"class","svg-icon s-cr5gyj4Gsmo-"),x(v,Zt,186,8,4006),w(b,"class","s-cr5gyj4Gsmo-"),x(b,Zt,189,8,4080),w(m,"class","label s-cr5gyj4Gsmo-"),x(m,Zt,185,6,3978),w(d,"class","label-container s-cr5gyj4Gsmo-"),ge(d,"no-display",(F=e[1])==null?void 0:F.shouldHidePinLabel()),x(d,Zt,181,4,3873),w(k,"class","tree-svg s-cr5gyj4Gsmo-"),x(k,Zt,193,4,4126),w(g,"class","content s-cr5gyj4Gsmo-"),x(g,Zt,180,2,3847),w(t,"class","tree-window s-cr5gyj4Gsmo-"),w(t,"style",H=(R=e[1])==null?void 0:R.getStyle()),ge(t,"show",(A=e[1])==null?void 0:A.treeWindowStoreValue.show),x(t,Zt,166,0,3510)},l:function(F){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(F,R){ae(F,t,R),y(t,n),y(n,r),y(r,i),y(r,a),y(n,o),y(n,u),y(u,l),y(u,f),y(u,h),y(t,p),y(t,g),y(g,d),y(d,m),y(m,v),v.innerHTML=T2,y(m,S),y(m,b),y(g,_),y(g,k),e[6](t)},p:function(F,[R]){var A,C,T,D,P;R&2&&s!==(s=((A=F[1])==null?void 0:A.treeWindowStoreValue.treeID)+"")&&Ee(a,s),R&2&&c!==(c=((C=F[1])==null?void 0:C.treeMetric)+"")&&Ee(f,c),R&2&&ge(d,"no-display",(T=F[1])==null?void 0:T.shouldHidePinLabel()),R&2&&H!==(H=(D=F[1])==null?void 0:D.getStyle())&&w(t,"style",H),R&2&&ge(t,"show",(P=F[1])==null?void 0:P.treeWindowStoreValue.show)},i:pe,o:pe,d:function(F){F&&re(t),e[6](null)}};return ee("SvelteRegisterBlock",{block:I,id:Do.name,type:"component",source:"",ctx:e}),I}function ad(e,t,n){let{$$slots:r={},$$scope:i}=t;St("TreeWindow",r,[]);let{data:s=null}=t,{featureMap:a=null}=t,{treeWindowStore:o=null}=t,u=null,l=!1,c=null;Ne(()=>{n(5,l=!0)});const f=()=>{n(1,c)},h=()=>{if(u&&s&&a&&o){const d=s.treeMap,m=new Map;Object.keys(d).forEach(v=>{m.set(+v,d[+v])}),n(1,c=new vc({component:u,treeMapMap:m,featureMap:a,treeWindowStore:o,treeWindowUpdated:f}))}},p=["data","featureMap","treeWindowStore"];sd.keys(t).forEach(d=>{!~p.indexOf(d)&&d.slice(0,2)!=="$$"&&d!=="slot"&&console.warn(`<TreeWindow> was created with unknown prop '${d}'`)});function g(d){Je[d?"unshift":"push"](()=>{u=d,n(0,u)})}return e.$$set=d=>{"data"in d&&n(2,s=d.data),"featureMap"in d&&n(3,a=d.featureMap),"treeWindowStore"in d&&n(4,o=d.treeWindowStore)},e.$capture_state=()=>({onMount:Ne,TreeWindow:vc,iconClick:T2,data:s,featureMap:a,treeWindowStore:o,component:u,mounted:l,treeWindow:c,treeWindowUpdated:f,initView:h}),e.$inject_state=d=>{"data"in d&&n(2,s=d.data),"featureMap"in d&&n(3,a=d.featureMap),"treeWindowStore"in d&&n(4,o=d.treeWindowStore),"component"in d&&n(0,u=d.component),"mounted"in d&&n(5,l=d.mounted),"treeWindow"in d&&n(1,c=d.treeWindow)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{e.$$.dirty&61&&s&&a&&o&&l&&u&&h()},[u,c,s,a,o,l,g]}class M2 extends _t{constructor(t){super(t),Ct(this,t,ad,Do,tt,{data:2,featureMap:3,treeWindowStore:4}),ee("SvelteRegisterComponent",{component:this,tagName:"TreeWindow_1",options:t,id:Do.name})}get data(){throw new Error("<TreeWindow>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(t){throw new Error("<TreeWindow>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get featureMap(){throw new Error("<TreeWindow>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set featureMap(t){throw new Error("<TreeWindow>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get treeWindowStore(){throw new Error("<TreeWindow>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set treeWindowStore(t){throw new Error("<TreeWindow>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const wt=8;var on,qn,ea,A2,Ai,No,ta,V2,Vi,na,D2,Di,Ho,ra,N2,ia,H2,sa,F2;class bc{constructor({component:t,pinnedTree:n,pinnedTreeStore:r,favoritesStore:i,pinnedTreeWindowUpdated:s,initSwitchChecked:a,width:o=200,height:u=200}){ye(this,on);ye(this,ea);ye(this,Ai);ye(this,ta);ye(this,na);ye(this,Di);ye(this,ra);ye(this,ia);ye(this,sa);N(this,"pinnedTree");N(this,"pinnedTreeWindowUpdated");N(this,"svg");N(this,"padding");N(this,"width");N(this,"height");N(this,"dragRegion");N(this,"pinnedTreeStore");N(this,"pinnedTreeStoreValue");N(this,"pinnedTreeStoreUnsubscriber");N(this,"favoritesStore");N(this,"favoritesStoreValue");N(this,"favoritesStoreUnsubscriber");N(this,"sankey");N(this,"accuracyScale",null);N(this,"hidden",!0);N(this,"endPos");N(this,"node");N(this,"playLaunchingAnimation",()=>{const t=this.pinnedTree.startPos.width/this.endPos.width,n=this.pinnedTree.startPos.height/this.endPos.height,r=this.pinnedTree.startPos.x-this.endPos.x,i=this.pinnedTree.startPos.y-this.endPos.y;this.node.animate([{transformOrigin:"top left",opacity:0,transform:`
            translate(${r}px, ${i}px)
            scale(${t}, ${n})
          `},{transformOrigin:"top left",opacity:1,transform:"none"}],{duration:300,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)",fill:"none"})});ye(this,Vi,t=>{const n=z.color(t);let r="currentcolor";if(n!==null){const i=[252,252,252],s=[74,74,74],a=z.color(n).rgb(),o=[a.r,a.g,a.b];Or(i,o)<Or(s,o)&&(r="hsla(0, 0%, 99%, 1)")}return r});N(this,"getStyle",()=>`
      left: ${this.pinnedTree.x}px;      top: ${this.pinnedTree.y}px;`);N(this,"alterLayout",()=>{this.sankey?(se(this,ia,H2).call(this),this.sankey=!1):(se(this,sa,F2).call(this),this.sankey=!0)});N(this,"heartClicked",async t=>{if(t.preventDefault(),t.stopPropagation(),se(this,on,qn).call(this),this.pinnedTree.isFav=!this.pinnedTree.isFav,this.pinnedTreeWindowUpdated(),this.pinnedTree.isFav){await ml();const n=z.select(".hidden-heart");n.transition().duration(400).ease(z.easeCubicInOut).style("transform","scale(1)").style("opacity",1).on("end",()=>{n.classed("pulse",!0),setTimeout(()=>{n.classed("pulse",!1).transition().duration(400).style("transform","scale(0)").style("opacity",0)},1500)});const r=z.select(this.node).select(".icon-heart").classed("play-animation",!0).on("animationend",()=>{r.classed("play-animation",!1)});new Set(this.favoritesStoreValue.favTrees.map(s=>s.pinnedTree.treeID)).has(this.pinnedTree.treeID)||this.favoritesStoreValue.favTrees.push({pinnedTree:this.pinnedTree,pinnedTreeUpdated:()=>{this.pinnedTreeWindowUpdated()},getFeatureColor:this.pinnedTreeStoreValue.getFeatureColor===null?()=>Te.colors["gray-500"]:this.pinnedTreeStoreValue.getFeatureColor})}else{const r=[...this.favoritesStoreValue.favTrees.map(i=>i.pinnedTree.treeID)].indexOf(this.pinnedTree.treeID);r>-1&&this.favoritesStoreValue.favTrees.splice(r,1)}this.favoritesStore.set(this.favoritesStoreValue),this.pinnedTreeStore.set(this.pinnedTreeStoreValue)});N(this,"noteClicked",t=>{t.preventDefault(),t.stopPropagation(),se(this,on,qn).call(this);const n=z.select(this.node).select(".note-window");n.classed("show",!n.classed("show"))});N(this,"closeClicked",t=>{t.preventDefault(),t.stopPropagation();let n=!1;if(this.pinnedTreeStoreValue.lastActiveTreeID!==null&&(n=this.pinnedTreeStoreValue.lastActiveTreeID===this.pinnedTree.treeID),this.pinnedTree.isFav)this.pinnedTree.isPinned=!1;else{const r=this.pinnedTreeStoreValue.pinnedTrees.indexOf(this.pinnedTree);r>-1?this.pinnedTreeStoreValue.pinnedTrees.splice(r,1):console.warn("Trying to delete a tree that does not exist!")}if(n){let r=!1;for(let i=this.pinnedTreeStoreValue.pinnedTrees.length-1;i>=0;i--)if(this.pinnedTreeStoreValue.pinnedTrees[i].isPinned){this.pinnedTreeStoreValue.lastActiveTreeID=this.pinnedTreeStoreValue.pinnedTrees[i].treeID,r=!0;break}r||(this.pinnedTreeStoreValue.lastActiveTreeID=null)}this.pinnedTreeStore.set(this.pinnedTreeStoreValue)});N(this,"cancelEvent",t=>{t.preventDefault(),t.stopPropagation()});N(this,"headerMousedownHandler",t=>{t.preventDefault(),t.stopPropagation(),se(this,on,qn).call(this);const n={x:t.pageX,y:t.pageY},r=s=>{s.preventDefault(),s.stopPropagation();let a=this.node.offsetLeft+s.pageX-n.x,o=this.node.offsetTop+s.pageY-n.y;a=Math.max(this.dragRegion.minLeft,a),a=Math.min(this.dragRegion.maxLeft,a),o=Math.max(this.dragRegion.minTop,o),o=Math.min(this.dragRegion.maxTop,o),n.x=s.pageX,n.y=s.pageY,this.node.style.left=`${a}px`,this.node.style.top=`${o}px`},i=()=>{document.removeEventListener("mousemove",r,!0),document.removeEventListener("mouseup",i,!0),document.body.style.cursor="default",this.pinnedTree.x=parseFloat(this.node.style.left),this.pinnedTree.y=parseFloat(this.node.style.top)};document.addEventListener("mousemove",r,!0),document.addEventListener("mouseup",i,!0),document.body.style.cursor="move"});N(this,"contentMousedownHandler",t=>{se(this,on,qn).call(this)});N(this,"switchToggled",t=>{t.stopPropagation(),t.preventDefault();const n=z.select(t.currentTarget);n.attr("aria-checked",n.attr("aria-checked")==="true"?"false":!0),this.alterLayout()});var h;this.pinnedTree=n,this.pinnedTreeWindowUpdated=s,this.width=o,this.height=u,this.node=t;const c=((h=this.node.parentNode)==null?void 0:h.parentNode).getBoundingClientRect();this.dragRegion={minLeft:0,maxLeft:c.width-this.width,minTop:0,maxTop:c.height-this.height-50},this.pinnedTree.jiggle=()=>{se(this,on,qn).call(this),this.node.classList.add("jiggle"),this.node.onanimationend=()=>{this.node.classList.remove("jiggle")}},this.pinnedTreeStore=r,this.pinnedTreeStoreValue=Nr(),this.pinnedTreeStoreUnsubscriber=this.pinnedTreeStore.subscribe(p=>{this.pinnedTreeStoreValue=p}),this.favoritesStore=i,this.favoritesStoreValue=Vr(),this.favoritesStoreUnsubscriber=this.favoritesStore.subscribe(p=>{this.favoritesStoreValue=p}),se(this,on,qn).call(this),this.svg=z.select(t).select("svg.tree-svg").attr("width",o).attr("height",u).attr("viewbox",`0 0 ${o} ${u}`).attr("preserveAspectRatio","none"),this.padding={top:20,bottom:20,left:0,right:0},this.width=o-this.padding.left-this.padding.right,this.height=u-this.padding.top-this.padding.bottom,a?(this.sankey=!0,se(this,na,D2).call(this)):(this.sankey=!1,se(this,ea,A2).call(this));const f=z.select(t).node().getBoundingClientRect();this.endPos={x:this.pinnedTree.x,y:this.pinnedTree.y,width:f.width,height:f.height},this.hidden=!1,this.pinnedTreeWindowUpdated(),this.playLaunchingAnimation()}}on=new WeakSet,qn=function(){var n;const t=this.node.parentNode;(n=t==null?void 0:t.parentNode)==null||n.appendChild(t),this.pinnedTreeStoreValue.lastActiveTreeID=this.pinnedTree.treeID},ea=new WeakSet,A2=function(){const t=this.svg.append("g").attr("class","content").attr("transform",`translate(${this.padding.left}, ${this.padding.top})`),n=z.hierarchy(this.pinnedTree.tree,l=>l.c),r=wt*1,i=z.tree().size([this.width,this.height])(n),s=t.append("g").attr("class","link-group");s.selectAll("path.link").data(i.links()).join("path").attr("class",l=>`link link-${l.source.data.f[0]}`).attr("id",l=>l.target.data.f[0]==="+"?`link-${l.source.data.f[0]}-p`:l.target.data.f[0]==="-"?`link-${l.source.data.f[0]}-n`:`link-${l.source.data.f[0]}-${l.target.data.f[0]}`).attr("d",l=>z.line()([[l.source.x,l.source.y],[l.target.x,l.target.y]]));const o=t.append("g").attr("class","node-group").selectAll("g").data(i.descendants()).join("g").attr("class","node").attr("transform",l=>`translate(${l.x}, ${l.y})`),u=new Set(["-","+"]);if(o.filter(l=>!u.has(l.data.f[0])).append("rect").attr("class","node-rect").attr("x",-r).attr("y",-r).attr("rx",wt).attr("ry",wt).attr("width",2*r).attr("height",2*r).style("fill",l=>this.pinnedTreeStoreValue.getFeatureColor?this.pinnedTreeStoreValue.getFeatureColor(l.data.f[0]):Te.colors["gray-500"]),o.filter(l=>!u.has(l.data.f[0])).append("title").text(l=>this.pinnedTreeStoreValue.getFeatureInfo?this.pinnedTreeStoreValue.getFeatureInfo(l.data.f[0]).nameValue:""),o.filter(l=>u.has(l.data.f[0])).append("title").text(l=>{const c=l.data.f[0]==="+"?"yes":"no",f=`${Wr(l.data.f[2]/l.data.f[1],4)} (${l.data.f[2]} / ${l.data.f[1]})`;return`Predict: ${c} - Accuracy: ${f}`}),this.accuracyScale===null){const l=[];o.filter(c=>u.has(c.data.f[0])).each(c=>{l.push(c.data.f[2]/c.data.f[1])}),this.accuracyScale=z.scaleLinear().domain([Math.min(...l),Math.max(...l)]).range([.3,1])}o.filter(l=>u.has(l.data.f[0])).append("rect").attr("class","leaf-rect").attr("x",-r).attr("y",-r).attr("rx",2).attr("ry",2).attr("width",2*r).attr("height",2*r).style("stroke-opacity",l=>this.accuracyScale(l.data.f[2]/l.data.f[1])),o.filter(l=>u.has(l.data.f[0])).append("text").attr("dy",.5).text(l=>l.data.f[0]).style("opacity",l=>this.accuracyScale(l.data.f[2]/l.data.f[1])),se(this,Ai,No).call(this,s,t,i)},Ai=new WeakSet,No=function(t,n,r,i=null){const s=t.selectAll(`.link-${this.pinnedTree.tree.f[0]}`).data(),a=5,o=-1,u=[{x:(s[0].source.x+s[0].target.x)/2-a,y:(s[0].source.y+s[0].target.y)/2+o},{x:(s[1].source.x+s[1].target.x)/2+a,y:(s[1].source.y+s[1].target.y)/2+o}],l=n.append("g").attr("class","edge-label-group standard").style("opacity",i?0:1);l.selectAll("text.split-label").data(u).join("text").attr("class","split-label").classed("split-label-left",(g,d)=>d===0).attr("x",g=>g.x).attr("y",g=>g.y+3).text((g,d)=>d===0?"true":"false").style("display",s[0].source.height>6?"none":"unset");const c=se(this,ta,V2).call(this,r,wt),f=n.append("g").attr("class","node-label-group standard").style("opacity",i?0:1),h=f.selectAll("g.node-label").data(c).join("g").attr("class","node-label").classed("node-label-left",g=>g.pos===Mt.left).attr("transform",g=>`translate(${g.x}, ${g.y})`),p=h.append("text").text(g=>g.text).style("fill",g=>g.backTextColor);h.append("title").text(g=>g.textLong),p.each((g,d,m)=>{const v=z.select(m[d]);if(d+1<m.length){const S=z.select(m[d+1]),b=v.data()[0],_=S.data()[0];b.y===_.y&&b.pos===Mt.right&&_.pos===Mt.right&&_.index===b.index+1&&(b.width*=2)}}),p.each((g,d,m)=>{const v=m[d],S=z.select(v);let b=g.text,_=v.getBoundingClientRect().width;for(;_>g.width;){if(b==="..."){b=".";break}b=b.replace("...",""),b=b.slice(0,b.length-1),b=`${b}...`,_=ft(b,16*.8)}S.text(b)}),i&&(l.transition(i).style("opacity",1),f.transition(i).style("opacity",1))},ta=new WeakSet,V2=function(t,n){const r=[];let s=12,a=this.width-12;const o=5,u=t.descendants();for(const[l,c]of u.entries()){let f=!1;const h=this.pinnedTreeStoreValue.getFeatureInfo===null?"":this.pinnedTreeStoreValue.getFeatureInfo(c.data.f[0]).shortValue,p=this.pinnedTreeStoreValue.getFeatureInfo===null?"":this.pinnedTreeStoreValue.getFeatureInfo(c.data.f[0]).nameValue;let g=Te.colors["gray-50"],d=Te.colors["gray-700"];if(this.pinnedTreeStoreValue.getFeatureColor){const b=this.pinnedTreeStoreValue.getFeatureColor(c.data.f[0]);d=b,g=Ha(this,Vi).call(this,b)}l+1<u.length&&c.depth===u[l+1].depth&&(f=!0,a=u[l+1].x-n-o);const m=c.x-n-s-o;let v=a-c.x-n-o;f&&u[l+1].data.f[0]!=="+"&&u[l+1].data.f[0]!=="-"&&(v=(a-c.x-n)/2-o);let S;m>v?(S={x:c.x-n-o,y:c.y,pos:Mt.left,featureName:c.data.f[0],width:m,text:h,textLong:p,frontTextColor:g,backTextColor:d,index:l},s=c.x+n,a=this.width-12):(S={x:c.x+n+o,y:c.y,pos:Mt.right,featureName:c.data.f[0],width:v,text:h,textLong:p,frontTextColor:g,backTextColor:d,index:l},c.data.f[0]!=="+"&&c.data.f[0]!=="-"?s=c.x+n+o+v:s=c.x+n+o,a=this.width-12),c.data.f[0]!=="+"&&c.data.f[0]!=="-"&&r.push(S),l+1<u.length&&c.depth!==u[l+1].depth&&(s=12,a=this.width-12)}return r},Vi=new WeakMap,na=new WeakSet,D2=function(){const t=this.svg.append("g").attr("class","content").attr("transform",`translate(${this.padding.left}, ${this.padding.top})`),n=z.hierarchy(this.pinnedTree.tree,d=>d.c),r=wt*1,i=z.tree().size([this.width,this.height])(n),s=t.append("g").attr("class","link-group"),a=t.append("g").attr("class","node-group"),o={top:this.padding.top,bottom:this.padding.bottom,left:20,right:20},u=i.data.f[1],l=z.scaleLinear().domain([0,u]).range([0,this.width+this.padding.left+this.padding.right-o.left-o.right]),c=[];let f=0,h=-1;i.descendants().forEach(d=>{const m=Object.assign(d);m.depth!==h&&(f=m.parent===null?o.left:m.parent.x,h=m.depth),m.x=f,m.width=l(m.data.f[1]),f+=m.width,c.push(m)});const p=a.selectAll("g").data(c).join("g").attr("class","node").attr("transform",d=>`translate(${d.x}, ${d.y})`);p.filter(d=>d.data.f[0]!=="+"&&d.data.f[0]!=="-").append("title").text(d=>this.pinnedTreeStoreValue.getFeatureInfo?this.pinnedTreeStoreValue.getFeatureInfo(d.data.f[0]).nameValue:""),p.filter(d=>d.data.f[0]==="+"||d.data.f[0]==="-").append("title").text(d=>{const m=d.data.f[0]==="+"?"yes":"no",v=`${Wr(d.data.f[2]/d.data.f[1],4)} (${d.data.f[2]} / ${d.data.f[1]})`;return`Predict: ${m} - Accuracy: ${v}`});const g=new Set(["-","+"]);if(p.filter(d=>!g.has(d.data.f[0])).append("rect").attr("class","node-rect sankey").attr("x",0).attr("y",-r).attr("width",d=>d.width).attr("height",2*r).attr("rx",d=>d.width<16?1:2).attr("ry",d=>d.width<16?1:2).style("fill",d=>this.pinnedTreeStoreValue.getFeatureColor?this.pinnedTreeStoreValue.getFeatureColor(d.data.f[0]):Te.colors["gray-500"]),this.accuracyScale===null){const d=[];p.filter(m=>g.has(m.data.f[0])).each(m=>{d.push(m.data.f[2]/m.data.f[1])}),this.accuracyScale=z.scaleLinear().domain([Math.min(...d),Math.max(...d)]).range([.3,1])}p.filter(d=>g.has(d.data.f[0])).append("rect").attr("class","leaf-rect").attr("x",0).attr("y",-r).attr("rx",d=>d.width<16?1:2).attr("ry",d=>d.width<16?1:2).attr("width",d=>d.width).attr("height",2*r).style("stroke-opacity",d=>this.accuracyScale(d.data.f[2]/d.data.f[1])),p.filter(d=>g.has(d.data.f[0])).append("text").attr("x",d=>d.width/2).attr("dy",.5).text(d=>d.data.f[0]).style("opacity",d=>d.width<16?0:this.accuracyScale(d.data.f[2]/d.data.f[1])),s.selectAll("path.link").data(i.links()).join("path").attr("class",d=>`link link-${d.source.data.f[0]}`).attr("id",d=>d.target.data.f[0]==="+"?`link-${d.source.data.f[0]}-p`:d.target.data.f[0]==="-"?`link-${d.source.data.f[0]}-n`:`link-${d.source.data.f[0]}-${d.target.data.f[0]}`).attr("d",d=>{const m=d.source,v=d.target;return z.line()([[m.x+m.width/2,m.y],[v.x+v.width/2,v.y-r]])}),se(this,Di,Ho).call(this,s,t,c,r)},Di=new WeakSet,Ho=function(t,n,r,i,s=null){const a=t.selectAll(`.link-${this.pinnedTree.tree.f[0]}`).data(),o=5,u=-.5,l=[];for(const d of[0,1]){const m=a[d].source,v=a[d].target,S=m.x+m.width/2,b=v.x+v.width/2,_=m.y,k=v.y-i,H=r[1].y-r[0].y-2*wt,I=wt/(H+wt)*Math.abs(S-b),M=d===0?S-I:S+I,V=_+wt;l.push({x:d===0?(M+b)/2-o:(M+b)/2+o,y:(V+k)/2+u})}const c=n.append("g").attr("class","edge-label-group sankey").style("opacity",s?0:1);c.selectAll("text.split-label").data(l).join("text").attr("class","split-label").classed("split-label-left",(d,m)=>m===0).attr("x",d=>d.x).attr("y",d=>d.y+3).text((d,m)=>m===0?"true":"false").style("display",a[0].source.height>6?"none":"unset");const f=se(this,ra,N2).call(this,r),h=n.append("g").attr("class","node-label-group sankey").style("opacity",s?0:1),p=h.selectAll("g.node-label").data(f).join("g").attr("class","node-label").classed("node-label-left",d=>d.pos===Mt.left).classed("node-label-middle",d=>d.pos===Mt.middle).attr("transform",d=>`translate(${d.x}, ${d.y})`),g=p.append("text").text(d=>d.text).style("fill",d=>d.pos===Mt.middle?d.frontTextColor:d.backTextColor);p.append("title").text(d=>d.textLong),g.each((d,m,v)=>{const S=v[m],b=z.select(S);let _=d.text,k=S.getBoundingClientRect().width;for(;k>d.width;){if(_==="..."){_=".";break}_=_.replace("...",""),_=_.slice(0,_.length-1),_=`${_}...`,k=ft(_,16*.8)}b.text(_)}),s&&(c.transition(s).style("opacity",1),h.transition(s).style("opacity",1))},ra=new WeakSet,N2=function(t){const n=[];let s=20,a=this.width-20;const o=5;for(const[u,l]of t.entries()){let c=!1;const f=this.pinnedTreeStoreValue.getFeatureInfo===null?"":this.pinnedTreeStoreValue.getFeatureInfo(l.data.f[0]).shortValue,h=this.pinnedTreeStoreValue.getFeatureInfo===null?"":this.pinnedTreeStoreValue.getFeatureInfo(l.data.f[0]).nameValue;let p=Te.colors["gray-50"],g=Te.colors["gray-700"];if(this.pinnedTreeStoreValue.getFeatureColor){const b=this.pinnedTreeStoreValue.getFeatureColor(l.data.f[0]);g=b,p=Ha(this,Vi).call(this,b)}u+1<t.length&&l.depth===t[u+1].depth&&(c=!0,a=t[u+1].x-o);const d=l.x-s-o,m=c?0:a-l.x-l.width-o,v=l.width-2*o;let S;d>m&&d>v?(S={x:l.x-o,y:l.y+1,pos:Mt.left,featureName:l.data.f[0],width:d,text:f,textLong:h,frontTextColor:p,backTextColor:g,index:u},s=l.x+l.width,a=this.width-20):v>=d&&v>=m?(S={x:l.x+l.width/2,y:l.y+1,pos:Mt.middle,featureName:l.data.f[0],width:v,text:f,textLong:h,frontTextColor:p,backTextColor:g,index:u},s=l.x+l.width,a=this.width-20):(S={x:l.x+l.width+o,y:l.y+1,pos:Mt.right,featureName:l.data.f[0],width:m,text:f,textLong:h,frontTextColor:p,backTextColor:g,index:u},s=l.x+l.width,a=this.width-20),l.data.f[0]!=="+"&&l.data.f[0]!=="-"&&n.push(S),u+1<t.length&&l.depth!==t[u+1].depth&&(s=20,a=this.width-20)}return n},ia=new WeakSet,H2=function(){const t=this.svg.select("g.content"),n=z.hierarchy(this.pinnedTree.tree,c=>c.c),r=wt*1,i=z.tree().size([this.width,this.height])(n),s=z.transition().duration(400).ease(z.easeCubicInOut),a=t.select(".link-group");a.selectAll("path.link").data(i.links()).join("path").transition(s).attr("d",c=>z.line()([[c.source.x,c.source.y],[c.target.x,c.target.y]]));const u=t.select(".node-group").selectAll("g.node").data(i.descendants()).join("g");u.transition(s).attr("transform",c=>`translate(${c.x}, ${c.y})`);const l=new Set(["-","+"]);u.filter(c=>!l.has(c.data.f[0])).select("rect.node-rect").classed("sankey",!1).transition(s).attr("x",-r).attr("y",-r).attr("rx",wt).attr("ry",wt).attr("width",2*r).attr("height",2*r),u.filter(c=>l.has(c.data.f[0])).select("rect.leaf-rect").attr("class","leaf-rect").transition(s).attr("x",-r).attr("y",-r).attr("rx",2).attr("ry",2).attr("width",2*r).attr("height",2*r),u.filter(c=>l.has(c.data.f[0])).select("text").transition(s).attr("x",0).attr("dy",.5).style("opacity",c=>this.accuracyScale(c.data.f[2]/c.data.f[1])),t.select(".node-label-group.sankey").transition(s).style("opacity",0).style("pointer-events","none"),t.select(".edge-label-group.sankey").transition(s).style("opacity",0).style("pointer-events","none"),t.select(".node-label-group.standard").size()===0?se(this,Ai,No).call(this,a,t,i,s):(t.select(".node-label-group.standard").transition(s).style("opacity",1).style("pointer-events","unset"),t.select(".edge-label-group.standard").transition(s).style("opacity",1).style("pointer-events","unset")),localStorage.setItem("initSwitchChecked","false")},sa=new WeakSet,F2=function(){const t=this.svg.select(".content"),n=z.hierarchy(this.pinnedTree.tree,m=>m.c),r=wt*1,i=z.tree().size([this.width,this.height])(n),s=t.select(".link-group"),a=t.select(".node-group"),o={top:this.padding.top,bottom:this.padding.bottom,left:20,right:20},u=i.data.f[1],l=z.scaleLinear().domain([0,u]).range([0,this.width+this.padding.left+this.padding.right-o.left-o.right]),c=[];let f=0,h=-1;i.descendants().forEach(m=>{const v=Object.assign(m);v.depth!==h&&(f=v.parent===null?o.left:v.parent.x,h=v.depth),v.x=f,v.width=l(v.data.f[1]),f+=v.width,c.push(v)});const p=z.transition().duration(400).ease(z.easeCubicInOut),g=a.selectAll("g.node").data(c).join("g");g.transition(p).attr("transform",m=>`translate(${m.x}, ${m.y})`);const d=new Set(["-","+"]);g.filter(m=>!d.has(m.data.f[0])).select("rect.node-rect").classed("sankey",!0).transition(p).attr("x",0).attr("y",-r).attr("width",m=>m.width).attr("height",2*r).attr("rx",m=>m.width<16?1:2).attr("ry",m=>m.width<16?1:2),g.filter(m=>d.has(m.data.f[0])).select("rect.leaf-rect").transition(p).attr("x",0).attr("y",-r).attr("rx",m=>m.width<16?1:2).attr("ry",m=>m.width<16?1:2).attr("width",m=>m.width).attr("height",2*r),g.filter(m=>d.has(m.data.f[0])).select("text").transition(p).attr("x",m=>m.width/2).attr("dy",.5).text(m=>m.data.f[0]).style("opacity",m=>m.width<16?0:this.accuracyScale(m.data.f[2]/m.data.f[1])),s.selectAll("path.link").data(i.links()).join("path").transition(p).attr("d",m=>{const v=m.source,S=m.target;return z.line()([[v.x+v.width/2,v.y],[S.x+S.width/2,S.y-r]])}),t.select(".node-label-group.standard").transition(p).style("opacity",0).style("pointer-events","none"),t.select(".edge-label-group.standard").transition(p).style("opacity",0).style("pointer-events","none"),t.select(".node-label-group.sankey").size()===0?se(this,Di,Ho).call(this,s,t,c,r,p):(t.select(".node-label-group.sankey").transition(p).style("opacity",1).style("pointer-events","unset"),t.select(".edge-label-group.sankey").transition(p).style("opacity",1).style("pointer-events","unset")),localStorage.setItem("initSwitchChecked","true")};const P2='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.343 13.657A8 8 0 1113.657 2.343 8 8 0 012.343 13.657zM6.03 4.97a.75.75 0 00-1.06 1.06L6.94 8 4.97 9.97a.75.75 0 101.06 1.06L8 9.06l1.97 1.97a.75.75 0 101.06-1.06L9.06 8l1.97-1.97a.75.75 0 10-1.06-1.06L8 6.94 6.03 4.97z"></path></svg>',Ma='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M8 16A8 8 0 108 0a8 8 0 000 16zm2.33-11.5c-1.22 0-1.83.5-2.323 1.136C7.513 5 6.903 4.5 5.682 4.5c-1.028 0-2.169.784-2.169 2.5 0 1.499 1.493 3.433 3.246 4.517.52.321.89.479 1.248.484.357-.005.728-.163 1.247-.484C11.007 10.433 12.5 8.5 12.5 7c0-1.716-1.14-2.5-2.17-2.5z"></path></svg>',R2='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M8 16A8 8 0 108 0a8 8 0 000 16zM4 5a1 1 0 011-1h6a1 1 0 011 1v5a1 1 0 01-1 1H8.707l-1.853 1.854A.5.5 0 016 12.5V11H5a1 1 0 01-1-1V5z"></path></svg>',I2=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 50 50" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(1,0,0,1,-3641,-31)">
        <g transform="matrix(1,0,0,1,-0.831706,0)">
            <g id="icon-heart-circle-clicked">
                <g transform="matrix(3.03726,0,0,3.03726,3642.35,31.6476)">
                    <path d="M8,16C12.389,16 16,12.389 16,8C16,3.611 12.389,0 8,0C3.611,0 -0,3.611 0,8C0,12.389 3.611,16 8,16Z" style="fill:rgb(244,67,54);"/>
                </g>
                <g transform="matrix(3.03726,0,0,3.03726,3642.35,31.6476)">
                    <path d="M8,16C12.389,16 16,12.389 16,8C16,3.611 12.389,0 8,0C3.611,0 -0,3.611 0,8C0,12.389 3.611,16 8,16ZM10.33,4.5C9.11,4.5 8.5,5 8.007,5.636C7.513,5 6.903,4.5 5.682,4.5C4.654,4.5 3.513,5.284 3.513,7C3.513,8.499 5.006,10.433 6.759,11.517C7.279,11.838 7.649,11.996 8.007,12.001C8.364,11.996 8.735,11.838 9.254,11.517C11.007,10.433 12.5,8.5 12.5,7C12.5,5.284 11.36,4.5 10.33,4.5Z"/>
                </g>
            </g>
        </g>
    </g>
</svg>
`,E2=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(1,0,0,1,-3843,-44)">
        <g transform="matrix(1,0,0,1,-0.831706,0)">
            <g id="icon-note-circle-clicked" transform="matrix(1,0,0,1,-0.0850173,-0.438976)">
                <g transform="matrix(1,0,0,1,3843.92,44.439)">
                    <path d="M8,16C12.389,16 16,12.389 16,8C16,3.611 12.389,0 8,0C3.611,0 -0,3.611 0,8C0,12.389 3.611,16 8,16Z" style="fill:hsl(123,46.2%,33.53%);"/>
                </g>
                <g transform="matrix(1,0,0,1,3843.92,44.439)">
                    <path d="M8,16C12.389,16 16,12.389 16,8C16,3.611 12.389,0 8,0C3.611,0 -0,3.611 0,8C0,12.389 3.611,16 8,16ZM4,5C4,4.451 4.451,4 5,4L11,4C11.549,4 12,4.451 12,5L12,10C12,10.549 11.549,11 11,11L8.707,11L6.854,12.854C6.76,12.948 6.633,13.001 6.5,13.001C6.226,13.001 6,12.775 6,12.501L6,11L5,11C4.451,11 4,10.549 4,10L4,5Z"/>
                </g>
            </g>
        </g>
    </g>
</svg>
`;const Ae="src/components/tree-window/PinnedTreeWindow.svelte";function z2(e){let t;const n={c:function(){t=L("div"),w(t,"class","svg-icon s-YWFeNV-ftNdK"),x(t,Ae,413,10,9908)},m:function(i,s){ae(i,t,s),t.innerHTML=Ma},p:pe,d:function(i){i&&re(t)}};return ee("SvelteRegisterBlock",{block:n,id:z2.name,type:"else",source:"(413:8) {:else}",ctx:e}),n}function W2(e){let t;const n={c:function(){t=L("div"),w(t,"class","svg-icon icon-heart s-YWFeNV-ftNdK"),ge(t,"play-animation",!1),x(t,Ae,409,10,9759)},m:function(i,s){ae(i,t,s),t.innerHTML=I2},p:pe,d:function(i){i&&re(t)}};return ee("SvelteRegisterBlock",{block:n,id:W2.name,type:"if",source:"(409:8) {#if pinnedTreeWindow?.pinnedTree.isFav}",ctx:e}),n}function O2(e){let t;const n={c:function(){t=L("div"),w(t,"class","svg-icon s-YWFeNV-ftNdK"),x(t,Ae,432,10,10386)},m:function(i,s){ae(i,t,s),t.innerHTML=E2},p:pe,d:function(i){i&&re(t)}};return ee("SvelteRegisterBlock",{block:n,id:O2.name,type:"else",source:"(432:8) {:else}",ctx:e}),n}function G2(e){let t;const n={c:function(){t=L("div"),w(t,"class","svg-icon s-YWFeNV-ftNdK"),x(t,Ae,428,10,10285)},m:function(i,s){ae(i,t,s),t.innerHTML=R2},p:pe,d:function(i){i&&re(t)}};return ee("SvelteRegisterBlock",{block:n,id:G2.name,type:"if",source:"(428:8) {#if pinnedTreeWindow?.pinnedTree.note === ''}",ctx:e}),n}function Fo(e){let t,n,r;const i={c:function(){t=L("textarea"),w(t,"class","note-window-input s-YWFeNV-ftNdK"),w(t,"name","note-input"),w(t,"placeholder","Leave a comment."),x(t,Ae,443,14,10725)},m:function(a,o){ae(a,t,o),_s(t,e[1].pinnedTree.note),n||(r=[he(t,"input",e[11],!1,!1,!1),he(t,"input",e[12])],n=!0)},p:function(a,o){o&2&&_s(t,a[1].pinnedTree.note)},d:function(a){a&&re(t),n=!1,Re(r)}};return ee("SvelteRegisterBlock",{block:i,id:Fo.name,type:"if",source:"(443:12) {#if pinnedTreeWindow !== null}",ctx:e}),i}function Po(e){var de,xe;let t,n,r,i,s,a=((de=e[1])==null?void 0:de.pinnedTree.treeID)+"",o,u,l,c,f=((xe=e[1])==null?void 0:xe.pinnedTree.treeMetric)+"",h,p,g,d,m,v,S,b,_,k,H,I,M,V,E,F,R,A,C,T,D,P,G,Y,U,X,J,me,K,Q;function B(Le,Z){var ue;return(ue=Le[1])!=null&&ue.pinnedTree.isFav?W2:z2}let ie=B(e),fe=ie(e);function j(Le,Z){var ue;return((ue=Le[1])==null?void 0:ue.pinnedTree.note)===""?G2:O2}let $=j(e),oe=$(e),O=e[1]!==null&&Fo(e);const we={c:function(){var Z,ue,He,ke,nt,Pe;t=L("div"),n=L("div"),r=L("div"),i=L("span"),s=ce("Tree "),o=ce(a),u=W(),l=L("span"),c=ce("("),h=ce(f),p=ce(")"),d=W(),m=L("div"),v=L("div"),fe.c(),S=W(),b=L("div"),oe.c(),_=W(),k=L("div"),H=L("div"),O&&O.c(),I=W(),M=L("div"),V=L("div"),E=W(),F=L("div"),R=Dn("svg"),A=W(),C=L("div"),T=L("button"),D=L("label"),P=ce("Scaled by sample size"),Y=W(),U=L("div"),w(i,"class","tree-name s-YWFeNV-ftNdK"),x(i,Ae,392,6,9265),w(l,"class","tree-acc s-YWFeNV-ftNdK"),x(l,Ae,396,6,9362),w(r,"class","tree-info s-YWFeNV-ftNdK"),w(r,"title",g=`Tree ${(Z=e[1])==null?void 0:Z.pinnedTree.treeID} - Accuracy ${(ue=e[1])==null?void 0:ue.pinnedTree.treeMetric}`),x(r,Ae,388,4,9110),w(v,"class","control-fav s-YWFeNV-ftNdK"),w(v,"title","Add to my favorites"),x(v,Ae,402,6,9504),w(H,"class","input-wrapper s-YWFeNV-ftNdK"),x(H,Ae,438,10,10555),w(k,"class","note-window s-YWFeNV-ftNdK"),w(k,"title",""),ge(k,"show",!1),x(k,Ae,437,8,10491),w(b,"class","control-note s-YWFeNV-ftNdK"),w(b,"title","Leave a comment"),x(b,Ae,419,6,10018),w(V,"class","svg-icon s-YWFeNV-ftNdK"),x(V,Ae,461,8,11257),w(M,"class","control-close s-YWFeNV-ftNdK"),w(M,"title","Close the window"),x(M,Ae,455,6,11054),w(m,"class","control-buttons s-YWFeNV-ftNdK"),x(m,Ae,401,4,9468),w(n,"class","tree-header s-YWFeNV-ftNdK"),x(n,Ae,383,2,8952),w(R,"class","tree-svg s-YWFeNV-ftNdK"),x(R,Ae,472,4,11467),w(F,"class","content s-YWFeNV-ftNdK"),x(F,Ae,468,2,11365),w(D,"class","switch-label s-YWFeNV-ftNdK"),w(D,"for",G=`switch-${(He=e[1])==null?void 0:He.pinnedTree.treeID}`),x(D,Ae,482,6,11753),w(U,"class","switch-track s-YWFeNV-ftNdK"),w(U,"id",X=`switch-${(ke=e[1])==null?void 0:ke.pinnedTree.treeID}`),x(U,Ae,487,6,11903),w(T,"class","switch s-YWFeNV-ftNdK"),w(T,"aria-checked",J=e[2]?"true":"false"),w(T,"title","Toggle to visualize sample size as node width"),x(T,Ae,476,4,11537),w(C,"class","control-footer s-YWFeNV-ftNdK"),x(C,Ae,475,2,11504),w(t,"class","pinned-tree-window s-YWFeNV-ftNdK"),w(t,"style",me=(nt=e[1])==null?void 0:nt.getStyle()),ge(t,"hidden",(Pe=e[1])==null?void 0:Pe.hidden),ge(t,"jiggle",!1),x(t,Ae,376,0,8786)},l:function(Z){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(Z,ue){ae(Z,t,ue),y(t,n),y(n,r),y(r,i),y(i,s),y(i,o),y(r,u),y(r,l),y(l,c),y(l,h),y(l,p),y(n,d),y(n,m),y(m,v),fe.m(v,null),y(m,S),y(m,b),oe.m(b,null),y(b,_),y(b,k),y(k,H),O&&O.m(H,null),y(m,I),y(m,M),y(M,V),V.innerHTML=P2,y(t,E),y(t,F),y(F,R),y(t,A),y(t,C),y(C,T),y(T,D),y(D,P),y(T,Y),y(T,U),e[21](t),K||(Q=[he(v,"click",e[9],!1,!1,!1),he(v,"mousedown",e[10],!1,!1,!1),he(H,"click",e[13],!1,!1,!1),he(b,"click",e[14],!1,!1,!1),he(b,"mousedown",od,!1,!1,!1),he(M,"click",e[15],!1,!1,!1),he(M,"mousedown",e[16],!1,!1,!1),he(n,"mousedown",e[17],!1,!1,!1),he(n,"click",e[18],!1,!1,!1),he(F,"mousedown",e[19],!1,!1,!1),he(T,"click",e[20],!1,!1,!1)],K=!0)},p:function(Z,[ue]){var He,ke,nt,Pe,Kt,xt,Ue,$t;ue&2&&a!==(a=((He=Z[1])==null?void 0:He.pinnedTree.treeID)+"")&&Ee(o,a),ue&2&&f!==(f=((ke=Z[1])==null?void 0:ke.pinnedTree.treeMetric)+"")&&Ee(h,f),ue&2&&g!==(g=`Tree ${(nt=Z[1])==null?void 0:nt.pinnedTree.treeID} - Accuracy ${(Pe=Z[1])==null?void 0:Pe.pinnedTree.treeMetric}`)&&w(r,"title",g),ie===(ie=B(Z))&&fe?fe.p(Z,ue):(fe.d(1),fe=ie(Z),fe&&(fe.c(),fe.m(v,null))),$===($=j(Z))&&oe?oe.p(Z,ue):(oe.d(1),oe=$(Z),oe&&(oe.c(),oe.m(b,_))),Z[1]!==null?O?O.p(Z,ue):(O=Fo(Z),O.c(),O.m(H,null)):O&&(O.d(1),O=null),ue&2&&G!==(G=`switch-${(Kt=Z[1])==null?void 0:Kt.pinnedTree.treeID}`)&&w(D,"for",G),ue&2&&X!==(X=`switch-${(xt=Z[1])==null?void 0:xt.pinnedTree.treeID}`)&&w(U,"id",X),ue&4&&J!==(J=Z[2]?"true":"false")&&w(T,"aria-checked",J),ue&2&&me!==(me=(Ue=Z[1])==null?void 0:Ue.getStyle())&&w(t,"style",me),ue&2&&ge(t,"hidden",($t=Z[1])==null?void 0:$t.hidden)},i:pe,o:pe,d:function(Z){Z&&re(t),fe.d(),oe.d(),O&&O.d(),e[21](null),K=!1,Re(Q)}};return ee("SvelteRegisterBlock",{block:we,id:Po.name,type:"component",source:"",ctx:e}),we}const od=e=>{e.stopPropagation()};function ld(e,t,n){let{$$slots:r={},$$scope:i}=t;St("PinnedTreeWindow",r,[]);let{pinnedTree:s=null}=t,{pinnedTreeStore:a=null}=t,{favoritesStore:o=null}=t,u=null,l=!1,c=null,f=!1,h=!1;localStorage.getItem("initSwitchChecked")==="true"&&(h=!0),Ne(()=>{n(7,l=!0)}),Ts(()=>{c==null||c.pinnedTreeStoreUnsubscriber(),c==null||c.favoritesStoreUnsubscriber()});const p=()=>{n(1,c)},g=()=>{n(8,f=!0),u&&s&&a&&o&&n(1,c=new bc({component:u,pinnedTree:s,pinnedTreeStore:a,favoritesStore:o,pinnedTreeWindowUpdated:p,initSwitchChecked:h}))},d=C=>{C.stopPropagation(),o==null||o.update(T=>T)},m=["pinnedTree","pinnedTreeStore","favoritesStore"];Object.keys(t).forEach(C=>{!~m.indexOf(C)&&C.slice(0,2)!=="$$"&&C!=="slot"&&console.warn(`<PinnedTreeWindow> was created with unknown prop '${C}'`)});const v=C=>c==null?void 0:c.heartClicked(C),S=C=>c==null?void 0:c.cancelEvent(C),b=C=>d(C);function _(){c.pinnedTree.note=this.value,n(1,c)}const k=C=>c==null?void 0:c.cancelEvent(C),H=C=>c==null?void 0:c.noteClicked(C),I=C=>c==null?void 0:c.closeClicked(C),M=C=>c==null?void 0:c.cancelEvent(C),V=C=>c==null?void 0:c.headerMousedownHandler(C),E=C=>c==null?void 0:c.cancelEvent(C),F=C=>c==null?void 0:c.contentMousedownHandler(C),R=C=>c==null?void 0:c.switchToggled(C);function A(C){Je[C?"unshift":"push"](()=>{u=C,n(0,u)})}return e.$$set=C=>{"pinnedTree"in C&&n(4,s=C.pinnedTree),"pinnedTreeStore"in C&&n(5,a=C.pinnedTreeStore),"favoritesStore"in C&&n(6,o=C.favoritesStore)},e.$capture_state=()=>({onMount:Ne,onDestroy:Ts,PinnedTreeWindow:bc,iconCloseCircle:P2,iconHeartCircle:Ma,iconNoteCircle:R2,iconHeartCircleClicked:I2,iconNoteCircleClicked:E2,pinnedTree:s,pinnedTreeStore:a,favoritesStore:o,component:u,mounted:l,pinnedTreeWindow:c,initialized:f,initSwitchChecked:h,pinnedTreeWindowUpdated:p,initView:g,noteChanged:d}),e.$inject_state=C=>{"pinnedTree"in C&&n(4,s=C.pinnedTree),"pinnedTreeStore"in C&&n(5,a=C.pinnedTreeStore),"favoritesStore"in C&&n(6,o=C.favoritesStore),"component"in C&&n(0,u=C.component),"mounted"in C&&n(7,l=C.mounted),"pinnedTreeWindow"in C&&n(1,c=C.pinnedTreeWindow),"initialized"in C&&n(8,f=C.initialized),"initSwitchChecked"in C&&n(2,h=C.initSwitchChecked)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{e.$$.dirty&497&&s&&l&&u&&a&&o&&!f&&g()},[u,c,h,d,s,a,o,l,f,v,S,b,_,k,H,I,M,V,E,F,R,A]}class Y2 extends _t{constructor(t){super(t),Ct(this,t,ld,Po,tt,{pinnedTree:4,pinnedTreeStore:5,favoritesStore:6}),ee("SvelteRegisterComponent",{component:this,tagName:"PinnedTreeWindow_1",options:t,id:Po.name})}get pinnedTree(){throw new Error("<PinnedTreeWindow>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set pinnedTree(t){throw new Error("<PinnedTreeWindow>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get pinnedTreeStore(){throw new Error("<PinnedTreeWindow>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set pinnedTreeStore(t){throw new Error("<PinnedTreeWindow>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get favoritesStore(){throw new Error("<PinnedTreeWindow>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set favoritesStore(t){throw new Error("<PinnedTreeWindow>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}var aa,B2;class Cc{constructor({favTree:t,component:n,textAreaNode:r,favoritesStore:i,pinnedTreeStore:s}){ye(this,aa);N(this,"favTree");N(this,"textAreaNode");N(this,"favoritesStore");N(this,"favoritesStoreValue");N(this,"favoritesStoreUnsubscriber");N(this,"pinnedTreeStore");N(this,"pinnedTreeStoreValue");N(this,"PinnedTreeStoreValueUnsubscriber");N(this,"svg");N(this,"padding");N(this,"width");N(this,"height");N(this,"adjustTextAreaHeight",async()=>{await ml(),this.textAreaNode.style.removeProperty("height"),this.textAreaNode.style.height=`${this.textAreaNode.scrollHeight}px`});N(this,"noteChanged",t=>{t.stopPropagation(),this.favTree.pinnedTreeUpdated(),this.adjustTextAreaHeight()});N(this,"deleteClicked",t=>{t.preventDefault(),t.stopPropagation();let n=-1;for(let a=0;a<this.pinnedTreeStoreValue.pinnedTrees.length;a++)if(this.pinnedTreeStoreValue.pinnedTrees[a].treeID===this.favTree.pinnedTree.treeID){n=a;break}const r=this.pinnedTreeStoreValue.pinnedTrees[n];r.isPinned?r.isFav=!1:this.pinnedTreeStoreValue.pinnedTrees.splice(n,1),this.pinnedTreeStore.set(this.pinnedTreeStoreValue);const s=[...this.favoritesStoreValue.favTrees.map(a=>a.pinnedTree.treeID)].indexOf(this.favTree.pinnedTree.treeID);s>-1&&this.favoritesStoreValue.favTrees.splice(s,1),this.favoritesStore.set(this.favoritesStoreValue)});N(this,"thumbnailClicked",t=>{t.preventDefault(),t.stopPropagation();for(let n=0;n<this.pinnedTreeStoreValue.pinnedTrees.length;n++){const r=this.pinnedTreeStoreValue.pinnedTrees[n];if(r.treeID===this.favTree.pinnedTree.treeID){if(r.isPinned)r.jiggle();else{const i=this.svg.node().getBoundingClientRect(),s={x:i.left,y:i.top,width:i.width,height:i.height};r.startPos=s,r.isPinned=!0,this.pinnedTreeStore.set(this.pinnedTreeStoreValue)}break}}});this.favTree=t,this.textAreaNode=r,this.favoritesStore=i,this.favoritesStoreValue=Vr(),this.favoritesStoreUnsubscriber=this.favoritesStore.subscribe(u=>{this.favoritesStoreValue=u,this.favoritesStoreValue.shown&&this.adjustTextAreaHeight()}),this.pinnedTreeStore=s,this.pinnedTreeStoreValue=Nr(),this.PinnedTreeStoreValueUnsubscriber=this.pinnedTreeStore.subscribe(u=>{this.pinnedTreeStoreValue=u});const a=70,o=70;this.svg=z.select(n).select("svg.tree-svg").attr("width",a).attr("height",o).attr("viewbox",`0 0 ${a} ${o}`).attr("preserveAspectRatio","none"),this.padding={top:10,bottom:10,left:0,right:0},this.width=a-this.padding.left-this.padding.right,this.height=o-this.padding.top-this.padding.bottom,se(this,aa,B2).call(this)}}aa=new WeakSet,B2=function(){const t=this.svg.append("g").attr("class","content").attr("transform",`translate(${this.padding.left}, ${this.padding.top})`),n=z.hierarchy(this.favTree.pinnedTree.tree,c=>c.c),r=4,i=4,s=z.tree().size([this.width,this.height])(n);t.append("g").attr("class","link-group").selectAll("path.link").data(s.links()).join("path").attr("class",c=>`link link-${c.source.data.f[0]}`).attr("id",c=>{const f=c.source.ancestors().length>1?c.source.ancestors()[1].data.f[0]:"r",h=c.source.data.f[0],p=c.target.data.f[0];return c.target.data.f[0]==="+"?`link-${f}-${h}-p`:c.target.data.f[0]==="-"?`link-${f}-${h}-n`:`link-${f}-${h}-${p}`}).attr("d",c=>z.line()([[c.source.x,c.source.y],[c.target.x,c.target.y]]));const u=t.append("g").attr("class","node-group").selectAll("g").data(s.descendants()).join("g").attr("class","node").attr("transform",c=>`translate(${c.x}, ${c.y})`),l=new Set(["-","+"]);u.filter(c=>!l.has(c.data.f[0])).append("circle").attr("r",r).style("fill",c=>this.favTree.getFeatureColor(c.data.f[0])),u.filter(c=>l.has(c.data.f[0])).append("rect").attr("x",-i).attr("y",-i).attr("rx",1).attr("ry",1).attr("width",2*i).attr("height",2*i),u.filter(c=>l.has(c.data.f[0])).append("text").attr("dy",.5).text(c=>c.data.f[0])};const U2='<svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"><path d="M112 112l20 320c.95 18.49 14.4 32 32 32h184c17.67 0 30.87-13.51 32-32l20-320" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="40"/><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="40" d="M80 112h352"/><path d="M192 112V72h0a23.93 23.93 0 0124-24h80a23.93 23.93 0 0124 24h0v40M256 176v224M184 176l8 224M328 176l-8 224" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="40"/></svg>';const At="src/components/favorites-panel/FavoritesRow.svelte";function Ro(e){let t,n,r;const i={c:function(){t=L("textarea"),w(t,"class","note-window-input s-Su409VPrjAJA"),w(t,"name","note-input"),w(t,"placeholder","Leave a comment."),x(t,At,178,8,4177)},m:function(a,o){ae(a,t,o),e[10](t),_s(t,e[0].pinnedTree.note),n||(r=[he(t,"input",e[11],!1,!1,!1),he(t,"input",e[12])],n=!0)},p:function(a,o){o&1&&_s(t,a[0].pinnedTree.note)},d:function(a){a&&re(t),e[10](null),n=!1,Re(r)}};return ee("SvelteRegisterBlock",{block:i,id:Ro.name,type:"if",source:"(178:6) {#if favTree !== null}",ctx:e}),i}function Io(e){var F,R;let t,n,r,i,s,a,o,u,l,c=((F=e[3])==null?void 0:F.favTree.pinnedTree.treeID)+"",f,h,p,g,d=((R=e[3])==null?void 0:R.favTree.pinnedTree.treeMetric)+"",m,v,S,b,_,k,H,I,M,V=e[0]!==null&&Ro(e);const E={c:function(){t=L("div"),n=L("div"),r=Dn("svg"),i=W(),s=L("div"),a=L("div"),o=L("div"),u=L("span"),l=ce("Tree "),f=ce(c),h=W(),p=L("span"),g=ce("("),m=ce(d),v=ce(")"),S=W(),b=L("div"),_=L("div"),k=W(),H=L("div"),V&&V.c(),w(r,"class","tree-svg s-Su409VPrjAJA"),x(r,At,155,4,3529),w(n,"class","tree-left s-Su409VPrjAJA"),x(n,At,154,2,3501),w(u,"class","tree-name s-Su409VPrjAJA"),x(u,At,161,8,3711),w(p,"class","tree-metric s-Su409VPrjAJA"),x(p,At,164,8,3816),w(o,"class","tree-info-left s-Su409VPrjAJA"),x(o,At,160,6,3674),w(_,"class","svg-icon s-Su409VPrjAJA"),x(_,At,170,8,3974),w(b,"class","tree-info-right s-Su409VPrjAJA"),x(b,At,169,6,3936),w(a,"class","tree-info s-Su409VPrjAJA"),x(a,At,159,4,3644),w(H,"class","tree-note s-Su409VPrjAJA"),x(H,At,176,4,4116),w(s,"class","tree-right s-Su409VPrjAJA"),x(s,At,158,2,3615),w(t,"class","tree s-Su409VPrjAJA"),x(t,At,153,0,3458)},l:function(C){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(C,T){ae(C,t,T),y(t,n),y(n,r),y(t,i),y(t,s),y(s,a),y(a,o),y(o,u),y(u,l),y(u,f),y(o,h),y(o,p),y(p,g),y(p,m),y(p,v),y(a,S),y(a,b),y(b,_),_.innerHTML=U2,y(s,k),y(s,H),V&&V.m(H,null),e[13](t),I||(M=[he(r,"click",e[8],!1,!1,!1),he(_,"click",e[9],!1,!1,!1)],I=!0)},p:function(C,[T]){var D,P;T&8&&c!==(c=((D=C[3])==null?void 0:D.favTree.pinnedTree.treeID)+"")&&Ee(f,c),T&8&&d!==(d=((P=C[3])==null?void 0:P.favTree.pinnedTree.treeMetric)+"")&&Ee(m,d),C[0]!==null?V?V.p(C,T):(V=Ro(C),V.c(),V.m(H,null)):V&&(V.d(1),V=null)},i:pe,o:pe,d:function(C){C&&re(t),V&&V.d(),e[13](null),I=!1,Re(M)}};return ee("SvelteRegisterBlock",{block:E,id:Io.name,type:"component",source:"",ctx:e}),E}function cd(e,t,n){let{$$slots:r={},$$scope:i}=t;St("FavoritesRow",r,[]);let{favTree:s=null}=t,{favoritesStore:a=null}=t,{pinnedTreeStore:o=null}=t,u=null,l=null,c=!1,f=!1,h=null;Ne(()=>{n(6,c=!0)}),Ts(()=>{h==null||h.favoritesStoreUnsubscriber(),h==null||h.PinnedTreeStoreValueUnsubscriber()});const p=()=>{s&&l&&u&&a&&o&&n(3,h=new Cc({favTree:s,component:u,textAreaNode:l,favoritesStore:a,pinnedTreeStore:o})),n(7,f=!0)},g=["favTree","favoritesStore","pinnedTreeStore"];Object.keys(t).forEach(k=>{!~g.indexOf(k)&&k.slice(0,2)!=="$$"&&k!=="slot"&&console.warn(`<FavoritesRow> was created with unknown prop '${k}'`)});const d=k=>h==null?void 0:h.thumbnailClicked(k),m=k=>h==null?void 0:h.deleteClicked(k);function v(k){Je[k?"unshift":"push"](()=>{l=k,n(2,l)})}const S=k=>h.noteChanged(k);function b(){s.pinnedTree.note=this.value,n(0,s)}function _(k){Je[k?"unshift":"push"](()=>{u=k,n(1,u)})}return e.$$set=k=>{"favTree"in k&&n(0,s=k.favTree),"favoritesStore"in k&&n(4,a=k.favoritesStore),"pinnedTreeStore"in k&&n(5,o=k.pinnedTreeStore)},e.$capture_state=()=>({FavoritesRow:Cc,onMount:Ne,onDestroy:Ts,deleteIcon:U2,favTree:s,favoritesStore:a,pinnedTreeStore:o,component:u,textAreaNode:l,mounted:c,initialized:f,favoriteRow:h,initView:p}),e.$inject_state=k=>{"favTree"in k&&n(0,s=k.favTree),"favoritesStore"in k&&n(4,a=k.favoritesStore),"pinnedTreeStore"in k&&n(5,o=k.pinnedTreeStore),"component"in k&&n(1,u=k.component),"textAreaNode"in k&&n(2,l=k.textAreaNode),"mounted"in k&&n(6,c=k.mounted),"initialized"in k&&n(7,f=k.initialized),"favoriteRow"in k&&n(3,h=k.favoriteRow)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{e.$$.dirty&247&&s&&l&&u&&a&&o&&c&&!f&&p()},[s,u,l,h,a,o,c,f,d,m,v,S,b,_]}class Z2 extends _t{constructor(t){super(t),Ct(this,t,cd,Io,tt,{favTree:0,favoritesStore:4,pinnedTreeStore:5}),ee("SvelteRegisterComponent",{component:this,tagName:"FavoritesRow_1",options:t,id:Io.name})}get favTree(){throw new Error("<FavoritesRow>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set favTree(t){throw new Error("<FavoritesRow>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get favoritesStore(){throw new Error("<FavoritesRow>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set favoritesStore(t){throw new Error("<FavoritesRow>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get pinnedTreeStore(){throw new Error("<FavoritesRow>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set pinnedTreeStore(t){throw new Error("<FavoritesRow>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Sc=(e,t)=>{e.stopPropagation(),e.preventDefault();const n=JSON.parse(JSON.stringify(t.favTrees)),r=[];n.forEach(i=>{delete i.getFeatureColor,delete i.pinnedTreeUpdated,delete i.pinnedTree.isPinned,delete i.pinnedTree.isFav,delete i.pinnedTree.jiggle,delete i.pinnedTree.x,delete i.pinnedTree.y,delete i.pinnedTree.startPos,r.push(i.pinnedTree)}),A7(r,null,"favorite-trees.json")};function j2(e,{from:t,to:n},r={}){const i=getComputedStyle(e),s=i.transform==="none"?"":i.transform,[a,o]=i.transformOrigin.split(" ").map(parseFloat),u=t.left+t.width*a/n.width-(n.left+a),l=t.top+t.height*o/n.height-(n.top+o),{delay:c=0,duration:f=p=>Math.sqrt(p)*120,easing:h=jc}=r;return{delay:c,duration:Gr(f)?f(Math.sqrt(u*u+l*l)):f,easing:h,css:(p,g)=>{const d=g*u,m=g*l,v=p+g*t.width/n.width,S=p+g*t.height/n.height;return`transform: ${s} translate(${d}px, ${m}px) scale(${v}, ${S});`}}}const Aa='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path></svg>',X2='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.47 10.78a.75.75 0 001.06 0l3.75-3.75a.75.75 0 00-1.06-1.06L8.75 8.44V1.75a.75.75 0 00-1.5 0v6.69L4.78 5.97a.75.75 0 00-1.06 1.06l3.75 3.75zM3.75 13a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5z"></path></svg>';const Vt="src/components/favorites-panel/FavoritesPanel.svelte";function is(e,t,n){const r=e.slice();return r[11]=t[n],r}function Eo(e){let t,n,r,i;const s=[J2,q2],a=[];function o(l,c){return l[5].favTrees.length===0?0:1}t=o(e),n=a[t]=s[t](e);const u={c:function(){n.c(),r=Ss()},m:function(c,f){a[t].m(c,f),ae(c,r,f),i=!0},p:function(c,f){let h=t;t=o(c),t===h?a[t].p(c,f):(Nn(),Me(a[h],1,1,()=>{a[h]=null}),Hn(),n=a[t],n?n.p(c,f):(n=a[t]=s[t](c),n.c()),_e(n,1),n.m(r.parentNode,r))},i:function(c){i||(_e(n),i=!0)},o:function(c){Me(n),i=!1},d:function(c){a[t].d(c),c&&re(r)}};return ee("SvelteRegisterBlock",{block:u,id:Eo.name,type:"if",source:"(180:2) {#if initialized}",ctx:e}),u}function q2(e){let t,n=[],r=new Map,i,s=e[5].favTrees;De(s);const a=u=>u[11].pinnedTree.treeID;As(e,s,is,a);for(let u=0;u<s.length;u+=1){let l=is(e,s,u),c=a(l);r.set(c,n[u]=zo(c,l))}const o={c:function(){t=L("div");for(let l=0;l<n.length;l+=1)n[l].c();w(t,"class","tree-list s-3FYkPUvX2_k2"),x(t,Vt,189,6,4563)},m:function(l,c){ae(l,t,c);for(let f=0;f<n.length;f+=1)n[f].m(t,null);i=!0},p:function(l,c){if(c&35){s=l[5].favTrees,De(s),Nn();for(let f=0;f<n.length;f+=1)n[f].r();As(l,s,is,a),n=Zc(n,c,a,1,l,s,r,t,th,zo,null,is);for(let f=0;f<n.length;f+=1)n[f].a();Hn()}},i:function(l){if(!i){for(let c=0;c<s.length;c+=1)_e(n[c]);i=!0}},o:function(l){for(let c=0;c<n.length;c+=1)Me(n[c]);i=!1},d:function(l){l&&re(t);for(let c=0;c<n.length;c+=1)n[c].d()}};return ee("SvelteRegisterBlock",{block:o,id:q2.name,type:"else",source:"(189:4) {:else}",ctx:e}),o}function J2(e){let t,n,r,i,s;const a={c:function(){t=L("div"),n=L("div"),r=ce("Click the heart button "),i=L("span"),s=ce(" on tree windows to add favorite trees."),w(i,"class","svg-icon s-3FYkPUvX2_k2"),x(i,Vt,183,33,4402),w(n,"class","tree-placeholder-text s-3FYkPUvX2_k2"),x(n,Vt,182,8,4333),w(t,"class","tree-placeholder s-3FYkPUvX2_k2"),x(t,Vt,181,6,4294)},m:function(u,l){ae(u,t,l),y(t,n),y(n,r),y(n,i),i.innerHTML=Ma,y(n,s)},p:pe,i:pe,o:pe,d:function(u){u&&re(t)}};return ee("SvelteRegisterBlock",{block:a,id:J2.name,type:"if",source:"(181:4) {#if favoritesStoreValue.favTrees.length === 0}",ctx:e}),a}function zo(e,t){let n,r,i,s,a,o=pe,u;r=new Z2({props:{favTree:t[11],favoritesStore:t[0],pinnedTreeStore:t[1]},$$inline:!0});const l={key:e,first:null,c:function(){n=L("div"),bt(r.$$.fragment),i=W(),w(n,"class","tree-wrapper s-3FYkPUvX2_k2"),x(n,Vt,191,10,4681),this.first=n},m:function(f,h){ae(f,n,h),dt(r,n,null),y(n,i),u=!0},p:function(f,h){t=f;const p={};h&32&&(p.favTree=t[11]),h&1&&(p.favoritesStore=t[0]),h&2&&(p.pinnedTreeStore=t[1]),r.$set(p)},r:function(){a=n.getBoundingClientRect()},f:function(){J0(n),o(),zc(n,a)},a:function(){o(),o=q0(n,a,j2,{duration:300})},i:function(f){u||(_e(r.$$.fragment,f),s&&s.end(1),u=!0)},o:function(f){Me(r.$$.fragment,f),s=yl(n,Ri,{duration:200}),u=!1},d:function(f){f&&re(n),pt(r),f&&s&&s.end()}};return ee("SvelteRegisterBlock",{block:l,id:zo.name,type:"each",source:"(191:8) {#each favoritesStoreValue.favTrees as favTree (favTree.pinnedTree.treeID)}",ctx:t}),l}function Wo(e){let t,n,r,i,s,a,o,u,l,c,f,h,p,g,d=e[3]&&Eo(e);const m={c:function(){t=L("div"),n=L("div"),r=L("div"),i=L("div"),i.textContent="My Favorite Trees",s=W(),a=L("div"),o=L("div"),u=W(),l=L("div"),c=W(),d&&d.c(),w(i,"class","title s-3FYkPUvX2_k2"),x(i,Vt,164,6,3842),w(o,"class","svg-icon s-3FYkPUvX2_k2"),x(o,Vt,166,8,3919),w(l,"class","svg-icon close-icon s-3FYkPUvX2_k2"),x(l,Vt,172,8,4081),w(a,"class","icons s-3FYkPUvX2_k2"),x(a,Vt,165,6,3891),w(r,"class","header-title s-3FYkPUvX2_k2"),x(r,Vt,163,4,3809),w(n,"class","header s-3FYkPUvX2_k2"),x(n,Vt,162,2,3784),w(t,"class","favorites-panel s-3FYkPUvX2_k2"),w(t,"style",f=`max-height: ${e[2]}px;`),ge(t,"shown",e[5].shown),x(t,Vt,156,0,3647)},l:function(S){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(S,b){ae(S,t,b),y(t,n),y(n,r),y(r,i),y(r,s),y(r,a),y(a,o),o.innerHTML=X2,y(a,u),y(a,l),l.innerHTML=Aa,y(t,c),d&&d.m(t,null),e[9](t),h=!0,p||(g=[he(o,"click",e[8],!1,!1,!1),he(l,"click",e[6],!1,!1,!1)],p=!0)},p:function(S,[b]){S[3]?d?(d.p(S,b),b&8&&_e(d,1)):(d=Eo(S),d.c(),_e(d,1),d.m(t,null)):d&&(Nn(),Me(d,1,1,()=>{d=null}),Hn()),(!h||b&4&&f!==(f=`max-height: ${S[2]}px;`))&&w(t,"style",f),(!h||b&32)&&ge(t,"shown",S[5].shown)},i:function(S){h||(_e(d),h=!0)},o:function(S){Me(d),h=!1},d:function(S){S&&re(t),d&&d.d(),e[9](null),p=!1,Re(g)}};return ee("SvelteRegisterBlock",{block:m,id:Wo.name,type:"component",source:"",ctx:e}),m}function ud(e,t,n){let{$$slots:r={},$$scope:i}=t;St("FavoritesPanel",r,[]);let{favoritesStore:s=null}=t,{pinnedTreeStore:a=null}=t,{width:o=650}=t,u=null,l=!1,c=!1,f=Vr();Ne(()=>{n(7,l=!0)});const h=()=>{s&&a&&s.subscribe(v=>{n(5,f=v)}),n(3,c=!0)},p=v=>{v.stopPropagation(),v.preventDefault(),n(5,f.shown=!1,f),s==null||s.set(f)},g=["favoritesStore","pinnedTreeStore","width"];Object.keys(t).forEach(v=>{!~g.indexOf(v)&&v.slice(0,2)!=="$$"&&v!=="slot"&&console.warn(`<FavoritesPanel> was created with unknown prop '${v}'`)});const d=v=>Sc(v,f);function m(v){Je[v?"unshift":"push"](()=>{u=v,n(4,u)})}return e.$$set=v=>{"favoritesStore"in v&&n(0,s=v.favoritesStore),"pinnedTreeStore"in v&&n(1,a=v.pinnedTreeStore),"width"in v&&n(2,o=v.width)},e.$capture_state=()=>({FavoritesRow:Z2,downloadClicked:Sc,getFavoritesStoreDefaultValue:Vr,onMount:Ne,flip:j2,fade:Ri,closeIcon:Aa,downloadIcon:X2,heartDemoIcon:Ma,favoritesStore:s,pinnedTreeStore:a,width:o,component:u,mounted:l,initialized:c,favoritesStoreValue:f,initView:h,closeClicked:p}),e.$inject_state=v=>{"favoritesStore"in v&&n(0,s=v.favoritesStore),"pinnedTreeStore"in v&&n(1,a=v.pinnedTreeStore),"width"in v&&n(2,o=v.width),"component"in v&&n(4,u=v.component),"mounted"in v&&n(7,l=v.mounted),"initialized"in v&&n(3,c=v.initialized),"favoritesStoreValue"in v&&n(5,f=v.favoritesStoreValue)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{e.$$.dirty&139&&s&&a&&l&&!c&&h()},[s,a,o,c,u,f,p,l,d,m]}class Q2 extends _t{constructor(t){super(t),Ct(this,t,ud,Wo,tt,{favoritesStore:0,pinnedTreeStore:1,width:2}),ee("SvelteRegisterComponent",{component:this,tagName:"FavoritesPanel",options:t,id:Wo.name})}get favoritesStore(){throw new Error("<FavoritesPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set favoritesStore(t){throw new Error("<FavoritesPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get pinnedTreeStore(){throw new Error("<FavoritesPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set pinnedTreeStore(t){throw new Error("<FavoritesPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get width(){throw new Error("<FavoritesPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set width(t){throw new Error("<FavoritesPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const ss=z.format(",.3~f"),vt=45,as="slider-left-thumb",os="slider-right-thumb",oi=268,li=16,Ye=8,pr={default:6,original:6*1.8};var oa,K2,la,$2,ca,e0,Tn,mr,Ni,Oo,Tr,bs,Mr,Cs,ua,t0,ha,n0,Mn,yr,Hi,Go,fa,r0,da,i0,pa,s0,ga,a0,ma,o0,ya,l0,wa,c0,va,u0,Fi,Yo;class _c{constructor(t,n,r,i){ye(this,oa);ye(this,la);ye(this,ca);ye(this,Tn);ye(this,Ni);ye(this,Tr);ye(this,Mr);ye(this,ua);ye(this,ha);ye(this,Mn);ye(this,Hi);ye(this,fa);ye(this,da);ye(this,pa);ye(this,ga);ye(this,ma);ye(this,ya);ye(this,wa);ye(this,va);ye(this,Fi);N(this,"component");N(this,"accuracyRow");N(this,"accuracySVG",null);N(this,"minSampleRow");N(this,"minSampleSVG",null);N(this,"heightRow");N(this,"heightSVG",null);N(this,"data");N(this,"treeMapMap");N(this,"accuracyDensities");N(this,"heightDensities");N(this,"minSampleDensities");N(this,"accuracyXScale");N(this,"accuracyYScale");N(this,"densityClip");N(this,"minSampleXScale");N(this,"minSampleYScale");N(this,"minSampleDensityClip");N(this,"heightXScale");N(this,"heightYScale");N(this,"searchStore");N(this,"searchStoreValue");N(this,"curAccuracyLow");N(this,"curAccuracyHigh");N(this,"accuracyLow");N(this,"accuracyHigh");N(this,"curMinSampleLow");N(this,"curMinSampleHigh");N(this,"minSampleLow");N(this,"minSampleHigh");N(this,"searchUpdated");N(this,"refreshAccuracy",()=>{se(this,Tn,mr).call(this,"slider-left-thumb",this.accuracyLow),se(this,Tn,mr).call(this,"slider-right-thumb",this.accuracyHigh)});N(this,"refreshMinSample",()=>{se(this,Mn,yr).call(this,"slider-left-thumb",this.minSampleLow),se(this,Mn,yr).call(this,"slider-right-thumb",this.minSampleHigh)});N(this,"refreshHeight",()=>{var t;for(const n of this.heightXScale.domain()){const r=z.select(this.component).select(`#height-checkbox-${n}`);r.property("checked")||((t=this.heightSVG)==null||t.select(`#bar-${n}`).classed("selected",!0),r.property("checked",!0),this.searchStoreValue.curHeightRange.add(n))}this.searchStore.set(this.searchStoreValue)});N(this,"refreshDepth",t=>{const n=z.select(this.component).select(`#level-row-${t} .level-content`),r=this.searchStoreValue.curDepthFeatures.get(t);if(r===void 0){console.warn(`Unknown depth ${t}`);return}for(const i of this.searchStoreValue.featureOrder){const s=n.select(`#depth-check-box-label-${t}-${i}`);s.property("checked")||(s.property("checked",!0),r.add(i))}this.searchStoreValue.curDepthFeatures.set(t,r),this.searchStore.set(this.searchStoreValue)});N(this,"refreshAllFeatures",()=>{const t=z.select(this.component).select("#level-row-0 .level-content"),n=this.searchStoreValue.curAllFeatures;for(const r of this.searchStoreValue.featureOrder){const i=t.select(`#depth-check-box-label-0-${r}`);i.property("checked")||(i.property("checked",!0),n.add(r))}this.searchStoreValue.curAllFeatures=n,this.searchStore.set(this.searchStoreValue)});N(this,"updatePlots",(t,n=!1)=>{var k,H,I;const r=[],i=[],s=new Map;if(this.searchStoreValue.treeHeightMap)for(const[M,V]of this.searchStoreValue.treeHeightMap)s.set(M,0);let a=1;this.searchStoreValue.treeHeightMap&&(a=this.searchStoreValue.treeHeightMap.size);const o=z.transition("updatePlot").duration(500);for(const M in this.data.treeMap){const V=parseInt(M);if(t.allFeature.has(V)&&t.depth.has(V)&&t.height.has(V)&&t.minSample.has(V)&&r.push(this.data.treeMap[M][2]),t.allFeature.has(V)&&t.depth.has(V)&&t.height.has(V)&&t.accuracy.has(V)&&this.searchStoreValue.treeMinSampleMap!==null&&i.push(this.searchStoreValue.treeMinSampleMap.get(V)),t.allFeature.has(V)&&t.depth.has(V)&&t.minSample.has(V)&&t.accuracy.has(V)&&this.searchStoreValue.treeHeightMap!==null){const E=this.searchStoreValue.treeHeightMap.get(V),F=s.get(E);s.set(E,F+1)}}const u=50,l=z.bin().thresholds(u),c=l(r),f=[];if(c.forEach(M=>{f.push({x:M.x0===void 0?0:M.x0,y:M.length/a})}),f.length>2){const M=f[1].x-f[0].x;f.unshift({x:f[0].x-M,y:0}),f.push({x:f.slice(-1)[0].x+M,y:0})}const h=[];if(l(i).forEach(M=>{h.push({x:M.x0===void 0?0:M.x0,y:M.length/a})}),h.length>2){const M=h[1].x-h[0].x;h.unshift({x:Math.max(0,h[0].x-M),y:0}),h.push({x:h.slice(-1)[0].x+M,y:0})}const g=[];s.forEach((M,V)=>{g.push({x:V,y:M/a})}),g.sort((M,V)=>M.x-V.x);const d=(k=this.accuracySVG)==null?void 0:k.select("g.hist-group"),m=z.line().curve(z.curveBasis).x(M=>this.accuracyXScale(M.x)).y(M=>this.accuracyYScale(M.y));n?(d==null||d.select("path.area-path").datum(f).transition(o).attr("d",m),d==null||d.select("path.area-path.selected").datum(f).transition(o).attr("d",m)):(d==null||d.select("path.area-path").datum(f).attr("d",m),d==null||d.select("path.area-path.selected").datum(f).attr("d",m));const v=(H=this.minSampleSVG)==null?void 0:H.select("g.hist-group"),S=z.line().curve(z.curveBasis).x(M=>this.minSampleXScale(M.x)).y(M=>this.minSampleYScale(M.y));n?(v==null||v.select("path.area-path").datum(h).transition(o).attr("d",S),v==null||v.select("path.area-path.selected").datum(h).transition(o).attr("d",S)):(v==null||v.select("path.area-path").datum(h).attr("d",S),v==null||v.select("path.area-path.selected").datum(h).attr("d",S));const b=(I=this.heightSVG)==null?void 0:I.select("g.hist-group"),_=b==null?void 0:b.selectAll("g.bar").data(g);n?(_==null||_.select("rect").transition(o).attr("y",M=>this.heightYScale(M.y)).attr("height",M=>this.heightYScale(0)-this.heightYScale(M.y)),_==null||_.select("text").transition(o).attr("y",M=>this.heightYScale(M.y)-5)):(_==null||_.select("rect").attr("y",M=>this.heightYScale(M.y)).attr("height",M=>this.heightYScale(0)-this.heightYScale(M.y)),_==null||_.select("text").attr("y",M=>this.heightYScale(M.y)-5)),_==null||_.select("tspan").text(M=>`(${z.format(".0%")(M.y)})`),_==null||_.select("title").text(M=>`Height: ${M.x} (${z.format(".4%")(M.y)})`)});this.component=t,this.searchUpdated=r,this.searchStore=i,this.searchStoreValue=Dr(),this.searchStore.subscribe(a=>{this.searchStoreValue=a,this.searchUpdated()}),this.accuracyRow=z.select(t).select(".accuracy-row"),this.minSampleRow=z.select(t).select(".min-sample-row"),this.heightRow=z.select(t).select(".height-row"),this.curAccuracyLow=0,this.curAccuracyHigh=1,this.accuracyLow=0,this.accuracyHigh=1,this.curMinSampleLow=0,this.curMinSampleHigh=1,this.minSampleLow=0,this.minSampleHigh=1,this.data=n,this.treeMapMap=new Map,Object.keys(n.treeMap).forEach(a=>{this.treeMapMap.set(+a,n.treeMap[+a])});const s=se(this,oa,K2).call(this);this.accuracyDensities=s.accuracyDensities,this.heightDensities=s.heightDensities,this.minSampleDensities=s.minSampleDensities,this.accuracyXScale=z.scaleLinear(),this.accuracyYScale=z.scaleLinear(),this.densityClip=null,this.accuracySVG=se(this,la,$2).call(this),se(this,ca,e0).call(this),this.minSampleXScale=z.scaleLinear(),this.minSampleYScale=z.scaleLinear(),this.minSampleDensityClip=null,this.minSampleSVG=se(this,ua,t0).call(this),se(this,ha,n0).call(this),this.heightXScale=z.scaleBand(),this.heightYScale=z.scaleLinear(),this.heightSVG=se(this,pa,s0).call(this),se(this,ga,a0).call(this),se(this,ya,l0).call(this),this.searchStoreValue.updatePlots=(a,o)=>{this.updatePlots(a,o)},this.searchStore.set(this.searchStoreValue)}}oa=new WeakSet,K2=function(){const t=[];for(const b in this.data.treeMap)t.push(this.data.treeMap[b][2]);const n=t.length,r=50,s=z.bin().thresholds(r)(t),a=[];s.forEach(b=>{a.push({x:b.x0===void 0?0:b.x0,y:b.length/n})});const o=a[1].x-a[0].x;a.unshift({x:a[0].x-o,y:0}),a.push({x:a.slice(-1)[0].x+o,y:0}),this.curAccuracyLow=a[0].x,this.curAccuracyHigh=a.slice(-1)[0].x,this.accuracyLow=this.curAccuracyLow,this.accuracyHigh=this.curAccuracyHigh;const u=new Map;z.hierarchy(this.data.trie,b=>b.c).eachBefore(b=>{if(b.data.t!==void 0){const _=b.data.t;u.has(_)?u.set(_,Math.max(u.get(_),b.depth)):u.set(_,b.depth)}});const c=new Map,f=new Map,h=[];for(const[b,_]of this.treeMapMap){const k=new Map,H=z.hierarchy(_[0],M=>M.c);let I=1/0;H.each(M=>{M.data.f[0]!=="+"&&M.data.f[0]!=="-"?k.has(M.depth+1)?k.get(M.depth+1).add(parseInt(M.data.f[0])):k.set(M.depth+1,new Set([parseInt(M.data.f[0])])):I=Math.min(I,M.data.f[1])}),c.set(b,k),f.set(b,I),h.push(I)}const p=new Map;Array.from(u.values()).forEach(b=>{p.has(b)?p.set(b,p.get(b)+1):p.set(b,1)});const g=[];p.forEach((b,_)=>{g.push({x:_,y:b/n})}),g.sort((b,_)=>b.x-_.x);const d=50,m=z.bin().thresholds(d)(h),v=[];m.forEach(b=>{v.push({x:b.x0===void 0?0:b.x0,y:b.length/n})});const S=v[1].x-v[0].x;return v.unshift({x:Math.max(0,v[0].x-S),y:0}),v.push({x:v.slice(-1)[0].x+S,y:0}),this.curMinSampleLow=v[0].x,this.curMinSampleHigh=v.slice(-1)[0].x,this.minSampleLow=this.curMinSampleLow,this.minSampleHigh=this.curMinSampleHigh,this.searchStoreValue.treeHeightMap=u,this.searchStoreValue.treeMinSampleMap=f,this.searchStoreValue.treeDepthFeaturesMap=c,this.searchStore.set(this.searchStoreValue),{accuracyDensities:a,heightDensities:g,minSampleDensities:v}},la=new WeakSet,$2=function(){const t=oi-li*2,n=30,r=15,i=vt+r+n,s=this.accuracyRow.select(".svg-accuracy").attr("width",t).attr("height",i),a={top:0,left:Ye,right:Ye,bottom:0,histTop:2},o=t-a.left-a.right;s.append("g").attr("class","border-group").attr("transform",`translate(${0}, ${a.top})`).append("rect").attr("width",t).attr("height",vt-a.top).style("fill","none").style("stroke",Te.colors["gray-300"]);const u=s.append("g").attr("class","hist-group").attr("transform",`translate(${Ye}, ${a.top})`);this.accuracyXScale=z.scaleLinear().domain([this.accuracyDensities[0].x,this.accuracyDensities.slice(-1)[0].x]).range([0,o]);const l=Math.max(...this.accuracyDensities.map(k=>k.y));this.accuracyYScale=z.scaleLinear().domain([0,l]).range([vt-a.bottom-a.top,a.histTop]);const c=z.line().curve(z.curveBasis).x(k=>this.accuracyXScale(k.x)).y(k=>this.accuracyYScale(k.y)),h=u.append("path").attr("class","area-path").datum(this.accuracyDensities).attr("d",c).clone(!0).classed("selected",!0);this.densityClip=u.append("clipPath").attr("id","accuracy-density-clip").append("rect").style("fill","hsla(100, 50%, 50%, 0.1)").attr("x",this.accuracyXScale(this.curAccuracyLow)).attr("width",this.accuracyXScale(this.curAccuracyHigh)-this.accuracyXScale(this.curAccuracyLow)).attr("height",vt),h.attr("clip-path","url(#accuracy-density-clip)");const p=s.append("g").attr("class","tick-group").attr("transform",`translate(${Ye}, ${vt+r})`),g=p.append("g").attr("class","tick-back-group"),d=p.append("g").attr("class","tick-top-group"),m=30,v=[],S=this.accuracyDensities[1].x-this.accuracyDensities[0].x,b=this.accuracyLow+S,_=this.accuracyHigh;for(let k=0;k<=m;k++)v.push(b+(_-b)*k/m);return d.selectAll("g.tick").data(v).join("g").attr("class","tick").attr("transform",k=>`translate(${this.accuracyXScale(k)}, 0)`).append("line").attr("y2",pr.default),se(this,Mr,Cs).call(this),g.append("text").attr("class","label-min-value").attr("x",-4).attr("y",pr.default*2.2).style("text-anchor","start").style("dominant-baseline","hanging").style("font-size","0.9em").style("fill",Te.colors["gray-500"]).text(ss(this.accuracyLow)),g.append("text").attr("class","label-max-value").attr("x",o+4).attr("y",pr.default*2.2).style("text-anchor","end").style("dominant-baseline","hanging").style("font-size","0.9em").style("fill",Te.colors["gray-500"]).text(ss(this.accuracyHigh)),s},ca=new WeakSet,e0=function(){se(this,Tn,mr).call(this,as,this.curAccuracyLow),se(this,Tn,mr).call(this,os,this.curAccuracyHigh),this.accuracyRow.select(`#${as}`).on("mousedown",t=>se(this,Ni,Oo).call(this,t)),this.accuracyRow.select(`#${os}`).on("mousedown",t=>se(this,Ni,Oo).call(this,t)),se(this,Tr,bs).call(this)},Tn=new WeakSet,mr=function(t,n){switch(n=Math.min(Math.max(n,this.accuracyLow),this.accuracyHigh),t){case"slider-left-thumb":n=Math.min(this.curAccuracyHigh,n);break;case"slider-right-thumb":n=Math.max(this.curAccuracyLow,n);break;default:console.warn("Unknown thumb type in moveThumb()");break}const r=this.accuracyRow.select(`#${t}`).attr("data-curValue",n),i=oi-2*li-2*Ye;let s=(n-this.accuracyLow)/(this.accuracyHigh-this.accuracyLow)*i;switch(t){case"slider-left-thumb":s-=Ye,this.curAccuracyLow=n,this.searchStoreValue.curAccuracyLow=this.curAccuracyLow;break;case"slider-right-thumb":this.curAccuracyHigh=n,this.searchStoreValue.curAccuracyHigh=this.curAccuracyHigh;break;default:console.warn("Unknown thumb type in moveThumb()");break}this.searchStore.set(this.searchStoreValue),r.style("left",`${s}px`),se(this,Tr,bs).call(this),se(this,Mr,Cs).call(this),this.searchUpdated()},Ni=new WeakSet,Oo=function(t){t.preventDefault(),t.stopPropagation();const n=t.target;if(n===null||!n.id.includes("thumb"))return;const r=n.parentNode,i=r.getBoundingClientRect().width;n.focus();const s=o=>{o.preventDefault(),o.stopPropagation();const u=o.pageX-r.getBoundingClientRect().x,l=this.accuracyLow+(this.accuracyHigh-this.accuracyLow)*u/i;se(this,Tn,mr).call(this,n.id,l)},a=()=>{document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",a),document.body.style.cursor="default",n.blur()};document.addEventListener("mousemove",s),document.addEventListener("mouseup",a),document.body.style.cursor="grabbing"},Tr=new WeakSet,bs=function(){const t=this.accuracyRow.select("#slider-left-thumb"),n=this.accuracyRow.select("#slider-right-thumb"),r=parseFloat(t.style("left")),s=parseFloat(n.style("left"))-r;this.accuracyRow.select(".track .range-track").style("left",`${r+Ye}px`).style("width",`${s}px`),this.densityClip!==null&&this.densityClip.attr("x",this.accuracyXScale(this.curAccuracyLow)).attr("width",this.accuracyXScale(this.curAccuracyHigh)-this.accuracyXScale(this.curAccuracyLow))},Mr=new WeakSet,Cs=function(){if(this.accuracySVG===null)return;const t=this.accuracySVG.select("g.tick-top-group").selectAll("g.tick");t.filter(n=>n>=this.curAccuracyLow&&n<=this.curAccuracyHigh).classed("out-range",!1),t.filter(n=>n<this.curAccuracyLow||n>this.curAccuracyHigh).classed("out-range",!0),this.curAccuracyHigh===this.curAccuracyLow&&this.accuracySVG.select("g.tick-top-group").selectAll("g.tick").classed("out-range",!0)},ua=new WeakSet,t0=function(){const t=oi-li*2,n=30,r=15,i=vt+r+n,s=this.minSampleRow.select(".svg-min-sample").attr("width",t).attr("height",i),a={top:0,left:Ye,right:Ye,bottom:0,histTop:2},o=t-a.left-a.right;s.append("g").attr("class","border-group").attr("transform",`translate(${0}, ${a.top})`).append("rect").attr("width",t).attr("height",vt-a.top).style("fill","none").style("stroke",Te.colors["gray-300"]);const u=s.append("g").attr("class","hist-group").attr("transform",`translate(${Ye}, ${a.top})`);this.minSampleXScale=z.scaleLinear().domain([this.minSampleDensities[0].x,this.minSampleDensities.slice(-1)[0].x]).range([0,o]);const l=Math.max(...this.minSampleDensities.map(k=>k.y));this.minSampleYScale=z.scaleLinear().domain([0,l]).range([vt-a.bottom-a.top,a.histTop]);const c=z.line().curve(z.curveBasis).x(k=>this.minSampleXScale(k.x)).y(k=>this.minSampleYScale(k.y)),h=u.append("path").attr("class","area-path").datum(this.minSampleDensities).attr("d",c).clone(!0).classed("selected",!0);this.minSampleDensityClip=u.append("clipPath").attr("id","min-sample-density-clip").append("rect").style("fill","hsla(100, 50%, 50%, 0.1)").attr("x",this.minSampleXScale(this.curMinSampleLow)).attr("width",this.minSampleXScale(this.curMinSampleHigh)-this.minSampleXScale(this.curMinSampleLow)).attr("height",vt),h.attr("clip-path","url(#min-sample-density-clip)");const p=s.append("g").attr("class","tick-group").attr("transform",`translate(${Ye}, ${vt+r})`),g=p.append("g").attr("class","tick-back-group"),d=p.append("g").attr("class","tick-top-group"),m=30,v=[],S=this.minSampleDensities[1].x-this.minSampleDensities[0].x,b=this.minSampleLow+S,_=this.minSampleHigh;for(let k=0;k<=m;k++)v.push(b+(_-b)*k/m);return d.selectAll("g.tick").data(v).join("g").attr("class","tick").attr("transform",k=>`translate(${this.minSampleXScale(k)}, 0)`).append("line").attr("y2",pr.default),se(this,Mr,Cs).call(this),g.append("text").attr("class","label-min-value").attr("x",-4).attr("y",pr.default*2.2).style("text-anchor","start").style("dominant-baseline","hanging").style("font-size","0.9em").style("fill",Te.colors["gray-500"]).text(ss(this.minSampleLow)),g.append("text").attr("class","label-max-value").attr("x",o+4).attr("y",pr.default*2.2).style("text-anchor","end").style("dominant-baseline","hanging").style("font-size","0.9em").style("fill",Te.colors["gray-500"]).text(ss(this.minSampleHigh)),s},ha=new WeakSet,n0=function(){se(this,Mn,yr).call(this,as,this.curMinSampleLow),se(this,Mn,yr).call(this,os,this.curMinSampleHigh),this.minSampleRow.select(`#${as}`).on("mousedown",t=>se(this,Hi,Go).call(this,t)),this.minSampleRow.select(`#${os}`).on("mousedown",t=>se(this,Hi,Go).call(this,t)),se(this,Tr,bs).call(this)},Mn=new WeakSet,yr=function(t,n){switch(n=Math.min(Math.max(n,this.minSampleLow),this.minSampleHigh),t){case"slider-left-thumb":n=Math.min(this.curMinSampleHigh,n);break;case"slider-right-thumb":n=Math.max(this.curMinSampleLow,n);break;default:console.warn("Unknown thumb type in moveThumb()");break}const r=this.minSampleRow.select(`#${t}`).attr("data-curValue",n),i=oi-2*li-2*Ye;let s=(n-this.minSampleLow)/(this.minSampleHigh-this.minSampleLow)*i;switch(t){case"slider-left-thumb":s-=Ye,this.curMinSampleLow=n,this.searchStoreValue.curMinSampleLow=this.curMinSampleLow;break;case"slider-right-thumb":this.curMinSampleHigh=n,this.searchStoreValue.curMinSampleHigh=this.curMinSampleHigh;break;default:console.warn("Unknown thumb type in moveThumb()");break}this.searchStore.set(this.searchStoreValue),r.style("left",`${s}px`),se(this,fa,r0).call(this),se(this,da,i0).call(this),this.searchUpdated()},Hi=new WeakSet,Go=function(t){t.preventDefault(),t.stopPropagation();const n=t.target;if(n===null||!n.id.includes("thumb"))return;const r=n.parentNode,i=r.getBoundingClientRect().width;n.focus();const s=o=>{o.preventDefault(),o.stopPropagation();const u=o.pageX-r.getBoundingClientRect().x;let l=this.minSampleLow+(this.minSampleHigh-this.minSampleLow)*u/i;l=Wr(l,0),se(this,Mn,yr).call(this,n.id,l)},a=()=>{document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",a),document.body.style.cursor="default",n.blur()};document.addEventListener("mousemove",s),document.addEventListener("mouseup",a),document.body.style.cursor="grabbing"},fa=new WeakSet,r0=function(){const t=this.minSampleRow.select("#slider-left-thumb"),n=this.minSampleRow.select("#slider-right-thumb"),r=parseFloat(t.style("left")),s=parseFloat(n.style("left"))-r;this.minSampleRow.select(".track .range-track").style("left",`${r+Ye}px`).style("width",`${s}px`),this.minSampleDensityClip!==null&&this.minSampleDensityClip.attr("x",this.minSampleXScale(this.curMinSampleLow)).attr("width",this.minSampleXScale(this.curMinSampleHigh)-this.minSampleXScale(this.curMinSampleLow))},da=new WeakSet,i0=function(){if(this.minSampleSVG===null)return;const t=this.minSampleSVG.select("g.tick-top-group").selectAll("g.tick");t.filter(n=>n>=this.curMinSampleLow&&n<=this.curMinSampleHigh).classed("out-range",!1),t.filter(n=>n<this.curMinSampleLow||n>this.curMinSampleHigh).classed("out-range",!0),this.curMinSampleHigh===this.curMinSampleLow&&this.minSampleSVG.select("g.tick-top-group").selectAll("g.tick").classed("out-range",!0)},pa=new WeakSet,s0=function(){const t=oi-li*2,n=0,i=vt+0+n,s=this.heightRow.select(".svg-height").attr("width",t).attr("height",i),a={top:0,left:Ye,right:Ye,bottom:0,histTop:20},o=t-a.left-a.right;s.append("g").attr("class","border-group").attr("transform",`translate(${0}, ${a.top})`).append("rect").attr("width",t).attr("height",vt-a.top).style("fill","none").style("stroke",Te.colors["gray-300"]);const u=s.append("g").attr("class","hist-group").attr("transform",`translate(${Ye}, ${a.top})`);this.heightXScale=z.scaleBand().domain(this.heightDensities.map(h=>h.x)).range([0,o]).paddingInner(.35);const l=Math.max(...this.heightDensities.map(h=>h.y));this.heightYScale=z.scaleLinear().domain([0,l]).range([vt-a.bottom-a.top,a.histTop]);const c=u.selectAll("g.bar").data(this.heightDensities).join("g").attr("class","bar selected").attr("id",h=>`bar-${h.x}`).attr("transform",h=>`translate(${this.heightXScale(h.x)}, ${0})`);return c.append("rect").attr("x",0).attr("y",h=>this.heightYScale(h.y)).attr("width",this.heightXScale.bandwidth()).attr("height",h=>this.heightYScale(0)-this.heightYScale(h.y)),c.append("text").attr("x",this.heightXScale.bandwidth()/2).attr("y",h=>this.heightYScale(h.y)-5).append("tspan").text(h=>`(${z.format(".0%")(h.y)})`),c.append("title").text(h=>`Height: ${h.x} (${z.format(".4%")(h.y)})`),this.searchStoreValue.curHeightRange=new Set(this.heightXScale.domain()),this.searchStore.set(this.searchStoreValue),s},ga=new WeakSet,a0=function(){const t=z.select(this.component).select(".height-checkboxes");this.heightDensities.forEach(n=>{t.append("label").attr("class","height-checkbox-label").attr("for",`height-checkbox-${n.x}`).text(n.x).style("left",`${this.heightXScale(n.x)+this.heightXScale.bandwidth()/2+13}px`),t.append("input").attr("type","checkbox").property("checked",!0).attr("class","height-checkbox").attr("id",`height-checkbox-${n.x}`).style("left",`${this.heightXScale(n.x)+this.heightXScale.bandwidth()/2-4}px`).on("change",i=>se(this,ma,o0).call(this,i,n.x))})},ma=new WeakSet,o0=function(t,n){var i;t.preventDefault();const r=t.target;(i=this.heightSVG)==null||i.select(`#bar-${n}`).classed("selected",r.checked),r.checked?this.searchStoreValue.curHeightRange.add(n):this.searchStoreValue.curHeightRange.delete(n),this.searchStore.set(this.searchStoreValue)},ya=new WeakSet,l0=async function(){await ml();for(const t of this.searchStoreValue.curDepthFeatures.keys())se(this,Fi,Yo).call(this,t);se(this,Fi,Yo).call(this,0)},wa=new WeakSet,c0=function(t,n,r){t.preventDefault();const i=t.target,s=this.searchStoreValue.curDepthFeatures.get(n);if(s===void 0){console.error(`Unknown depth ${n}`);return}i.checked?s.add(r):s.delete(r),this.searchStoreValue.curDepthFeatures.set(n,s),this.searchStore.set(this.searchStoreValue)},va=new WeakSet,u0=function(t,n){t.preventDefault();const r=t.target,i=this.searchStoreValue.curAllFeatures;r.checked?i.add(n):i.delete(n),this.searchStoreValue.curAllFeatures=i,this.searchStore.set(this.searchStoreValue)},Fi=new WeakSet,Yo=function(t){var o,u;const n=z.select(this.component).select(`#level-row-${t} .level-content`),r=new Set([]),i=new Set([]);for(const l of this.searchStoreValue.featureOrder){let c=this.searchStoreValue.featureMap.get(l);c===void 0&&(c=["","",""],console.error(`Cannot find feature ${l} in featureMap`)),i.has(c[2])?r.add(c[2]):i.add(c[2])}let s=null,a=null;for(const l of this.searchStoreValue.featureOrder){let c=this.searchStoreValue.featureMap.get(l);c===void 0&&(c=["","",""],console.error(`Cannot find feature ${l} in featureMap`));let f=n;if(s!==null&&c[2]!==a&&(a=null,s=null),r.has(c[2])){if(s===null){const v=n.append("div").attr("class","depth-checkbox-row");v.append("div").attr("class","depth-checkbox-row-title").text(c[2]),s=v.append("div").attr("class","depth-checkbox-row-checkboxes"),a=c[2]}f=s.append("div").attr("class","checkbox-wrapper")}else f=n.append("div").attr("class","depth-checkbox-single-row").append("div").attr("class","checkbox-wrapper");const h=f.append("input").attr("type","checkbox").property("checked",!0).attr("class","depth-checkbox").attr("id",`depth-check-box-label-${t}-${l}`),p=f.append("label").attr("class","depth-checkbox-label").attr("for",`depth-check-box-label-${t}-${l}`);let g=`${c[2]} ${c[1]}`;c[2]===a&&(g=`${c[1]}`),p.append("span").text(g),p.attr("title",t===0?`Show/hide trees using "${c[0]} ${c[1]}"`:`Show/hide trees using "${c[0]} ${c[1]}" at depth ${t}`);let d="initial";const m=(u=(o=this.searchStoreValue).getFeatureColor)==null?void 0:u.call(o,String(l));m!==void 0&&(d=m),h.style("accent-color",d),h.on("change",v=>{t===0?se(this,va,u0).call(this,v,l):se(this,wa,c0).call(this,v,t,l)})}};const Bo=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 75 131" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(1,0,0,1,-907,-4228)">
        <g transform="matrix(1,0,0,1.4297,0,4061.32)">
            <g transform="matrix(1.93064,0,0,1.35038,-2646,-5771.08)">
                <g id="range-thumb-right">
                    <path d="M1840.41,4360.03L1878.97,4360.03L1878.97,4427.36L1840.41,4403.12L1840.41,4360.03Z"/>
                </g>
            </g>
        </g>
    </g>
</svg>
`,Uo=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 76 131" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(1,0,0,1,-808,-4228)">
        <g transform="matrix(1,0,0,1.4297,0,4061.32)">
            <g transform="matrix(1.93064,0,0,1.35038,-2744.28,-5771.08)">
                <g id="range-thumb-left">
                    <path d="M1840.41,4360.03L1878.97,4360.03L1878.97,4403.12L1840.41,4427.36L1840.41,4360.03Z"/>
                </g>
            </g>
        </g>
    </g>
</svg>
`,Xl='<svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"><path d="M98 190.06l139.78 163.12a24 24 0 0036.44 0L414 190.06c13.34-15.57 2.28-39.62-18.22-39.62h-279.6c-20.5 0-31.56 24.05-18.18 39.62z"/></svg>',kr='<svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"><path d="M256 48C141.31 48 48 141.32 48 256c0 114.86 93.14 208 208 208 114.69 0 208-93.31 208-208 0-114.87-93.13-208-208-208zm0 313a94 94 0 010-188h4.21l-14.11-14.1a14 14 0 0119.8-19.8l40 40a14 14 0 010 19.8l-40 40a14 14 0 01-19.8-19.8l18-18c-2.38-.1-5.1-.1-8.1-.1a66 66 0 1066 66 14 14 0 0128 0 94.11 94.11 0 01-94 94z"/></svg>';const{Object:hd,console:fd}=wl,te="src/components/search-panel/SearchPanel.svelte";function xc(e,t,n){const r=e.slice();return r[25]=t[n],r}function Zo(e){var S,b;let t,n,r,i,s,a,o,u,l,c,f=e[4].curAllFeatures.size===Object.keys((S=e[0])==null?void 0:S.featureMap).length?"Include all features":`Include ${e[4].curAllFeatures.size} out of ${Object.keys((b=e[0])==null?void 0:b.featureMap).length} features`,h,p,g,d,m;const v={c:function(){t=L("div"),n=L("div"),r=L("span"),r.textContent="Features",i=W(),s=L("div"),a=L("span"),o=W(),u=L("span"),l=W(),c=L("div"),h=ce(f),p=W(),g=L("div"),w(r,"class","s-H0d2FahnGNOH"),x(r,te,677,10,17103),w(a,"class","title-icon refresh-button s-H0d2FahnGNOH"),w(a,"title","Reset the filter"),x(a,te,679,12,17173),w(u,"class","title-icon detail-button s-H0d2FahnGNOH"),w(u,"title","Show details"),w(u,"data-detail","false"),x(u,te,687,12,17424),w(s,"class","title-icons s-H0d2FahnGNOH"),x(s,te,678,10,17135),w(n,"class","row-title s-H0d2FahnGNOH"),x(n,te,676,8,17069),w(c,"class","level-summary s-H0d2FahnGNOH"),x(c,te,697,8,17701),w(g,"class","level-content s-H0d2FahnGNOH"),x(g,te,705,8,18041),w(t,"class","row level-row level-row-all s-H0d2FahnGNOH"),w(t,"id","level-row-0"),ge(t,"show-detail",e[5].has(0)),x(t,te,671,6,16927)},m:function(k,H){ae(k,t,H),y(t,n),y(n,r),y(n,i),y(n,s),y(s,a),a.innerHTML=kr,y(s,o),y(s,u),u.innerHTML=Xl,y(t,l),y(t,c),y(c,h),y(t,p),y(t,g),d||(m=[he(a,"click",e[18],!1,!1,!1),he(u,"click",e[19],!1,!1,!1)],d=!0)},p:function(k,H){var I,M;H&17&&f!==(f=k[4].curAllFeatures.size===Object.keys((I=k[0])==null?void 0:I.featureMap).length?"Include all features":`Include ${k[4].curAllFeatures.size} out of ${Object.keys((M=k[0])==null?void 0:M.featureMap).length} features`)&&Ee(h,f),H&32&&ge(t,"show-detail",k[5].has(0))},d:function(k){k&&re(t),d=!1,Re(m)}};return ee("SvelteRegisterBlock",{block:v,id:Zo.name,type:"if",source:"(671:4) {#if data}",ctx:e}),v}function jo(e){var M,V,E,F;let t,n,r,i=`Depth ${e[25]}`,s,a,o,u,l,c,f,h,p=((M=e[4].curDepthFeatures.get(e[25]))==null?void 0:M.size)===Object.keys((V=e[0])==null?void 0:V.featureMap).length?"Include all features":`Include ${(E=e[4].curDepthFeatures.get(e[25]))==null?void 0:E.size} out of ${Object.keys((F=e[0])==null?void 0:F.featureMap).length} features`,g,d,m,v,S,b,_;function k(...R){return e[20](e[25],...R)}function H(...R){return e[21](e[25],...R)}const I={c:function(){t=L("div"),n=L("div"),r=L("span"),s=ce(i),a=W(),o=L("div"),u=L("span"),l=W(),c=L("span"),f=W(),h=L("div"),g=ce(p),d=W(),m=L("div"),v=W(),w(r,"class","s-H0d2FahnGNOH"),x(r,te,716,10,18343),w(u,"class","title-icon refresh-button s-H0d2FahnGNOH"),w(u,"title","Reset the filter"),x(u,te,718,12,18423),w(c,"class","title-icon detail-button s-H0d2FahnGNOH"),w(c,"title","Show details"),w(c,"data-detail","false"),x(c,te,726,12,18675),w(o,"class","title-icons s-H0d2FahnGNOH"),x(o,te,717,10,18385),w(n,"class","row-title s-H0d2FahnGNOH"),x(n,te,715,8,18309),w(h,"class","level-summary s-H0d2FahnGNOH"),x(h,te,736,8,18956),w(m,"class","level-content s-H0d2FahnGNOH"),x(m,te,744,8,19324),w(t,"class","row level-row s-H0d2FahnGNOH"),w(t,"id",S=`level-row-${e[25]}`),ge(t,"show-detail",e[5].has(e[25])),x(t,te,710,6,18168)},m:function(A,C){ae(A,t,C),y(t,n),y(n,r),y(r,s),y(n,a),y(n,o),y(o,u),u.innerHTML=kr,y(o,l),y(o,c),c.innerHTML=Xl,y(t,f),y(t,h),y(h,g),y(t,d),y(t,m),y(t,v),b||(_=[he(u,"click",k,!1,!1,!1),he(c,"click",H,!1,!1,!1)],b=!0)},p:function(A,C){var T,D,P,G;e=A,C&16&&i!==(i=`Depth ${e[25]}`)&&Ee(s,i),C&17&&p!==(p=((T=e[4].curDepthFeatures.get(e[25]))==null?void 0:T.size)===Object.keys((D=e[0])==null?void 0:D.featureMap).length?"Include all features":`Include ${(P=e[4].curDepthFeatures.get(e[25]))==null?void 0:P.size} out of ${Object.keys((G=e[0])==null?void 0:G.featureMap).length} features`)&&Ee(g,p),C&16&&S!==(S=`level-row-${e[25]}`)&&w(t,"id",S),C&48&&ge(t,"show-detail",e[5].has(e[25]))},d:function(A){A&&re(t),b=!1,Re(_)}};return ee("SvelteRegisterBlock",{block:I,id:jo.name,type:"each",source:"(710:4) {#each [...searchStoreValue.curDepthFeatures.keys()] as depth}",ctx:e}),I}function Xo(e){var kt,Ot,vn,qr;let t,n,r,i,s,a,o,u,l,c,f,h,p,g,d,m,v,S,b,_,k,H,I,M,V,E,F=e[7]((kt=e[3])==null?void 0:kt.curAccuracyLow)+"",R,A,C,T,D,P,G,Y=e[7]((Ot=e[3])==null?void 0:Ot.curAccuracyHigh)+"",U,X,J,me,K,Q,B,ie,fe,j,$,oe,O,we,de,xe,Le,Z,ue,He,ke,nt,Pe=e[8]((vn=e[3])==null?void 0:vn.curMinSampleLow)+"",Kt,xt,Ue,$t,en,In,dn,gt=e[8]((qr=e[3])==null?void 0:qr.curMinSampleHigh)+"",sr,pn,gn,En,mn,tn,Wt,Lt,Ur,Dt,nn,Zr,mt,zn,Wn,rn,On,yn,jr,Gn,Nt,wn,Ve=e[0]&&Zo(e),Qe=[...e[4].curDepthFeatures.keys()];De(Qe);let Oe=[];for(let Ge=0;Ge<Qe.length;Ge+=1)Oe[Ge]=jo(xc(e,Qe,Ge));const Xr={c:function(){t=L("div"),n=L("div"),r=L("div"),i=L("div"),i.textContent="Search Trees",s=W(),a=L("div"),o=L("div"),u=W(),l=L("div"),c=L("div"),f=L("div"),h=L("span"),h.textContent="Accuracy",p=W(),g=L("div"),d=L("span"),m=W(),v=L("div"),S=L("div"),b=L("div"),_=L("div"),k=W(),H=L("div"),I=new Jn(!1),M=W(),V=L("div"),E=L("span"),R=ce(F),A=W(),C=L("div"),T=new Jn(!1),D=W(),P=L("div"),G=L("span"),U=ce(Y),X=W(),J=L("div"),me=Dn("svg"),K=W(),Q=L("div"),B=L("div"),ie=L("span"),ie.textContent="Minimum Leaf Sample",fe=W(),j=L("div"),$=L("span"),oe=W(),O=L("div"),we=L("div"),de=L("div"),xe=L("div"),Le=W(),Z=L("div"),ue=new Jn(!1),He=W(),ke=L("div"),nt=L("span"),Kt=ce(Pe),xt=W(),Ue=L("div"),$t=new Jn(!1),en=W(),In=L("div"),dn=L("span"),sr=ce(gt),pn=W(),gn=L("div"),En=Dn("svg"),mn=W(),tn=L("div"),Wt=L("div"),Lt=L("span"),Lt.textContent="Height",Ur=W(),Dt=L("div"),nn=L("span"),Zr=W(),mt=L("div"),zn=L("div"),Wn=Dn("svg"),rn=W(),On=L("div"),yn=W(),Ve&&Ve.c(),jr=W();for(let Se=0;Se<Oe.length;Se+=1)Oe[Se].c();w(i,"class","title s-H0d2FahnGNOH"),x(i,te,523,6,12642),w(o,"class","svg-icon close-icon s-H0d2FahnGNOH"),x(o,te,525,8,12714),w(a,"class","icons s-H0d2FahnGNOH"),x(a,te,524,6,12686),w(r,"class","header-title s-H0d2FahnGNOH"),x(r,te,522,4,12609),w(n,"class","header s-H0d2FahnGNOH"),x(n,te,521,2,12584),w(h,"class","s-H0d2FahnGNOH"),x(h,te,535,8,12950),w(d,"class","title-icon refresh-button s-H0d2FahnGNOH"),w(d,"title","Reset the filter"),x(d,te,537,10,13016),w(g,"class","title-icons s-H0d2FahnGNOH"),x(g,te,536,8,12980),w(f,"class","row-title s-H0d2FahnGNOH"),x(f,te,534,6,12918),w(_,"class","range-track s-H0d2FahnGNOH"),x(_,te,555,12,13507),I.a=M,w(E,"class","thumb-label-span s-H0d2FahnGNOH"),x(E,te,564,16,13831),w(V,"class","thumb-label thumb-label-left s-H0d2FahnGNOH"),x(V,te,563,14,13772),w(H,"id","slider-left-thumb"),w(H,"tabindex","-1"),wr(H,"left","0px"),w(H,"class","svg-icon icon-range-thumb-left thumb s-H0d2FahnGNOH"),x(H,te,556,12,13547),T.a=D,w(G,"class","thumb-label-span s-H0d2FahnGNOH"),x(G,te,577,16,14286),w(P,"class","thumb-label thumb-label-right s-H0d2FahnGNOH"),x(P,te,576,14,14226),w(C,"id","slider-right-thumb"),w(C,"tabindex","-1"),wr(C,"left","0px"),w(C,"class","svg-icon icon-range-thumb-right thumb s-H0d2FahnGNOH"),x(C,te,569,12,13998),w(b,"class","track s-H0d2FahnGNOH"),x(b,te,554,10,13475),w(S,"class","feature-slider s-H0d2FahnGNOH"),x(S,te,547,8,13312),w(me,"class","svg-accuracy s-H0d2FahnGNOH"),x(me,te,586,10,14520),w(J,"class","feature-hist s-H0d2FahnGNOH"),x(J,te,585,8,14483),w(v,"class","accuracy-content s-H0d2FahnGNOH"),x(v,te,546,6,13273),w(c,"class","row accuracy-row s-H0d2FahnGNOH"),x(c,te,533,4,12881),w(ie,"class","s-H0d2FahnGNOH"),x(ie,te,593,8,14664),w($,"class","title-icon refresh-button s-H0d2FahnGNOH"),w($,"title","Reset the filter"),x($,te,595,10,14741),w(j,"class","title-icons s-H0d2FahnGNOH"),x(j,te,594,8,14705),w(B,"class","row-title s-H0d2FahnGNOH"),x(B,te,592,6,14632),w(xe,"class","range-track s-H0d2FahnGNOH"),x(xe,te,613,12,15235),ue.a=He,w(nt,"class","thumb-label-span s-H0d2FahnGNOH"),x(nt,te,622,16,15559),w(ke,"class","thumb-label thumb-label-left s-H0d2FahnGNOH"),x(ke,te,621,14,15500),w(Z,"id","slider-left-thumb"),w(Z,"tabindex","-1"),wr(Z,"left","0px"),w(Z,"class","svg-icon icon-range-thumb-left thumb s-H0d2FahnGNOH"),x(Z,te,614,12,15275),$t.a=en,w(dn,"class","thumb-label-span s-H0d2FahnGNOH"),x(dn,te,635,16,16021),w(In,"class","thumb-label thumb-label-right s-H0d2FahnGNOH"),x(In,te,634,14,15961),w(Ue,"id","slider-right-thumb"),w(Ue,"tabindex","-1"),wr(Ue,"left","0px"),w(Ue,"class","svg-icon icon-range-thumb-right thumb s-H0d2FahnGNOH"),x(Ue,te,627,12,15733),w(de,"class","track s-H0d2FahnGNOH"),x(de,te,612,10,15203),w(we,"class","feature-slider s-H0d2FahnGNOH"),x(we,te,605,8,15040),w(En,"class","svg-min-sample s-H0d2FahnGNOH"),x(En,te,644,10,16262),w(gn,"class","feature-hist s-H0d2FahnGNOH"),x(gn,te,643,8,16225),w(O,"class","min-sample-content s-H0d2FahnGNOH"),x(O,te,604,6,14999),w(Q,"class","row min-sample-row s-H0d2FahnGNOH"),x(Q,te,591,4,14593),w(Lt,"class","s-H0d2FahnGNOH"),x(Lt,te,651,8,16404),w(nn,"class","title-icon refresh-button s-H0d2FahnGNOH"),w(nn,"title","Reset the filter"),x(nn,te,653,10,16468),w(Dt,"class","title-icons s-H0d2FahnGNOH"),x(Dt,te,652,8,16432),w(Wt,"class","row-title s-H0d2FahnGNOH"),x(Wt,te,650,6,16372),w(Wn,"class","svg-height s-H0d2FahnGNOH"),x(Wn,te,664,10,16797),w(zn,"class","feature-hist s-H0d2FahnGNOH"),x(zn,te,663,8,16760),w(On,"class","height-checkboxes s-H0d2FahnGNOH"),x(On,te,666,8,16847),w(mt,"class","height-content s-H0d2FahnGNOH"),x(mt,te,662,6,16723),w(tn,"class","row height-row s-H0d2FahnGNOH"),x(tn,te,649,4,16337),w(l,"class","search-list s-H0d2FahnGNOH"),x(l,te,532,2,12851),w(t,"class","search-panel s-H0d2FahnGNOH"),w(t,"style",Gn=`max-height: ${e[1]}px;`),ge(t,"shown",e[4].shown),x(t,te,515,0,12453)},l:function(Se){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(Se,rt){ae(Se,t,rt),y(t,n),y(n,r),y(r,i),y(r,s),y(r,a),y(a,o),o.innerHTML=Aa,y(t,u),y(t,l),y(l,c),y(c,f),y(f,h),y(f,p),y(f,g),y(g,d),d.innerHTML=kr,y(c,m),y(c,v),y(v,S),y(S,b),y(b,_),y(b,k),y(b,H),I.m(Bo,H),y(H,M),y(H,V),y(V,E),y(E,R),y(b,A),y(b,C),T.m(Uo,C),y(C,D),y(C,P),y(P,G),y(G,U),y(v,X),y(v,J),y(J,me),y(l,K),y(l,Q),y(Q,B),y(B,ie),y(B,fe),y(B,j),y(j,$),$.innerHTML=kr,y(Q,oe),y(Q,O),y(O,we),y(we,de),y(de,xe),y(de,Le),y(de,Z),ue.m(Bo,Z),y(Z,He),y(Z,ke),y(ke,nt),y(nt,Kt),y(de,xt),y(de,Ue),$t.m(Uo,Ue),y(Ue,en),y(Ue,In),y(In,dn),y(dn,sr),y(O,pn),y(O,gn),y(gn,En),y(l,mn),y(l,tn),y(tn,Wt),y(Wt,Lt),y(Wt,Ur),y(Wt,Dt),y(Dt,nn),nn.innerHTML=kr,y(tn,Zr),y(tn,mt),y(mt,zn),y(zn,Wn),y(mt,rn),y(mt,On),y(l,yn),Ve&&Ve.m(l,null),y(l,jr);for(let yt=0;yt<Oe.length;yt+=1)Oe[yt].m(l,null);e[22](t),Nt||(wn=[he(o,"click",e[9],!1,!1,!1),he(d,"click",e[15],!1,!1,!1),he(S,"click",dd,!1,!1,!1),he($,"click",e[16],!1,!1,!1),he(we,"click",pd,!1,!1,!1),he(nn,"click",e[17],!1,!1,!1)],Nt=!0)},p:function(Se,[rt]){var yt,Jr,Tt,bn;if(rt&8&&F!==(F=Se[7]((yt=Se[3])==null?void 0:yt.curAccuracyLow)+"")&&Ee(R,F),rt&8&&Y!==(Y=Se[7]((Jr=Se[3])==null?void 0:Jr.curAccuracyHigh)+"")&&Ee(U,Y),rt&8&&Pe!==(Pe=Se[8]((Tt=Se[3])==null?void 0:Tt.curMinSampleLow)+"")&&Ee(Kt,Pe),rt&8&&gt!==(gt=Se[8]((bn=Se[3])==null?void 0:bn.curMinSampleHigh)+"")&&Ee(sr,gt),Se[0]?Ve?Ve.p(Se,rt):(Ve=Zo(Se),Ve.c(),Ve.m(l,jr)):Ve&&(Ve.d(1),Ve=null),rt&3185){Qe=[...Se[4].curDepthFeatures.keys()],De(Qe);let it;for(it=0;it<Qe.length;it+=1){const Qr=xc(Se,Qe,it);Oe[it]?Oe[it].p(Qr,rt):(Oe[it]=jo(Qr),Oe[it].c(),Oe[it].m(l,null))}for(;it<Oe.length;it+=1)Oe[it].d(1);Oe.length=Qe.length}rt&2&&Gn!==(Gn=`max-height: ${Se[1]}px;`)&&w(t,"style",Gn),rt&16&&ge(t,"shown",Se[4].shown)},i:pe,o:pe,d:function(Se){Se&&re(t),Ve&&Ve.d(),ln(Oe,Se),e[22](null),Nt=!1,Re(wn)}};return ee("SvelteRegisterBlock",{block:Xr,id:Xo.name,type:"component",source:"",ctx:e}),Xr}const dd=e=>{e.preventDefault(),e.stopPropagation()},pd=e=>{e.preventDefault(),e.stopPropagation()};function gd(e,t,n){let{$$slots:r={},$$scope:i}=t;St("SearchPanel",r,[]);let{data:s=null}=t,{searchStore:a=null}=t,{width:o=650}=t,u=null,l=!1,c=!1,f=null,h=Dr(),p=new Set([]);var g;(function(T){T[T.Accuracy=0]="Accuracy",T[T.Height=1]="Height",T[T.MinSample=2]="MinSample",T[T.Depth=3]="Depth",T[T.AllFeatures=4]="AllFeatures"})(g||(g={}));const d=z.format(",.3f"),m=z.format("d");Ne(()=>{n(13,l=!0)});const v=()=>{n(3,f)},S=T=>{T.stopPropagation(),T.preventDefault(),n(4,h.shown=!1,h),a==null||a.set(h)},b=(T,D)=>{T.stopPropagation(),T.preventDefault();const P=T.currentTarget;P.dataset.detail==="false"?(P.dataset.detail="true",p.add(D)):(P.dataset.detail="false",p.delete(D)),n(5,p)},_=(T,D,P=null)=>{if(f!==null)switch(T.preventDefault(),D){case g.Accuracy:{f.refreshAccuracy();break}case g.MinSample:{f.refreshMinSample();break}case g.Depth:{P!==null&&f.refreshDepth(P);break}case g.AllFeatures:{f.refreshAllFeatures();break}case g.Height:{f.refreshHeight();break}default:console.warn("Unexpected case for refreshClicked()")}},k=()=>{n(14,c=!0),a&&u&&s&&(a.subscribe(T=>{n(4,h=T)}),n(3,f=new _c(u,s,v,a)))},H=["data","searchStore","width"];hd.keys(t).forEach(T=>{!~H.indexOf(T)&&T.slice(0,2)!=="$$"&&T!=="slot"&&fd.warn(`<SearchPanel> was created with unknown prop '${T}'`)});const I=T=>_(T,g.Accuracy),M=T=>_(T,g.MinSample),V=T=>_(T,g.Height),E=T=>_(T,g.AllFeatures),F=T=>b(T,0),R=(T,D)=>_(D,g.Depth,T),A=(T,D)=>b(D,T);function C(T){Je[T?"unshift":"push"](()=>{u=T,n(2,u)})}return e.$$set=T=>{"data"in T&&n(0,s=T.data),"searchStore"in T&&n(12,a=T.searchStore),"width"in T&&n(1,o=T.width)},e.$capture_state=()=>({d3:z,getSearchStoreDefaultValue:Dr,onMount:Ne,SearchPanel:_c,closeIcon:Aa,thumbLeftIcon:Bo,thumbRightIcon:Uo,downIcon:Xl,refreshIcon:kr,data:s,searchStore:a,width:o,component:u,mounted:l,initialized:c,searchPanel:f,searchStoreValue:h,depthWithDetails:p,RefreshLocation:g,formatter:d,sampleFormatter:m,searchUpdated:v,closeClicked:S,detailClicked:b,refreshClicked:_,initView:k}),e.$inject_state=T=>{"data"in T&&n(0,s=T.data),"searchStore"in T&&n(12,a=T.searchStore),"width"in T&&n(1,o=T.width),"component"in T&&n(2,u=T.component),"mounted"in T&&n(13,l=T.mounted),"initialized"in T&&n(14,c=T.initialized),"searchPanel"in T&&n(3,f=T.searchPanel),"searchStoreValue"in T&&n(4,h=T.searchStoreValue),"depthWithDetails"in T&&n(5,p=T.depthWithDetails),"RefreshLocation"in T&&n(6,g=T.RefreshLocation)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{e.$$.dirty&28677&&s&&a&&l&&!c&&u&&k()},[s,o,u,f,h,p,g,d,m,S,b,_,a,l,c,I,M,V,E,F,R,A,C]}class h0 extends _t{constructor(t){super(t),Ct(this,t,gd,Xo,tt,{data:0,searchStore:12,width:1}),ee("SvelteRegisterComponent",{component:this,tagName:"SearchPanel_1",options:t,id:Xo.name})}get data(){throw new Error("<SearchPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(t){throw new Error("<SearchPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get searchStore(){throw new Error("<SearchPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set searchStore(t){throw new Error("<SearchPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get width(){throw new Error("<SearchPanel>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set width(t){throw new Error("<SearchPanel>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}class Lc{constructor(t,n,r,i){N(this,"component");N(this,"inputElem");N(this,"dropzoneUpdated");N(this,"initDataFromDropzone");N(this,"isDragging",!1);N(this,"dragElement",null);N(this,"errorMessage"," ");N(this,"clickHandler",()=>{var t;(t=this.inputElem)==null||t.click()});N(this,"dragEnterHandler",t=>{t.preventDefault(),this.isDragging=!0,this.dragElement=t.target,this.dropzoneUpdated()});N(this,"dragOverHandler",t=>{t.preventDefault()});N(this,"dragLeaveHandler",t=>{t.preventDefault(),this.dragElement===t.target&&(this.isDragging=!1,this.dropzoneUpdated())});N(this,"dropHandler",async t=>{var i;t.preventDefault();let n=null,r=null;(i=t.dataTransfer)!=null&&i.items?t.dataTransfer.items[0].kind==="file"&&(r=t.dataTransfer.items[0].getAsFile(),n=await this.validateFile(r)):(r=t.dataTransfer.files[0],n=await this.validateFile(r)),this.isDragging=!1,this.dropzoneUpdated(),n&&this.initDataFromDropzone(n)});N(this,"inputChanged",async t=>{t.preventDefault();let n=null;const r=t.target.files;if(r!==null){const i=r[0];n=await this.validateFile(i),console.log(n)}!n||this.initDataFromDropzone(n)});N(this,"inputClicked",()=>{});N(this,"readJSON",t=>new Promise((n,r)=>{const i=new FileReader;i.onload=()=>{i.result?n(JSON.parse(i.result)):n(null)},i.onerror=r,i.readAsText(t)}));N(this,"validateFile",async t=>t.type!=="application/json"?(this.errorMessage="It is not a JSON file",this.dropzoneUpdated(),null):await this.readJSON(t));this.component=t,this.inputElem=n,this.dropzoneUpdated=r,this.initDataFromDropzone=i}}const Va=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 346 346" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(1,0,0,1,-5570,-6461)">
        <g transform="matrix(1.49616,0,0,1,-2856.48,922)">
            <g id="timbertrek-logo">
                <g transform="matrix(0.660497,0,0,0.988207,1497.7,1465.12)">
                    <circle cx="6434.56" cy="4297.56" r="174.558" style="fill:rgb(66,66,66);"/>
                    <path d="M6434.56,4123C6530.9,4123 6609.12,4201.22 6609.12,4297.56C6609.12,4393.9 6530.9,4472.12 6434.56,4472.12C6338.22,4472.12 6260,4393.9 6260,4297.56C6260,4201.22 6338.22,4123 6434.56,4123ZM6434.56,4131.31C6526.31,4131.31 6600.81,4205.81 6600.81,4297.56C6600.81,4389.31 6526.31,4463.81 6434.56,4463.81C6342.81,4463.81 6268.31,4389.31 6268.31,4297.56C6268.31,4205.81 6342.81,4131.31 6434.56,4131.31Z" style="fill:rgb(123,123,123);"/>
                </g>
                <g transform="matrix(0.628201,0,0,0.939888,2139.91,-523.818)">
                    <path d="M5691.27,6656.44L5660.64,6656.44L5742.98,6526.8L5823.36,6656.44L5792.72,6656.44L5820.76,6721.2L5742.66,6679.85L5663.24,6721.12L5691.27,6656.44ZM5742.89,6571.51L5742.89,6652.51L5790.28,6676.11L5742.89,6571.51Z" style="fill:white;"/>
                </g>
                <g>
                    <g transform="matrix(-0.445586,6.73401e-17,-1.13133e-16,-1.66667,8499.43,14925.7)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:white;"/>
                    </g>
                    <g transform="matrix(1.15018e-15,-0.666667,1.11396,4.44089e-15,-410.51,9829)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:white;"/>
                    </g>
                    <g transform="matrix(0.445586,3.52496e-15,-6.0106e-15,1.66667,2996,-3501.67)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:white;"/>
                    </g>
                    <g transform="matrix(-3.52474e-15,0.666667,-1.11396,-1.33227e-14,11905.9,1595)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:white;"/>
                    </g>
                </g>
                <g transform="matrix(0.668379,0,0,1,1554.3,-396)">
                    <g transform="matrix(-0.61592,-0.255122,0.637806,-1.5398,6551.69,16195.8)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(128,128,128);"/>
                    </g>
                    <g transform="matrix(-0.471405,-0.471405,1.17851,-1.17851,2670.11,15534.2)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(128,128,128);"/>
                    </g>
                    <g transform="matrix(-0.255122,-0.61592,1.5398,-0.637806,-662.81,13437.5)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(128,128,128);"/>
                    </g>
                    <g transform="matrix(0.255122,-0.61592,1.5398,0.637806,-3813.83,6385.69)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(128,128,128);"/>
                    </g>
                    <g transform="matrix(0.471405,-0.471405,1.17851,1.17851,-3152.2,2504.11)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(128,128,128);"/>
                    </g>
                    <g transform="matrix(0.61592,-0.255122,0.637806,1.5398,-1055.53,-828.81)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(128,128,128);"/>
                    </g>
                    <g transform="matrix(0.61592,0.255122,-0.637806,1.5398,5996.31,-3979.83)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(128,128,128);"/>
                    </g>
                    <g transform="matrix(0.471405,0.471405,-1.17851,1.17851,9877.89,-3318.2)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(128,128,128);"/>
                    </g>
                    <g transform="matrix(0.255122,0.61592,-1.5398,0.637806,13210.8,-1221.53)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(128,128,128);"/>
                    </g>
                    <g transform="matrix(-0.255122,0.61592,-1.5398,-0.637806,16361.8,5830.31)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(128,128,128);"/>
                    </g>
                    <g transform="matrix(-0.471405,0.471405,-1.17851,-1.17851,15700.2,9711.89)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(128,128,128);"/>
                    </g>
                    <g transform="matrix(-0.61592,0.255122,-0.637806,-1.5398,13603.5,13044.8)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(128,128,128);"/>
                    </g>
                </g>
                <g transform="matrix(0.660497,0,0,0.988207,1497.7,1465.12)">
                    <path d="M6434.56,4123C6530.9,4123 6609.12,4201.22 6609.12,4297.56C6609.12,4393.9 6530.9,4472.12 6434.56,4472.12C6338.22,4472.12 6260,4393.9 6260,4297.56C6260,4201.22 6338.22,4123 6434.56,4123ZM6434.56,4135.65C6523.92,4135.65 6596.47,4208.2 6596.47,4297.56C6596.47,4386.92 6523.92,4459.47 6434.56,4459.47C6345.2,4459.47 6272.65,4386.92 6272.65,4297.56C6272.65,4208.2 6345.2,4135.65 6434.56,4135.65Z" style="fill:rgb(128,128,128);"/>
                </g>
            </g>
        </g>
    </g>
</svg>
`;const cn="src/components/dropzone/Dropzone.svelte";function f0(e){let t;const n={c:function(){t=L("div"),t.textContent="Loading Rashomon set...",w(t,"class","drop-message s-5AsLhRYgdrVb"),x(t,cn,146,6,3225)},m:function(i,s){ae(i,t,s)},d:function(i){i&&re(t)}};return ee("SvelteRegisterBlock",{block:n,id:f0.name,type:"else",source:"(146:4) {:else}",ctx:e}),n}function d0(e){let t,n,r,i,s,a;const o={c:function(){t=L("div"),t.textContent="Drop a Rashomon trie file (.json) here to start",n=W(),r=L("div"),i=L("a"),i.textContent="How to generate this file?",w(t,"class","drop-message s-5AsLhRYgdrVb"),x(t,cn,130,6,2840),w(i,"href","https://github.com/poloclub/timbertrek#web-demo"),w(i,"target","_blank"),w(i,"class","s-5AsLhRYgdrVb"),x(i,cn,140,8,3060),w(r,"class","help-message s-5AsLhRYgdrVb"),x(r,cn,134,6,2943)},m:function(l,c){ae(l,t,c),ae(l,n,c),ae(l,r,c),y(r,i),s||(a=he(r,"click",md,!1,!1,!1),s=!0)},d:function(l){l&&re(t),l&&re(n),l&&re(r),s=!1,a()}};return ee("SvelteRegisterBlock",{block:o,id:d0.name,type:"if",source:"(130:4) {#if curDataset === 'my own set'}",ctx:e}),o}function qo(e){var S;let t,n,r,i,s,a,o=((S=e[4])==null?void 0:S.errorMessage)+"",u,l,c,f,h,p;function g(b,_){return b[1]==="my own set"?d0:f0}let d=g(e),m=d(e);const v={c:function(){var _;t=L("div"),n=L("div"),r=L("div"),i=W(),m.c(),s=W(),a=L("span"),u=ce(o),l=W(),c=L("input"),w(r,"class","svg-icon s-5AsLhRYgdrVb"),x(r,cn,125,4,2738),w(a,"class","error-message s-5AsLhRYgdrVb"),x(a,cn,149,4,3296),w(c,"accept","json"),w(c,"type","file"),w(c,"autocomplete","off"),wr(c,"display","none"),w(c,"class","s-5AsLhRYgdrVb"),x(c,cn,153,4,3373),w(n,"class","dropzone s-5AsLhRYgdrVb"),ge(n,"drag-over",(_=e[4])==null?void 0:_.isDragging),x(n,cn,116,2,2412),w(t,"class","dropzone-tab s-5AsLhRYgdrVb"),w(t,"style",f=`height: ${e[0]+Te.layout.toolbarHeight}px;`),x(t,cn,111,0,2294)},l:function(_){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(_,k){ae(_,t,k),y(t,n),y(n,r),r.innerHTML=Va,y(n,i),m.m(n,null),y(n,s),y(n,a),y(a,u),y(n,l),y(n,c),e[10](c),e[16](t),h||(p=[he(c,"change",e[8],!1,!1,!1),he(c,"click",e[9],!1,!1,!1),he(n,"click",e[11],!1,!1,!1),he(n,"dragenter",e[12],!1,!1,!1),he(n,"dragover",e[13],!1,!1,!1),he(n,"dragleave",e[14],!1,!1,!1),he(n,"drop",e[15],!1,!1,!1)],h=!0)},p:function(_,[k]){var H,I;d!==(d=g(_))&&(m.d(1),m=d(_),m&&(m.c(),m.m(n,s))),k&16&&o!==(o=((H=_[4])==null?void 0:H.errorMessage)+"")&&Ee(u,o),k&16&&ge(n,"drag-over",(I=_[4])==null?void 0:I.isDragging),k&1&&f!==(f=`height: ${_[0]+Te.layout.toolbarHeight}px;`)&&w(t,"style",f)},i:pe,o:pe,d:function(_){_&&re(t),m.d(),e[10](null),e[16](null),h=!1,Re(p)}};return ee("SvelteRegisterBlock",{block:v,id:qo.name,type:"component",source:"",ctx:e}),v}const md=e=>{e.stopPropagation()};function yd(e,t,n){let{$$slots:r={},$$scope:i}=t;St("Dropzone",r,[]);let{initDataFromDropzone:s}=t,{width:a=650}=t,{curDataset:o="my own set"}=t,u=null,l=null,c=null,f=!1,h=!1;Ne(()=>{n(6,f=!0)});const p=()=>{n(4,c)},g=()=>{f&&u&&l&&(n(4,c=new Lc(u,l,p,s)),n(7,h=!0))};e.$$.on_mount.push(function(){s===void 0&&!("initDataFromDropzone"in t||e.$$.bound[e.$$.props.initDataFromDropzone])&&console.warn("<Dropzone> was created without expected prop 'initDataFromDropzone'")});const d=["initDataFromDropzone","width","curDataset"];Object.keys(t).forEach(V=>{!~d.indexOf(V)&&V.slice(0,2)!=="$$"&&V!=="slot"&&console.warn(`<Dropzone> was created with unknown prop '${V}'`)});const m=V=>c==null?void 0:c.inputChanged(V),v=V=>c==null?void 0:c.inputClicked();function S(V){Je[V?"unshift":"push"](()=>{l=V,n(3,l)})}const b=V=>c==null?void 0:c.clickHandler(),_=V=>c==null?void 0:c.dragEnterHandler(V),k=V=>c==null?void 0:c.dragOverHandler(V),H=V=>c==null?void 0:c.dragLeaveHandler(V),I=V=>c==null?void 0:c.dropHandler(V);function M(V){Je[V?"unshift":"push"](()=>{u=V,n(2,u)})}return e.$$set=V=>{"initDataFromDropzone"in V&&n(5,s=V.initDataFromDropzone),"width"in V&&n(0,a=V.width),"curDataset"in V&&n(1,o=V.curDataset)},e.$capture_state=()=>({onMount:Ne,Dropzone:Lc,config:Te,logoIcon:Va,initDataFromDropzone:s,width:a,curDataset:o,component:u,inputElem:l,dropzone:c,mounted:f,initialized:h,dropzoneUpdated:p,initView:g}),e.$inject_state=V=>{"initDataFromDropzone"in V&&n(5,s=V.initDataFromDropzone),"width"in V&&n(0,a=V.width),"curDataset"in V&&n(1,o=V.curDataset),"component"in V&&n(2,u=V.component),"inputElem"in V&&n(3,l=V.inputElem),"dropzone"in V&&n(4,c=V.dropzone),"mounted"in V&&n(6,f=V.mounted),"initialized"in V&&n(7,h=V.initialized)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{e.$$.dirty&236&&f&&u&&l&&s&&!h&&g()},[a,o,u,l,c,s,f,h,m,v,S,b,_,k,H,I,M]}class p0 extends _t{constructor(t){super(t),Ct(this,t,yd,qo,tt,{initDataFromDropzone:5,width:0,curDataset:1}),ee("SvelteRegisterComponent",{component:this,tagName:"Dropzone_1",options:t,id:qo.name})}get initDataFromDropzone(){throw new Error("<Dropzone>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set initDataFromDropzone(t){throw new Error("<Dropzone>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get width(){throw new Error("<Dropzone>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set width(t){throw new Error("<Dropzone>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get curDataset(){throw new Error("<Dropzone>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set curDataset(t){throw new Error("<Dropzone>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const g0='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>',m0=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 66 82" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(1,0,0,1,-3896,-24)">
        <g transform="matrix(1,0,0,1,-0.831706,0)">
            <g id="icon-file" transform="matrix(1,0,0,0.996062,3887.07,100.115)">
                <path d="M27.49,-23.779C26.644,-23.779 25.944,-24.048 25.391,-24.585C24.837,-25.122 24.561,-25.781 24.561,-26.563C24.561,-27.376 24.837,-28.052 25.391,-28.589C25.944,-29.126 26.644,-29.395 27.49,-29.395L57.129,-29.395C57.975,-29.395 58.675,-29.126 59.228,-28.589C59.782,-28.052 60.059,-27.376 60.059,-26.563C60.059,-25.781 59.782,-25.122 59.228,-24.585C58.675,-24.048 57.975,-23.779 57.129,-23.779L27.49,-23.779ZM27.49,-9.082C26.644,-9.082 25.944,-9.351 25.391,-9.888C24.837,-10.425 24.561,-11.1 24.561,-11.914C24.561,-12.695 24.837,-13.363 25.391,-13.916C25.944,-14.469 26.644,-14.746 27.49,-14.746L57.129,-14.746C57.975,-14.746 58.675,-14.469 59.228,-13.916C59.782,-13.363 60.059,-12.695 60.059,-11.914C60.059,-11.1 59.782,-10.425 59.228,-9.888C58.675,-9.351 57.975,-9.082 57.129,-9.082L27.49,-9.082ZM22.022,5.908L62.5,5.908C66.602,5.908 69.678,4.867 71.729,2.783C73.779,0.7 74.805,-2.409 74.805,-6.543L74.805,-40.43L46.875,-40.43C41.797,-40.43 39.258,-42.969 39.258,-48.047L39.258,-76.416L22.022,-76.416C17.92,-76.416 14.852,-75.374 12.817,-73.291C10.783,-71.208 9.766,-68.099 9.766,-63.965L9.766,-6.543C9.766,-2.376 10.783,0.741 12.817,2.808C14.852,4.875 17.92,5.908 22.022,5.908ZM46.875,-46.143L74.365,-46.143C74.235,-47.054 73.877,-47.957 73.291,-48.853C72.705,-49.748 71.891,-50.716 70.85,-51.758L50.586,-72.461C49.577,-73.503 48.617,-74.325 47.705,-74.927C46.794,-75.529 45.882,-75.911 44.971,-76.074L44.971,-48.047C44.971,-46.777 45.605,-46.143 46.875,-46.143Z" style="fill-rule:nonzero;"/>
            </g>
        </g>
    </g>
</svg>
`;const{Map:wd,Object:vd}=wl,Be="src/components/timber/Timber.svelte";function ls(e,t,n){const r=e.slice();return r[23]=t[n],r}function y0(e){let t,n,r,i,s,a;n=new d2({props:{favoritesStore:e[9],sunburstStore:e[10],searchStore:e[13],sunburstWidth:e[6]},$$inline:!0}),s=new _2({props:{data:e[4],initDepthGap:e[2],sunburstStore:e[10],treeWindowStore:e[11],pinnedTreeStore:e[12],searchStore:e[13]},$$inline:!0});const o={c:function(){t=L("div"),bt(n.$$.fragment),r=W(),i=L("div"),bt(s.$$.fragment),w(t,"class","toolbar s-DgMWn4VSIQjZ"),x(t,Be,363,8,9587),w(i,"class","sunburst-wrapper s-DgMWn4VSIQjZ"),x(i,Be,372,8,9776)},m:function(l,c){ae(l,t,c),dt(n,t,null),ae(l,r,c),ae(l,i,c),dt(s,i,null),a=!0},p:function(l,c){const f={};c&64&&(f.sunburstWidth=l[6]),n.$set(f);const h={};c&16&&(h.data=l[4]),c&4&&(h.initDepthGap=l[2]),s.$set(h)},i:function(l){a||(_e(n.$$.fragment,l),_e(s.$$.fragment,l),a=!0)},o:function(l){Me(n.$$.fragment,l),Me(s.$$.fragment,l),a=!1},d:function(l){l&&re(t),pt(n),l&&re(r),l&&re(i),pt(s)}};return ee("SvelteRegisterBlock",{block:o,id:y0.name,type:"else",source:"(363:6) {:else}",ctx:e}),o}function w0(e){let t,n;t=new p0({props:{initDataFromDropzone:e[8],width:e[6],curDataset:e[0]},$$inline:!0});const r={c:function(){bt(t.$$.fragment)},m:function(s,a){dt(t,s,a),n=!0},p:function(s,a){const o={};a&64&&(o.width=s[6]),a&1&&(o.curDataset=s[0]),t.$set(o)},i:function(s){n||(_e(t.$$.fragment,s),n=!0)},o:function(s){Me(t.$$.fragment,s),n=!1},d:function(s){pt(t,s)}};return ee("SvelteRegisterBlock",{block:r,id:w0.name,type:"if",source:"(361:6) {#if data === null}",ctx:e}),r}function Jo(e){let t,n,r,i;n=new Y2({props:{pinnedTree:e[23],pinnedTreeStore:e[12],favoritesStore:e[9]},$$inline:!0});const s={c:function(){t=L("div"),bt(n.$$.fragment),w(t,"class","pinned-tree-window-wrapper s-DgMWn4VSIQjZ"),x(t,Be,402,6,10512)},m:function(o,u){ae(o,t,u),dt(n,t,null),i=!0},p:function(o,u){const l={};u&128&&(l.pinnedTree=o[23]),n.$set(l)},i:function(o){i||(_e(n.$$.fragment,o),r&&r.end(1),i=!0)},o:function(o){Me(n.$$.fragment,o),r=yl(t,Ri,{duration:100}),i=!1},d:function(o){o&&re(t),pt(n),o&&r&&r.end()}};return ee("SvelteRegisterBlock",{block:s,id:Jo.name,type:"if",source:"(402:4) {#if pinnedTree.isPinned}",ctx:e}),s}function Qo(e,t){let n,r,i,s=t[23].isPinned&&Jo(t);const a={key:e,first:null,c:function(){n=Ss(),s&&s.c(),r=Ss(),this.first=n},m:function(u,l){ae(u,n,l),s&&s.m(u,l),ae(u,r,l),i=!0},p:function(u,l){t=u,t[23].isPinned?s?(s.p(t,l),l&128&&_e(s,1)):(s=Jo(t),s.c(),_e(s,1),s.m(r.parentNode,r)):s&&(Nn(),Me(s,1,1,()=>{s=null}),Hn())},i:function(u){i||(_e(s),i=!0)},o:function(u){Me(s),i=!1},d:function(u){u&&re(n),s&&s.d(u),u&&re(r)}};return ee("SvelteRegisterBlock",{block:a,id:Qo.name,type:"each",source:"(401:2) {#each pinnedTreeStoreValue.pinnedTrees as pinnedTree (pinnedTree.treeID)}",ctx:t}),a}function Ko(e){let t,n,r,i,s,a,o,u,l,c,f,h,p,g,d,m,v,S,b,_,k,H,I,M,V,E,F,R,A,C=[],T=new wd,D,P;const G=[w0,y0],Y=[];function U(K,Q){return K[4]===null?0:1}S=U(e),b=Y[S]=G[S](e),H=new Q2({props:{favoritesStore:e[9],pinnedTreeStore:e[12],width:e[6]},$$inline:!0}),V=new h0({props:{data:e[4],searchStore:e[13],width:e[6]},$$inline:!0}),R=new M2({props:{data:e[4],featureMap:e[5],treeWindowStore:e[11]},$$inline:!0});let X=e[7].pinnedTrees;De(X);const J=K=>K[23].treeID;As(e,X,ls,J);for(let K=0;K<X.length;K+=1){let Q=ls(e,X,K),B=J(Q);T.set(B,C[K]=Qo(B,Q))}const me={c:function(){t=L("div"),n=L("div"),r=L("div"),i=L("div"),s=L("div"),a=W(),o=L("div"),u=L("div"),u.textContent="TimberTrek",l=W(),c=L("div"),c.textContent="Curating decision trees that align with human knowledge",f=W(),h=L("div"),p=L("a"),g=W(),d=L("a"),m=W(),v=L("div"),b.c(),_=W(),k=L("div"),bt(H.$$.fragment),I=W(),M=L("div"),bt(V.$$.fragment),F=W(),bt(R.$$.fragment),A=W();for(let Q=0;Q<C.length;Q+=1)C[Q].c();D=W(),w(s,"class","svg-icon s-DgMWn4VSIQjZ"),x(s,Be,323,8,8516),w(u,"class","logo-icon s-DgMWn4VSIQjZ"),x(u,Be,327,10,8623),w(c,"class","logo-tag s-DgMWn4VSIQjZ"),w(c,"title","Curating decision trees that align with human knowledge"),ge(c,"no-display",e[6]<400),x(c,Be,328,10,8673),w(o,"class","logo-text s-DgMWn4VSIQjZ"),x(o,Be,326,8,8589),w(i,"class","logo s-DgMWn4VSIQjZ"),x(i,Be,322,6,8489),w(p,"class","svg-icon paper-icon s-DgMWn4VSIQjZ"),w(p,"title","Research paper"),w(p,"target","_blank"),w(p,"href","https://arxiv.org/abs/2209.09227"),x(p,Be,339,8,9e3),w(d,"class","svg-icon s-DgMWn4VSIQjZ"),w(d,"title","Open-source code"),w(d,"target","_blank"),w(d,"href","https://github.com/poloclub/timbertrek"),x(d,Be,348,8,9210),w(h,"class","right-icons s-DgMWn4VSIQjZ"),x(h,Be,338,6,8966),w(r,"class","header s-DgMWn4VSIQjZ"),x(r,Be,321,4,8462),w(v,"class","content s-DgMWn4VSIQjZ"),x(v,Be,359,4,9438),w(k,"class","sidebar s-DgMWn4VSIQjZ"),w(k,"style",e[3]),x(k,Be,385,4,10043),w(M,"class","sidebar s-DgMWn4VSIQjZ"),w(M,"style",e[3]),x(M,Be,393,4,10214),w(n,"class","timbertrek s-DgMWn4VSIQjZ"),w(n,"style",E=`width: ${e[6]}px;`),x(n,Be,320,2,8396),w(t,"class","timbertrek-page s-DgMWn4VSIQjZ"),x(t,Be,319,0,8342)},l:function(Q){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(Q,B){ae(Q,t,B),y(t,n),y(n,r),y(r,i),y(i,s),s.innerHTML=Va,y(i,a),y(i,o),y(o,u),y(o,l),y(o,c),y(r,f),y(r,h),y(h,p),p.innerHTML=m0,y(h,g),y(h,d),d.innerHTML=g0,y(n,m),y(n,v),Y[S].m(v,null),y(n,_),y(n,k),dt(H,k,null),y(n,I),y(n,M),dt(V,M,null),y(t,F),dt(R,t,null),y(t,A);for(let ie=0;ie<C.length;ie+=1)C[ie].m(t,null);y(t,D),e[19](t),P=!0},p:function(Q,[B]){(!P||B&64)&&ge(c,"no-display",Q[6]<400);let ie=S;S=U(Q),S===ie?Y[S].p(Q,B):(Nn(),Me(Y[ie],1,1,()=>{Y[ie]=null}),Hn(),b=Y[S],b?b.p(Q,B):(b=Y[S]=G[S](Q),b.c()),_e(b,1),b.m(v,null));const fe={};B&64&&(fe.width=Q[6]),H.$set(fe),(!P||B&8)&&w(k,"style",Q[3]);const j={};B&16&&(j.data=Q[4]),B&64&&(j.width=Q[6]),V.$set(j),(!P||B&8)&&w(M,"style",Q[3]),(!P||B&64&&E!==(E=`width: ${Q[6]}px;`))&&w(n,"style",E);const $={};B&16&&($.data=Q[4]),B&32&&($.featureMap=Q[5]),R.$set($),B&4736&&(X=Q[7].pinnedTrees,De(X),Nn(),As(Q,X,ls,J),C=Zc(C,B,J,1,Q,X,T,t,Uc,Qo,D,ls),Hn())},i:function(Q){if(!P){_e(b),_e(H.$$.fragment,Q),_e(V.$$.fragment,Q),_e(R.$$.fragment,Q);for(let B=0;B<X.length;B+=1)_e(C[B]);P=!0}},o:function(Q){Me(b),Me(H.$$.fragment,Q),Me(V.$$.fragment,Q),Me(R.$$.fragment,Q);for(let B=0;B<C.length;B+=1)Me(C[B]);P=!1},d:function(Q){Q&&re(t),Y[S].d(),pt(H),pt(V),pt(R);for(let B=0;B<C.length;B+=1)C[B].d();e[19](null)}};return ee("SvelteRegisterBlock",{block:me,id:Ko.name,type:"component",source:"",ctx:e}),me}const bd=!1;function Cd(e,t,n){let{$$slots:r={},$$scope:i}=t;St("Timber",r,[]);let{notebookMode:s=!1}=t,{curDataset:a="compas"}=t,{timbertrekTransitioning:o=!1}=t,u=null,l=!1,c=!1,f=2,h="",p=null,g=null,d=s?500:650;const m=new Map;m.set("compas","compas-rules-mul_0.05-reg_0.01.json"),m.set("fico","fico-rules-mul_0.05-reg_0.01.json"),m.set("car evaluation","car-rules-mul_0.15-reg_0.015.json"),m.set("my own set","");const v=A=>{n(4,p=A),n(5,g=new Map);for(const[C,T]of Object.entries(p.featureMap))g.set(parseInt(C),T)},S=async A=>{if(A!=="my own dataset"&&(A==="car evaluation"?n(2,f=4):n(2,f=2),m.has(A))){n(16,l=!0);const C=m.get(A),T=await z.json(`/timbertrek/data/${C}`);v(T)}},b=A=>{n(4,p=A),n(5,g=new Map);for(const[C,T]of Object.entries(p.featureMap))g.set(parseInt(C),T)},_=l1(),k=c1(),H=u1(),I=h1(),M=f1();let V=Nr();I.subscribe(A=>{n(7,V=A)}),Ne(()=>{s&&document.addEventListener("timbertrekData",C=>{const T=C,D=T.data;n(6,d=T.width),v(D)});const A=Math.floor((window.innerWidth-d)/2);A<268&&n(3,h=`transform: translateX(calc(100% - ${268-A+5}px))`),n(17,c=!0)});const E=["notebookMode","curDataset","timbertrekTransitioning"];vd.keys(t).forEach(A=>{!~E.indexOf(A)&&A.slice(0,2)!=="$$"&&A!=="slot"&&console.warn(`<Timber> was created with unknown prop '${A}'`)});const F=()=>{localStorage.clear()};function R(A){Je[A?"unshift":"push"](()=>{u=A,n(1,u)})}return e.$$set=A=>{"notebookMode"in A&&n(14,s=A.notebookMode),"curDataset"in A&&n(0,a=A.curDataset),"timbertrekTransitioning"in A&&n(15,o=A.timbertrekTransitioning)},e.$capture_state=()=>({onMount:Ne,fade:Ri,cubicInOut:ih,getFavoritesStore:l1,getSunburstStore:c1,getTreeWindowStore:u1,getPinnedTreeStore:h1,getPinnedTreeStoreDefaultValue:Nr,getSearchStore:f1,Toolbar:d2,Sunburst:_2,TreeWindow:M2,PinnedTreeWindow:Y2,FavoritesPanel:Q2,SearchPanel:h0,Dropzone:p0,d3:z,logoIcon:Va,githubIcon:g0,paperIcon:m0,notebookMode:s,curDataset:a,timbertrekTransitioning:o,component:u,initialized:l,mounted:c,initDepthGap:f,sidebarStyle:h,data:p,featureMap:g,sunburstWidth:d,devMode:bd,datasetMap:m,initData:v,readDataFromFile:S,initDataFromDropzone:b,favoritesStore:_,sunburstStore:k,treeWindowStore:H,pinnedTreeStore:I,searchStore:M,pinnedTreeStoreValue:V}),e.$inject_state=A=>{"notebookMode"in A&&n(14,s=A.notebookMode),"curDataset"in A&&n(0,a=A.curDataset),"timbertrekTransitioning"in A&&n(15,o=A.timbertrekTransitioning),"component"in A&&n(1,u=A.component),"initialized"in A&&n(16,l=A.initialized),"mounted"in A&&n(17,c=A.mounted),"initDepthGap"in A&&n(2,f=A.initDepthGap),"sidebarStyle"in A&&n(3,h=A.sidebarStyle),"data"in A&&n(4,p=A.data),"featureMap"in A&&n(5,g=A.featureMap),"sunburstWidth"in A&&n(6,d=A.sunburstWidth),"pinnedTreeStoreValue"in A&&n(7,V=A.pinnedTreeStoreValue)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{e.$$.dirty&245761&&!s&&a&&!l&&c&&!o&&S(a)},[a,u,f,h,p,g,d,V,b,_,k,H,I,M,s,o,l,c,F,R]}class Da extends _t{constructor(t){super(t),Ct(this,t,Cd,Ko,tt,{notebookMode:14,curDataset:0,timbertrekTransitioning:15}),ee("SvelteRegisterComponent",{component:this,tagName:"Timber",options:t,id:Ko.name})}get notebookMode(){throw new Error("<Timber>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set notebookMode(t){throw new Error("<Timber>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get curDataset(){throw new Error("<Timber>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set curDataset(t){throw new Error("<Timber>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get timbertrekTransitioning(){throw new Error("<Timber>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set timbertrekTransitioning(t){throw new Error("<Timber>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Sd="src/components/article/Youtube.svelte";function $o(e){let t;const n={c:function(){t=L("div"),w(t,"id",e[0]),x(t,Sd,37,0,1053)},l:function(i){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(i,s){ae(i,t,s)},p:function(i,[s]){s&1&&w(t,"id",i[0])},i:pe,o:pe,d:function(i){i&&re(t)}};return ee("SvelteRegisterBlock",{block:n,id:$o.name,type:"component",source:"",ctx:e}),n}let _d=!1;var ql=document.createElement("script");ql.src="https://www.youtube.com/iframe_api";var el=document.getElementsByTagName("script")[0];el.parentNode.insertBefore(ql,el);window.onYouTubeIframeAPIReady=()=>window.dispatchEvent(new Event("iframeApiReady"));function xd(e,t,n){let{$$slots:r={},$$scope:i}=t;St("Youtube",r,[]);let{videoId:s}=t,{playerId:a="player"}=t,o;function u(h=0){o.seekTo(h),o.playVideo()}const l=a1();window.addEventListener("iframeApiReady",function(h){o=new YT.Player(a,{videoId:s,width:"780",height:"439",events:{onReady:c}})});function c(h){o.unMute()}e.$$.on_mount.push(function(){s===void 0&&!("videoId"in t||e.$$.bound[e.$$.props.videoId])&&console.warn("<Youtube> was created without expected prop 'videoId'")});const f=["videoId","playerId"];return Object.keys(t).forEach(h=>{!~f.indexOf(h)&&h.slice(0,2)!=="$$"&&h!=="slot"&&console.warn(`<Youtube> was created with unknown prop '${h}'`)}),e.$$set=h=>{"videoId"in h&&n(1,s=h.videoId),"playerId"in h&&n(0,a=h.playerId)},e.$capture_state=()=>({iframeApiReady:_d,setContext:Q0,onMount:Ne,tag:ql,firstScriptTag:el,createEventDispatcher:a1,getContext:K0,videoId:s,playerId:a,player:o,play:u,dispatch:l,onPlayerReady:c}),e.$inject_state=h=>{"videoId"in h&&n(1,s=h.videoId),"playerId"in h&&n(0,a=h.playerId),"player"in h&&(o=h.player)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[a,s,u]}class v0 extends _t{constructor(t){super(t),Ct(this,t,xd,$o,tt,{videoId:1,playerId:0,play:2}),ee("SvelteRegisterComponent",{component:this,tagName:"Youtube",options:t,id:$o.name})}get videoId(){throw new Error("<Youtube>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set videoId(t){throw new Error("<Youtube>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get playerId(){throw new Error("<Youtube>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set playerId(t){throw new Error("<Youtube>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get play(){return this.$$.ctx[2]}set play(t){throw new Error("<Youtube>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const b0=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 401 401" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;">
    <g transform="matrix(1,0,0,1,-19411,-12326)">
        <g transform="matrix(2.82395,0,0,1,1793.2,6727.4)">
            <g id="timbertrek-logo-light" transform="matrix(0.614272,1.43604e-16,-7.51731e-17,1.15942,2779.06,-823.626)">
                <g transform="matrix(0.628201,0,0,0.939888,2139.91,-523.818)">
                    <path d="M5691.27,6656.44L5660.64,6656.44L5742.98,6526.8L5823.36,6656.44L5792.72,6656.44L5820.76,6721.2L5742.66,6679.85L5663.24,6721.12L5691.27,6656.44ZM5742.89,6571.51L5742.89,6652.51L5790.28,6676.11L5742.89,6571.51Z" style="fill:rgb(128,128,128);"/>
                </g>
                <g transform="matrix(0.950085,-2.46519e-32,-2.46519e-32,0.950085,286.898,285.116)">
                    <g transform="matrix(-0.445586,6.73401e-17,-1.13133e-16,-1.66667,8499.43,14925.7)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(128,128,128);stroke:rgb(128,128,128);stroke-width:2.98px;"/>
                    </g>
                    <g transform="matrix(1.15018e-15,-0.666667,1.11396,4.44089e-15,-410.51,9829)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(128,128,128);stroke:rgb(128,128,128);stroke-width:2.98px;"/>
                    </g>
                    <g transform="matrix(0.445586,3.52496e-15,-6.0106e-15,1.66667,2996,-3501.67)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(128,128,128);stroke:rgb(128,128,128);stroke-width:2.98px;"/>
                    </g>
                    <g transform="matrix(-3.52474e-15,0.666667,-1.11396,-1.33227e-14,11905.9,1595)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(128,128,128);stroke:rgb(128,128,128);stroke-width:2.98px;"/>
                    </g>
                </g>
                <g transform="matrix(0.634876,0,0,0.949874,1764.5,-89.8317)">
                    <g transform="matrix(-0.61592,-0.255122,0.637806,-1.5398,6551.69,16195.8)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(204,204,204);stroke:rgb(204,204,204);stroke-width:2.98px;"/>
                    </g>
                    <g transform="matrix(-0.471405,-0.471405,1.17851,-1.17851,2670.11,15534.2)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(204,204,204);stroke:rgb(204,204,204);stroke-width:2.98px;"/>
                    </g>
                    <g transform="matrix(-0.255122,-0.61592,1.5398,-0.637806,-662.81,13437.5)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(204,204,204);stroke:rgb(204,204,204);stroke-width:2.98px;"/>
                    </g>
                    <g transform="matrix(0.255122,-0.61592,1.5398,0.637806,-3813.83,6385.69)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(204,204,204);stroke:rgb(204,204,204);stroke-width:2.98px;"/>
                    </g>
                    <g transform="matrix(0.471405,-0.471405,1.17851,1.17851,-3152.2,2504.11)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(204,204,204);stroke:rgb(204,204,204);stroke-width:2.98px;"/>
                    </g>
                    <g transform="matrix(0.61592,-0.255122,0.637806,1.5398,-1055.53,-828.81)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(204,204,204);stroke:rgb(204,204,204);stroke-width:2.98px;"/>
                    </g>
                    <g transform="matrix(0.61592,0.255122,-0.637806,1.5398,5996.31,-3979.83)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(204,204,204);stroke:rgb(204,204,204);stroke-width:2.98px;"/>
                    </g>
                    <g transform="matrix(0.471405,0.471405,-1.17851,1.17851,9877.89,-3318.2)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(204,204,204);stroke:rgb(204,204,204);stroke-width:2.98px;"/>
                    </g>
                    <g transform="matrix(0.255122,0.61592,-1.5398,0.637806,13210.8,-1221.53)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(204,204,204);stroke:rgb(204,204,204);stroke-width:2.98px;"/>
                    </g>
                    <g transform="matrix(-0.255122,0.61592,-1.5398,-0.637806,16361.8,5830.31)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(204,204,204);stroke:rgb(204,204,204);stroke-width:2.98px;"/>
                    </g>
                    <g transform="matrix(-0.471405,0.471405,-1.17851,-1.17851,15700.2,9711.89)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(204,204,204);stroke:rgb(204,204,204);stroke-width:2.98px;"/>
                    </g>
                    <g transform="matrix(-0.61592,0.255122,-0.637806,-1.5398,13603.5,13044.8)">
                        <path d="M6183,5608C6183,5606.34 6179.64,5605 6175.5,5605C6171.36,5605 6168,5606.34 6168,5608L6168,5626C6168,5627.66 6171.36,5629 6175.5,5629C6179.64,5629 6183,5627.66 6183,5626L6183,5608Z" style="fill:rgb(204,204,204);stroke:rgb(204,204,204);stroke-width:2.98px;"/>
                    </g>
                </g>
                <g transform="matrix(0.660497,0,0,0.988207,1497.7,1465.12)">
                    <path d="M6434.56,4123C6530.9,4123 6609.12,4201.22 6609.12,4297.56C6609.12,4393.9 6530.9,4472.12 6434.56,4472.12C6338.22,4472.12 6260,4393.9 6260,4297.56C6260,4201.22 6338.22,4123 6434.56,4123ZM6434.56,4139.36C6521.87,4139.36 6592.75,4210.25 6592.75,4297.56C6592.75,4384.87 6521.87,4455.75 6434.56,4455.75C6347.25,4455.75 6276.36,4384.87 6276.36,4297.56C6276.36,4210.25 6347.25,4139.36 6434.56,4139.36Z" style="fill:rgb(128,128,128);"/>
                </g>
            </g>
        </g>
    </g>
</svg>
`,C0='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M14.064 0a8.75 8.75 0 00-6.187 2.563l-.459.458c-.314.314-.616.641-.904.979H3.31a1.75 1.75 0 00-1.49.833L.11 7.607a.75.75 0 00.418 1.11l3.102.954c.037.051.079.1.124.145l2.429 2.428c.046.046.094.088.145.125l.954 3.102a.75.75 0 001.11.418l2.774-1.707a1.75 1.75 0 00.833-1.49V9.485c.338-.288.665-.59.979-.904l.458-.459A8.75 8.75 0 0016 1.936V1.75A1.75 1.75 0 0014.25 0h-.186zM10.5 10.625c-.088.06-.177.118-.266.175l-2.35 1.521.548 1.783 1.949-1.2a.25.25 0 00.119-.213v-2.066zM3.678 8.116L5.2 5.766c.058-.09.117-.178.176-.266H3.309a.25.25 0 00-.213.119l-1.2 1.95 1.782.547zm5.26-4.493A7.25 7.25 0 0114.063 1.5h.186a.25.25 0 01.25.25v.186a7.25 7.25 0 01-2.123 5.127l-.459.458a15.21 15.21 0 01-2.499 2.02l-2.317 1.5-2.143-2.143 1.5-2.317a15.25 15.25 0 012.02-2.5l.458-.458h.002zM12 5a1 1 0 11-2 0 1 1 0 012 0zm-8.44 9.56a1.5 1.5 0 10-2.12-2.12c-.734.73-1.047 2.332-1.15 3.003a.23.23 0 00.265.265c.671-.103 2.273-.416 3.005-1.148z"></path></svg>',S0='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!-- Font Awesome Pro 5.15.3 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) --><path d="M448 348.106V80c0-26.51-21.49-48-48-48H48C21.49 32 0 53.49 0 80v351.988c0 26.51 21.49 48 48 48h268.118a48 48 0 0 0 33.941-14.059l83.882-83.882A48 48 0 0 0 448 348.106zm-128 80v-76.118h76.118L320 428.106zM400 80v223.988H296c-13.255 0-24 10.745-24 24v104H48V80h352z"/></svg>',_0=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 418 108" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(1,0,0,1,-8240,-5194)">
        <g transform="matrix(0.622121,0,0,0.417008,8066.43,2758.66)">
            <g id="gt" transform="matrix(1,0,0,1,-37.4125,1.81899e-12)">
                <g transform="matrix(2.16105,0,0,3.224,262.506,5764.12)">
                    <path d="M179.1,68.4L206.36,68.4C206.381,68.397 206.403,68.395 206.425,68.395C206.666,68.395 206.865,68.594 206.865,68.835C206.865,68.857 206.863,68.879 206.86,68.9L206.86,77C206.863,77.021 206.864,77.042 206.864,77.063C206.864,77.31 206.661,77.513 206.414,77.513C206.396,77.513 206.378,77.512 206.36,77.51L202,77.51C201.979,77.513 201.957,77.515 201.935,77.515C201.688,77.515 201.485,77.312 201.485,77.065C201.485,77.043 201.487,77.021 201.49,77L201.49,74C201.491,73.989 201.492,73.979 201.492,73.968C201.492,73.82 201.37,73.698 201.222,73.698C201.211,73.698 201.201,73.699 201.19,73.7L196,73.7C195.989,73.699 195.979,73.698 195.968,73.698C195.82,73.698 195.698,73.82 195.698,73.968C195.698,73.979 195.699,73.989 195.7,74L195.7,97.58C195.699,97.591 195.698,97.601 195.698,97.612C195.698,97.76 195.82,97.882 195.968,97.882C195.979,97.882 195.989,97.881 196,97.88L198.64,97.88C198.658,97.878 198.676,97.877 198.694,97.877C198.941,97.877 199.144,98.08 199.144,98.327C199.144,98.348 199.143,98.369 199.14,98.39L199.14,102.39C199.143,102.411 199.144,102.432 199.144,102.453C199.144,102.7 198.941,102.903 198.694,102.903C198.676,102.903 198.658,102.902 198.64,102.9L186.8,102.9C186.779,102.903 186.757,102.905 186.735,102.905C186.488,102.905 186.285,102.702 186.285,102.455C186.285,102.433 186.287,102.411 186.29,102.39L186.29,98.39C186.287,98.369 186.285,98.347 186.285,98.325C186.285,98.078 186.488,97.875 186.735,97.875C186.757,97.875 186.779,97.877 186.8,97.88L189.43,97.88C189.64,97.88 189.74,97.78 189.74,97.58L189.74,74C189.74,73.8 189.64,73.7 189.43,73.7L184.27,73.7C184.06,73.7 183.96,73.8 183.96,74L183.96,77C183.963,77.021 183.964,77.042 183.964,77.063C183.964,77.31 183.761,77.513 183.514,77.513C183.496,77.513 183.478,77.512 183.46,77.51L179.1,77.51C179.079,77.513 179.057,77.515 179.035,77.515C178.788,77.515 178.585,77.312 178.585,77.065C178.585,77.043 178.587,77.021 178.59,77L178.59,68.9C178.588,68.882 178.587,68.864 178.587,68.846C178.587,68.599 178.79,68.396 179.037,68.396C179.058,68.396 179.079,68.397 179.1,68.4Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(2.16105,0,0,3.224,262.506,5764.12)">
                    <path d="M217.31,77.87C219.574,77.802 221.805,78.431 223.7,79.67C225.44,80.856 226.727,82.598 227.35,84.61C227.98,87.007 228.253,89.484 228.16,91.96C228.16,92.29 227.97,92.46 227.6,92.46L212.6,92.46C212.4,92.46 212.3,92.56 212.3,92.77C212.307,93.409 212.426,94.042 212.65,94.64C213.503,97.107 215.327,98.34 218.12,98.34C220.262,98.421 222.337,97.566 223.8,96C224.07,95.73 224.32,95.7 224.56,95.9L227.56,98.53C227.663,98.619 227.722,98.749 227.722,98.885C227.722,99.021 227.663,99.151 227.56,99.24C225.2,102.013 221.867,103.4 217.56,103.4C215.258,103.476 212.986,102.848 211.05,101.6C209.28,100.412 207.979,98.643 207.37,96.6C206.774,94.657 206.484,92.632 206.51,90.6C206.473,88.57 206.746,86.547 207.32,84.6C207.923,82.554 209.226,80.783 211,79.6C212.881,78.402 215.081,77.799 217.31,77.87ZM217.37,82.68C214.87,82.68 213.263,83.73 212.55,85.83C212.34,86.5 212.239,87.198 212.25,87.9C212.25,88.11 212.35,88.21 212.55,88.21L222.13,88.21C222.33,88.21 222.43,88.11 222.43,87.9C222.441,87.198 222.34,86.5 222.13,85.83C221.815,84.881 221.187,84.066 220.35,83.52C219.464,82.947 218.425,82.655 217.37,82.68Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(2.16105,0,0,3.224,262.506,5764.12)">
                    <path d="M243,77.87C245.924,77.761 248.826,78.427 251.41,79.8C251.669,79.913 251.829,80.178 251.81,80.46L251.81,86C251.813,86.021 251.815,86.043 251.815,86.065C251.815,86.306 251.616,86.505 251.375,86.505C251.353,86.505 251.331,86.503 251.31,86.5L247,86.5C246.975,86.504 246.95,86.506 246.925,86.506C246.684,86.506 246.485,86.308 246.485,86.066C246.485,86.044 246.487,86.022 246.49,86L246.49,83.8C246.49,83.66 246.41,83.55 246.24,83.44C245.258,83.054 244.204,82.884 243.15,82.94C240.483,82.94 238.817,84.003 238.15,86.13C237.762,87.601 237.594,89.12 237.65,90.64C237.592,92.176 237.76,93.713 238.15,95.2C238.863,97.293 240.53,98.34 243.15,98.34C244.201,98.409 245.255,98.252 246.24,97.88C246.395,97.838 246.5,97.691 246.49,97.53L246.49,95.25C246.487,95.229 246.485,95.207 246.485,95.185C246.485,94.938 246.688,94.735 246.935,94.735C246.957,94.735 246.979,94.737 247,94.74L251.31,94.74C251.328,94.738 251.346,94.737 251.364,94.737C251.611,94.737 251.814,94.94 251.814,95.187C251.814,95.208 251.813,95.229 251.81,95.25L251.81,100.87C251.829,101.152 251.669,101.417 251.41,101.53C248.8,102.828 245.914,103.474 243,103.41C237.493,103.41 234.03,101.213 232.61,96.82C232.037,94.812 231.78,92.727 231.85,90.64C231.789,88.613 232.046,86.588 232.61,84.64C233.238,82.579 234.578,80.806 236.39,79.64C238.372,78.415 240.671,77.8 243,77.87Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(2.16105,0,0,3.224,262.506,5764.12)">
                    <path d="M255.78,68.4L263.43,68.4C263.451,68.397 263.472,68.396 263.493,68.396C263.74,68.396 263.943,68.599 263.943,68.846C263.943,68.864 263.942,68.882 263.94,68.9L263.94,80.71L264,80.71C265.333,78.823 267.447,77.877 270.34,77.87C272.644,77.78 274.876,78.705 276.44,80.4C278.021,82.202 278.849,84.545 278.75,86.94L278.75,97.58C278.749,97.591 278.748,97.601 278.748,97.612C278.748,97.76 278.87,97.882 279.018,97.882C279.029,97.882 279.039,97.881 279.05,97.88L281.13,97.88C281.148,97.878 281.166,97.877 281.184,97.877C281.431,97.877 281.634,98.08 281.634,98.327C281.634,98.348 281.633,98.369 281.63,98.39L281.63,102.39C281.633,102.411 281.634,102.432 281.634,102.453C281.634,102.7 281.431,102.903 281.184,102.903C281.166,102.903 281.148,102.902 281.13,102.9L270.58,102.9C270.559,102.903 270.537,102.905 270.515,102.905C270.268,102.905 270.065,102.702 270.065,102.455C270.065,102.433 270.067,102.411 270.07,102.39L270.07,98.39C270.067,98.369 270.065,98.347 270.065,98.325C270.065,98.078 270.268,97.875 270.515,97.875C270.537,97.875 270.559,97.877 270.58,97.88L272.76,97.88C272.771,97.881 272.781,97.882 272.792,97.882C272.94,97.882 273.062,97.76 273.062,97.612C273.062,97.601 273.061,97.591 273.06,97.58L273.06,88.26C273.135,86.872 272.724,85.5 271.9,84.38C271.014,83.461 269.791,82.941 268.515,82.941C267.239,82.941 266.016,83.461 265.13,84.38C264.29,85.493 263.868,86.867 263.94,88.26L263.94,97.58C263.94,97.78 264.04,97.88 264.25,97.88L266.42,97.88C266.441,97.877 266.463,97.875 266.485,97.875C266.732,97.875 266.935,98.078 266.935,98.325C266.935,98.347 266.933,98.369 266.93,98.39L266.93,102.39C266.933,102.411 266.935,102.433 266.935,102.455C266.935,102.702 266.732,102.905 266.485,102.905C266.463,102.905 266.441,102.903 266.42,102.9L255.78,102.9C255.762,102.902 255.744,102.903 255.726,102.903C255.479,102.903 255.276,102.7 255.276,102.453C255.276,102.432 255.277,102.411 255.28,102.39L255.28,98.39C255.277,98.369 255.276,98.348 255.276,98.327C255.276,98.08 255.479,97.877 255.726,97.877C255.744,97.877 255.762,97.878 255.78,97.88L258,97.88C258.21,97.88 258.31,97.78 258.31,97.58L258.31,73.67C258.312,73.656 258.314,73.641 258.314,73.626C258.314,73.478 258.192,73.356 258.044,73.356C258.029,73.356 258.014,73.358 258,73.36L255.82,73.36C255.799,73.363 255.777,73.365 255.755,73.365C255.514,73.365 255.315,73.166 255.315,72.925C255.315,72.903 255.317,72.881 255.32,72.86L255.32,68.86C255.32,68.853 255.32,68.846 255.32,68.84C255.32,68.598 255.518,68.4 255.76,68.4C255.766,68.4 255.773,68.4 255.78,68.4Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(2.16105,0,0,3.224,262.506,5764.12)">
                    <path d="M184.23,23.68C186.267,23.67 188.293,23.987 190.23,24.62C191.9,25.111 193.456,25.927 194.81,27.02C195.031,27.19 195.164,27.451 195.17,27.73L195.17,33.81C195.173,33.831 195.175,33.853 195.175,33.875C195.175,34.122 194.972,34.325 194.725,34.325C194.703,34.325 194.681,34.323 194.66,34.32L190.1,34.32C190.078,34.323 190.056,34.325 190.034,34.325C189.792,34.325 189.594,34.126 189.594,33.885C189.594,33.86 189.596,33.835 189.6,33.81L189.6,30.81C189.605,30.649 189.525,30.497 189.39,30.41C187.79,29.44 185.939,28.963 184.07,29.04C180.363,29.04 177.983,30.577 176.93,33.65C176.287,36.232 176.015,38.892 176.12,41.55C176.001,44.171 176.223,46.796 176.78,49.36C177.195,50.713 178.037,51.896 179.18,52.73C180.58,53.56 182.196,53.953 183.82,53.86C185.769,53.99 187.717,53.571 189.44,52.65C189.749,52.499 189.947,52.184 189.95,51.84L189.95,45.11C189.951,45.099 189.952,45.089 189.952,45.078C189.952,44.93 189.83,44.808 189.682,44.808C189.671,44.808 189.661,44.809 189.65,44.81L184.17,44.81C184.152,44.812 184.134,44.813 184.116,44.813C183.869,44.813 183.666,44.61 183.666,44.363C183.666,44.342 183.667,44.321 183.67,44.3L183.67,40.3C183.667,40.279 183.666,40.258 183.666,40.237C183.666,39.99 183.869,39.787 184.116,39.787C184.134,39.787 184.152,39.788 184.17,39.79L195.22,39.79C195.241,39.787 195.263,39.785 195.285,39.785C195.532,39.785 195.735,39.988 195.735,40.235C195.735,40.257 195.733,40.279 195.73,40.3L195.73,54.79C195.738,55.281 195.487,55.741 195.07,56C191.728,58.261 187.752,59.399 183.72,59.25C176.933,59.25 172.66,56.563 170.9,51.19C170.333,49.47 170.047,46.26 170.04,41.56C170.04,37.14 170.36,33.96 171.04,32.04C172.807,26.473 177.203,23.687 184.23,23.68Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(2.16105,0,0,3.224,262.506,5764.12)">
                    <path d="M211,33.71C213.261,33.64 215.489,34.268 217.38,35.51C219.117,36.693 220.395,38.438 221,40.45C221.631,42.843 221.904,45.317 221.81,47.79C221.81,48.13 221.63,48.3 221.26,48.3L206.2,48.3C206.189,48.299 206.179,48.298 206.168,48.298C206.015,48.298 205.888,48.425 205.888,48.578C205.888,48.589 205.889,48.599 205.89,48.61C205.897,49.25 206.019,49.883 206.25,50.48C207.09,52.95 208.92,54.18 211.72,54.18C213.878,54.278 215.973,53.426 217.45,51.85C217.72,51.58 217.97,51.54 218.21,51.75L221.21,54.38C221.335,54.466 221.41,54.608 221.41,54.76C221.41,54.884 221.359,55.003 221.27,55.09C218.897,57.857 215.563,59.243 211.27,59.25C208.968,59.323 206.698,58.695 204.76,57.45C202.998,56.256 201.701,54.489 201.09,52.45C200.495,50.506 200.205,48.482 200.23,46.45C200.193,44.42 200.466,42.397 201.04,40.45C201.638,38.405 202.938,36.634 204.71,35.45C206.586,34.256 208.777,33.65 211,33.71ZM211,38.52C208.5,38.52 206.897,39.567 206.19,41.66C205.977,42.332 205.872,43.035 205.88,43.74C205.879,43.751 205.878,43.761 205.878,43.772C205.878,43.925 206.005,44.052 206.158,44.052C206.169,44.052 206.179,44.051 206.19,44.05L215.76,44.05C215.771,44.051 215.781,44.052 215.792,44.052C215.945,44.052 216.072,43.925 216.072,43.772C216.072,43.761 216.071,43.751 216.07,43.74C216.083,43.034 215.978,42.331 215.76,41.66C215.446,40.716 214.822,39.905 213.99,39.36C213.1,38.786 212.058,38.493 211,38.52Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(2.16105,0,0,3.224,262.506,5764.12)">
                    <path d="M236.14,33.71C238.389,33.648 240.606,34.265 242.5,35.48C244.272,36.664 245.572,38.435 246.17,40.48C246.75,42.426 247.023,44.45 246.98,46.48C247.022,48.51 246.748,50.534 246.17,52.48C245.578,54.528 244.277,56.301 242.5,57.48C240.609,58.703 238.391,59.324 236.14,59.26C233.873,59.326 231.638,58.706 229.73,57.48C227.953,56.301 226.652,54.528 226.06,52.48C225.482,50.534 225.208,48.51 225.25,46.48C225.207,44.45 225.48,42.426 226.06,40.48C226.658,38.435 227.958,36.664 229.73,35.48C231.641,34.262 233.875,33.645 236.14,33.71ZM236.14,38.78C234.032,38.583 232.071,39.953 231.53,42C231.142,43.471 230.97,44.99 231.02,46.51C230.966,48.03 231.138,49.55 231.53,51.02C232.239,52.933 234.075,54.21 236.115,54.21C238.155,54.21 239.991,52.933 240.7,51.02C241.092,49.55 241.264,48.03 241.21,46.51C241.26,44.99 241.088,43.471 240.7,42C240.173,39.965 238.234,38.596 236.14,38.78Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(2.16105,0,0,3.224,262.506,5764.12)">
                    <path d="M264.52,33.91C265.32,33.911 266.118,33.998 266.9,34.17C267.24,34.23 267.41,34.4 267.41,34.67L267.41,39.08C267.41,39.52 267.2,39.69 266.8,39.59C265.812,39.378 264.809,39.241 263.8,39.18C260.15,39.18 258.33,41.28 258.33,45.46L258.33,53.46C258.329,53.471 258.328,53.481 258.328,53.492C258.328,53.64 258.45,53.762 258.598,53.762C258.609,53.762 258.619,53.761 258.63,53.76L261,53.76C261.021,53.757 261.043,53.755 261.065,53.755C261.312,53.755 261.515,53.958 261.515,54.205C261.515,54.227 261.513,54.249 261.51,54.27L261.51,58.27C261.513,58.291 261.515,58.313 261.515,58.335C261.515,58.582 261.312,58.785 261.065,58.785C261.043,58.785 261.021,58.783 261,58.78L250.18,58.78C250.159,58.783 250.137,58.785 250.115,58.785C249.868,58.785 249.665,58.582 249.665,58.335C249.665,58.313 249.667,58.291 249.67,58.27L249.67,54.27C249.667,54.249 249.665,54.227 249.665,54.205C249.665,53.958 249.868,53.755 250.115,53.755C250.137,53.755 250.159,53.757 250.18,53.76L252.36,53.76C252.371,53.761 252.381,53.762 252.392,53.762C252.54,53.762 252.662,53.64 252.662,53.492C252.662,53.481 252.661,53.471 252.66,53.46L252.66,39.54C252.66,39.33 252.56,39.23 252.36,39.23L250.18,39.23C250.159,39.233 250.138,39.234 250.117,39.234C249.87,39.234 249.667,39.031 249.667,38.784C249.667,38.766 249.668,38.748 249.67,38.73L249.67,34.73C249.668,34.712 249.667,34.694 249.667,34.676C249.667,34.429 249.87,34.226 250.117,34.226C250.138,34.226 250.159,34.227 250.18,34.23L257.83,34.23C257.851,34.227 257.872,34.226 257.893,34.226C258.14,34.226 258.343,34.429 258.343,34.676C258.343,34.694 258.342,34.712 258.34,34.73L258.34,37.27L258.39,37.27C259.647,35.1 262.014,33.802 264.52,33.91Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(2.16105,0,0,3.224,262.506,5764.12)">
                    <path d="M279.23,33.74C282.237,33.74 284.35,34.703 285.57,36.63L285.62,36.63L285.62,34.81C285.617,34.789 285.615,34.767 285.615,34.745C285.615,34.498 285.818,34.295 286.065,34.295C286.087,34.295 286.109,34.297 286.13,34.3L293.78,34.3C293.798,34.298 293.816,34.297 293.834,34.297C294.081,34.297 294.284,34.5 294.284,34.747C294.284,34.768 294.283,34.789 294.28,34.81L294.28,38.76C294.283,38.781 294.285,38.803 294.285,38.825C294.285,39.066 294.086,39.265 293.845,39.265C293.823,39.265 293.801,39.263 293.78,39.26L291.6,39.26C291.589,39.259 291.579,39.258 291.568,39.258C291.415,39.258 291.288,39.385 291.288,39.538C291.288,39.549 291.289,39.559 291.29,39.57L291.29,57.2C291.29,60.747 290.32,63.5 288.38,65.46C286.44,67.42 283.61,68.4 279.89,68.4C278.175,68.39 276.477,68.051 274.89,67.4C273.388,66.865 272.048,65.952 271,64.75C270.908,64.663 270.856,64.542 270.856,64.415C270.856,64.266 270.928,64.126 271.05,64.04L274.05,61.04C274.136,60.914 274.278,60.839 274.43,60.839C274.582,60.839 274.724,60.914 274.81,61.04C276.206,62.481 278.124,63.302 280.13,63.32C283.77,63.32 285.6,61.38 285.6,57.49L285.6,55.22L285.55,55.22C284.33,57.12 282.22,58.06 279.21,58.06C277.356,58.125 275.529,57.592 274,56.54C272.519,55.444 271.434,53.896 270.91,52.13C270.313,50.109 270.04,48.006 270.1,45.9C270.044,43.81 270.317,41.725 270.91,39.72C272.203,35.74 274.977,33.747 279.23,33.74ZM280.7,38.81C278.716,38.665 276.896,39.974 276.4,41.9C275.997,43.194 275.807,44.545 275.84,45.9C275.796,47.256 275.986,48.609 276.4,49.9C277.005,51.774 278.761,53.052 280.73,53.052C282.699,53.052 284.455,51.774 285.06,49.9C285.474,48.609 285.664,47.256 285.62,45.9C285.653,44.545 285.463,43.194 285.06,41.9C284.546,39.96 282.701,38.652 280.7,38.81Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(2.16105,0,0,3.224,262.506,5764.12)">
                    <path d="M297.82,34.27L305.47,34.27C305.491,34.267 305.512,34.266 305.533,34.266C305.78,34.266 305.983,34.469 305.983,34.716C305.983,34.734 305.982,34.752 305.98,34.77L305.98,53.42C305.979,53.431 305.978,53.441 305.978,53.452C305.978,53.6 306.1,53.722 306.248,53.722C306.259,53.722 306.269,53.721 306.28,53.72L308.46,53.72C308.481,53.717 308.503,53.715 308.525,53.715C308.772,53.715 308.975,53.918 308.975,54.165C308.975,54.187 308.973,54.209 308.97,54.23L308.97,58.23C308.973,58.251 308.975,58.273 308.975,58.295C308.975,58.542 308.772,58.745 308.525,58.745C308.503,58.745 308.481,58.743 308.46,58.74L297.82,58.74C297.799,58.743 297.777,58.745 297.755,58.745C297.508,58.745 297.305,58.542 297.305,58.295C297.305,58.273 297.307,58.251 297.31,58.23L297.31,54.23C297.307,54.209 297.305,54.187 297.305,54.165C297.305,53.918 297.508,53.715 297.755,53.715C297.777,53.715 297.799,53.717 297.82,53.72L300,53.72C300.011,53.721 300.021,53.722 300.032,53.722C300.18,53.722 300.302,53.6 300.302,53.452C300.302,53.441 300.301,53.431 300.3,53.42L300.3,39.54C300.3,39.33 300.2,39.23 300,39.23L297.82,39.23C297.799,39.233 297.778,39.234 297.757,39.234C297.51,39.234 297.307,39.031 297.307,38.784C297.307,38.766 297.308,38.748 297.31,38.73L297.31,34.73C297.31,34.725 297.31,34.721 297.31,34.716C297.31,34.469 297.513,34.266 297.76,34.266C297.78,34.266 297.8,34.267 297.82,34.27ZM300.82,24.27L305.48,24.27C305.501,24.267 305.522,24.266 305.543,24.266C305.79,24.266 305.993,24.469 305.993,24.716C305.993,24.734 305.992,24.752 305.99,24.77L305.99,29.18C305.993,29.201 305.995,29.223 305.995,29.245C305.995,29.492 305.792,29.695 305.545,29.695C305.523,29.695 305.501,29.693 305.48,29.69L300.82,29.69C300.799,29.693 300.777,29.695 300.755,29.695C300.508,29.695 300.305,29.492 300.305,29.245C300.305,29.223 300.307,29.201 300.31,29.18L300.31,24.74C300.308,24.722 300.307,24.705 300.307,24.687C300.307,24.44 300.51,24.237 300.757,24.237C300.775,24.237 300.792,24.238 300.81,24.24L300.82,24.27Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(2.16105,0,0,3.224,262.506,5764.12)">
                    <path d="M322.09,33.71C325.77,33.71 328.38,34.377 329.92,35.71C331.46,37.043 332.23,39.22 332.23,42.24L332.23,53.44C332.229,53.451 332.228,53.461 332.228,53.472C332.228,53.62 332.35,53.742 332.498,53.742C332.509,53.742 332.519,53.741 332.53,53.74L334.71,53.74C334.732,53.737 334.754,53.735 334.776,53.735C335.018,53.735 335.216,53.934 335.216,54.175C335.216,54.2 335.214,54.225 335.21,54.25L335.21,58.25C335.214,58.275 335.216,58.3 335.216,58.325C335.216,58.566 335.018,58.765 334.776,58.765C334.754,58.765 334.732,58.763 334.71,58.76L327.46,58.76C327.442,58.762 327.424,58.763 327.406,58.763C327.159,58.763 326.956,58.56 326.956,58.313C326.956,58.292 326.957,58.271 326.96,58.25L326.96,56.41C325.627,58.303 323.363,59.25 320.17,59.25C318.049,59.329 315.969,58.644 314.31,57.32C312.726,55.918 311.877,53.861 312.01,51.75C311.854,49.498 312.811,47.306 314.57,45.89C316.676,44.457 319.196,43.754 321.74,43.89L326.6,43.89C326.614,43.892 326.628,43.893 326.642,43.893C326.79,43.893 326.912,43.771 326.912,43.623C326.912,43.612 326.911,43.601 326.91,43.59L326.91,42.59C327.016,41.406 326.62,40.229 325.82,39.35C325.093,38.683 323.783,38.35 321.89,38.35C321.001,38.349 320.115,38.453 319.25,38.66C319.087,38.69 318.976,38.846 319,39.01L319,41.19C319.003,41.211 319.005,41.233 319.005,41.255C319.005,41.502 318.802,41.705 318.555,41.705C318.533,41.705 318.511,41.703 318.49,41.7L314,41.7C313.979,41.703 313.957,41.705 313.935,41.705C313.688,41.705 313.485,41.502 313.485,41.255C313.485,41.233 313.487,41.211 313.49,41.19L313.49,36.09C313.475,35.807 313.639,35.542 313.9,35.43C316.464,34.241 319.265,33.653 322.09,33.71ZM326.55,48.2L322.6,48.2C319.12,48.2 317.38,49.32 317.38,51.54C317.38,53.76 318.77,54.64 321.54,54.64C325.08,54.64 326.86,53.25 326.86,50.48L326.86,48.48C326.86,48.476 326.86,48.471 326.86,48.467C326.86,48.319 326.738,48.197 326.59,48.197C326.577,48.197 326.563,48.198 326.55,48.2Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(2.16105,0,0,3.224,262.506,5764.12)">
                    <path d="M287.66,97.88C286.289,97.88 285.16,99.009 285.16,100.38C285.16,101.751 286.289,102.88 287.66,102.88C289.031,102.88 290.16,101.751 290.16,100.38C290.16,99.009 289.031,97.88 287.66,97.88ZM287.66,102.48C286.56,102.404 285.695,101.478 285.695,100.375C285.695,99.272 286.56,98.346 287.66,98.27C288.76,98.346 289.625,99.272 289.625,100.375C289.625,101.478 288.76,102.404 287.66,102.48Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(2.16105,0,0,3.224,262.506,5764.12)">
                    <path d="M288.1,100.46C288.417,100.389 288.643,100.105 288.64,99.78C288.655,99.561 288.562,99.347 288.39,99.21C288.132,99.053 287.831,98.98 287.53,99C287.265,98.998 287.001,99.022 286.74,99.07L286.74,101.84L287.18,101.84L287.18,100.65L287.49,100.65C287.517,100.646 287.544,100.644 287.571,100.644C287.844,100.644 288.072,100.858 288.09,101.13C288.105,101.377 288.17,101.619 288.28,101.84L288.74,101.84C288.647,101.62 288.587,101.387 288.56,101.15C288.51,100.73 288.34,100.5 288.1,100.46ZM287.5,100.28L287.18,100.28L287.18,99.34L287.5,99.34C288,99.34 288.18,99.58 288.18,99.83C288.18,100.08 287.87,100.28 287.5,100.28Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(2.16105,0,0,3.224,262.506,5764.12)">
                    <path d="M75.3,49L75.3,68.85L85.93,68.85L85.93,62.9L92.25,62.9C90.5,72 81.48,78.25 70.05,78.25C69.26,78.25 68.47,78.25 67.68,78.15C61.784,77.825 56.1,75.834 51.29,72.41C46.61,68.87 44.15,64.13 44.18,58.7C44.208,52.863 46.762,47.315 51.18,43.5C55.664,39.623 61.346,37.402 67.27,37.21L68.43,37.21C75.915,37.335 83.144,39.982 88.94,44.72C89.23,44.96 89.3,45.01 89.37,45.06C89.516,45.158 89.653,45.269 89.78,45.39L89.95,45.53L102.16,45.53L102.16,24.08L89.75,24.08L89.75,30.28C82.34,25.846 73.855,23.528 65.22,23.58L65.05,23.58C53.693,23.641 42.813,28.212 34.82,36.28C28.37,42.83 24.88,50.84 25,58.83C25.11,67.43 29.25,75.44 36.66,81.38C44.193,87.239 53.477,90.408 63.02,90.38C64.21,90.38 65.42,90.38 66.61,90.23C76.18,89.45 84.67,87.23 90.66,84.06L90.66,86.7L103.8,86.7L103.8,62.92L107.92,62.92L107.92,90.45L101.08,90.45L101.08,102.84L131.64,102.84L131.64,90.45L124.79,90.45L124.79,62.9L141.35,62.9L141.35,68.85L152,68.85L152,49L75.3,49Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(2.16105,0,0,3.224,262.506,5764.12)">
                    <path d="M136.71,99.23C135.463,99.235 134.44,100.263 134.44,101.51C134.44,102.761 135.469,103.79 136.72,103.79C137.971,103.79 139,102.761 139,101.51L139,101.49C139,100.25 137.98,99.23 136.74,99.23C136.727,99.23 136.713,99.23 136.7,99.23L136.71,99.23ZM136.71,103.43C135.657,103.43 134.79,102.563 134.79,101.51C134.79,100.457 135.657,99.59 136.71,99.59C137.763,99.59 138.63,100.457 138.63,101.51C138.63,102.563 137.763,103.43 136.71,103.43Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(2.16105,0,0,3.224,262.506,5764.12)">
                    <path d="M137.12,101.59C137.406,101.521 137.609,101.264 137.61,100.97C137.624,100.767 137.538,100.569 137.38,100.44C137.143,100.296 136.867,100.229 136.59,100.25C136.352,100.251 136.115,100.271 135.88,100.31L135.88,102.85L136.28,102.85L136.28,101.76L136.56,101.76C136.587,101.755 136.614,101.753 136.641,101.753C136.89,101.753 137.098,101.951 137.11,102.2C137.128,102.425 137.186,102.645 137.28,102.85L137.7,102.85C137.615,102.649 137.562,102.437 137.54,102.22C137.49,101.83 137.34,101.63 137.12,101.59ZM136.57,101.42L136.28,101.42L136.28,100.57L136.57,100.57C137.03,100.57 137.19,100.79 137.19,101.01C137.19,101.23 136.91,101.42 136.57,101.42Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
            </g>
        </g>
    </g>
</svg>
`,x0=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 189 89" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(1,0,0,1,-16274,-7366)">
        <g transform="matrix(1,0,0,1,12004.5,6770.4)">
            <g id="logo-fujitsu" transform="matrix(0.37751,0,0,0.377376,4118.99,331.277)">
                <g id="g5598" transform="matrix(4.25245,0,0,-4.25245,426.906,839.407)">
                    <path id="path5600" d="M0,0L5.93,0C7.054,0 8.104,-0.821 8.161,-1.909L8.215,-1.909L8.215,2.562L0,2.562L-0.004,10.41L7.922,10.41C9.051,10.41 10.102,9.592 10.161,8.507L10.213,8.507L10.205,12.981L-6.428,12.974L-6.428,12.925C-5.308,12.864 -4.468,11.678 -4.468,10.57L-4.468,-9.989C-4.468,-11.093 -5.308,-12.284 -6.428,-12.347L-6.428,-12.395L1.964,-12.395L1.964,-12.347C0.843,-12.284 -0.004,-11.093 -0.004,-9.989L0,0Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g id="g5602" transform="matrix(4.25245,0,0,-4.25245,499.928,863.105)">
                    <path id="path5604" d="M0,0C0,-2.638 2.2,-4.919 4.915,-4.919C7.627,-4.919 9.835,-2.608 9.835,0.031L9.835,16.143C9.835,17.251 8.992,18.437 7.869,18.498L7.869,18.546L16.267,18.554L16.267,18.498C15.146,18.437 14.297,17.251 14.297,16.143L14.297,0.487C14.297,-4.552 10.119,-7.488 4.937,-7.488C-0.254,-7.488 -4.477,-4.552 -4.477,0.487L-4.466,16.143C-4.466,17.251 -5.313,18.437 -6.428,18.498L-6.428,18.554L1.958,18.554L1.958,18.498C0.84,18.431 -0.004,17.244 -0.004,16.143L0,0Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g id="g5606" transform="matrix(4.25245,0,0,-4.25245,791.72,801.679)">
                    <path id="path5608" d="M0,0C-1.407,2.267 -4.618,1.994 -4.618,1.994C-9.87,1.994 -9.622,-2.001 -9.622,-2.001C-9.622,-2.001 -9.983,-4.005 -7.344,-5.372L-2.093,-8.154C2.976,-10.866 2.375,-14.72 2.375,-14.72C2.375,-14.72 2.604,-21.92 -7.997,-21.92C-7.997,-21.92 -11.077,-22.014 -12.821,-21.362L-14.313,-16.699L-14.261,-16.699C-12.646,-19.021 -7.954,-19.356 -7.954,-19.356C-1.997,-19.095 -1.956,-15.059 -1.956,-15.059C-1.956,-15.059 -1.688,-13.321 -4.02,-12.062L-9.246,-9.281C-14.702,-6.374 -14.077,-2.459 -14.077,-2.459C-14.077,-2.459 -14.206,4.624 -4.827,4.624C-4.827,4.624 -0.617,4.516 0.054,3.861L0.054,0L0,0Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g id="g5610" transform="matrix(4.25245,0,0,-4.25245,617.714,746.69)">
                    <path id="path5612" d="M0,0C0.93,-0.91 2.228,-1.469 3.645,-1.469C6.5,-1.469 8.811,0.777 8.811,3.553C8.811,6.321 6.5,8.571 3.645,8.571C3.645,8.571 -0.332,8.938 -2.122,3.99L-2.116,7.704C-0.784,9.399 1.278,10.631 3.645,10.631C7.673,10.631 10.932,7.465 10.932,3.553C10.932,-0.353 7.673,-3.531 3.645,-3.531C1.633,-3.531 -0.187,-2.742 -1.502,-1.455L-4.008,1.284C-4.695,1.951 -5.64,2.357 -6.676,2.357C-8.763,2.357 -10.455,0.717 -10.455,-1.309C-10.455,-3.343 -8.763,-4.987 -6.676,-4.987C-6.676,-4.987 -3.885,-5.351 -2.122,-1.988L-2.116,-4.962C-3.196,-6.236 -4.845,-7.049 -6.676,-7.049C-9.934,-7.049 -12.58,-4.479 -12.58,-1.309C-12.58,1.855 -9.934,4.419 -6.676,4.419C-5.053,4.419 -3.579,3.785 -2.509,2.739L0,0Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g id="g5614" transform="matrix(4.25245,0,0,-4.25245,623.424,794.231)">
                    <path id="path5616" d="M0,0C0,1.109 -0.844,2.245 -1.963,2.302L-1.963,2.35L6.416,2.35L6.416,2.302C5.304,2.24 4.456,1.103 4.456,0L4.456,-20.603C4.456,-21.709 5.304,-22.899 6.416,-22.965L6.416,-23.012L-1.963,-23.012L-1.963,-22.965C-0.844,-22.899 0,-21.709 0,-20.603L0,0Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g id="g5618" transform="matrix(4.25245,0,0,-4.25245,601.049,794.459)">
                    <path id="path5620" d="M0,0C0,1.108 0.842,2.294 1.962,2.355L1.962,2.404L-6.43,2.404L-6.43,2.355C-5.307,2.294 -4.469,1.108 -4.469,0L-4.462,-25.757C-4.462,-25.757 -4.556,-30.305 -8.22,-32.922L-8.211,-32.972C-7.488,-32.854 0.006,-31.471 0.006,-24.232L0,0Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g id="g5622" transform="matrix(4.25245,0,0,-4.25245,650.575,803.645)">
                    <path id="path5624" d="M0,0L0.05,0C1.186,1.977 2.938,2 2.938,2L7.481,2L7.484,-18.399C7.484,-19.503 6.639,-20.685 5.52,-20.751L5.52,-20.798L13.923,-20.798L13.923,-20.751C12.795,-20.685 11.947,-19.495 11.947,-18.399L11.953,2L15.75,2.009C16.903,2.009 17.816,1.115 17.849,0L17.895,0L19.29,4.572L1.399,4.572L0,0Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g id="g5626" transform="matrix(4.25245,0,0,-4.25245,828.405,863.105)">
                    <path id="path5628" d="M0,0C0,-2.638 2.2,-4.919 4.916,-4.919C7.625,-4.919 9.835,-2.608 9.835,0.031L9.835,16.143C9.835,17.251 8.991,18.437 7.873,18.498L7.873,18.546L16.265,18.554L16.265,18.498C15.152,18.437 14.304,17.251 14.304,16.143L14.304,0.487C14.304,-4.552 10.124,-7.488 4.934,-7.488C-0.247,-7.488 -4.471,-4.552 -4.471,0.487L-4.465,16.143C-4.465,17.251 -5.31,18.437 -6.431,18.498L-6.431,18.554L1.963,18.554L1.963,18.498C0.839,18.431 -0.006,17.244 -0.006,16.143L0,0Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
            </g>
        </g>
    </g>
</svg>
`,L0=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 205 89" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(1,0,0,1,-15488,-7383)">
        <g transform="matrix(1,0,0,1,12004.5,6770.4)">
            <g id="logo-duke" transform="matrix(1.28298,-3.91513e-20,3.91513e-20,-1.2833,3148,1036.67)">
                <path d="M365.85,330.14C365.635,330.14 365.421,330.087 365.206,329.984L359.742,327.904C359.155,327.689 358.728,327.517 358.461,327.384C358.195,327.25 358.063,327.05 358.063,326.784C358.063,326.41 358.261,326.168 358.661,326.062C359.06,325.956 359.516,325.81 360.022,325.623C360.529,325.436 360.983,325.115 361.383,324.662C361.784,324.208 361.983,323.448 361.983,322.381L361.983,282.201C361.983,281.348 361.889,280.707 361.702,280.28C361.516,279.854 361.235,279.532 360.862,279.318C360.488,279.106 360.06,278.946 359.581,278.84C359.101,278.734 358.595,278.6 358.062,278.438C357.636,278.333 357.29,278.212 357.022,278.08C356.755,277.946 356.622,277.693 356.622,277.318C356.622,276.946 356.875,276.72 357.381,276.64C357.888,276.562 358.275,276.519 358.542,276.519C359.236,276.519 360.132,276.571 361.225,276.673C362.321,276.775 363.352,276.827 364.32,276.827C365.232,276.827 366.116,276.775 366.972,276.673C367.83,276.571 368.739,276.519 369.7,276.519C370.127,276.519 370.54,276.574 370.941,276.679C371.34,276.786 371.541,276.997 371.541,277.316C371.541,277.69 371.313,277.915 370.861,277.994C370.408,278.074 369.859,278.222 369.22,278.437C368.845,278.541 368.459,278.767 368.058,279.112C367.659,279.459 367.461,280.083 367.461,280.988L367.461,292.321C367.461,292.586 367.647,292.721 368.02,292.721C368.18,292.721 368.421,292.561 368.742,292.242L380.822,280.83C381.408,280.244 381.7,279.817 381.7,279.553C381.7,279.286 381.554,279.046 381.261,278.834C380.966,278.621 380.609,278.488 380.18,278.437C379.487,278.329 378.927,278.208 378.5,278.076C378.074,277.942 377.863,277.691 377.863,277.317C377.863,276.944 378.047,276.72 378.422,276.64C378.795,276.562 379.408,276.52 380.261,276.52C381.22,276.52 382.18,276.571 383.141,276.673C384.1,276.775 385.115,276.828 386.182,276.828C387.409,276.828 388.528,276.775 389.542,276.673C390.555,276.571 391.489,276.52 392.342,276.52C393.729,276.52 394.422,276.786 394.422,277.319C394.422,277.585 394.25,277.799 393.903,277.959C393.555,278.118 393.089,278.317 392.503,278.558C391.916,278.798 391.235,279.105 390.461,279.478C389.687,279.853 388.902,280.41 388.102,281.156L374.261,293.712C374.153,293.817 374.019,293.964 373.861,294.151C373.7,294.338 373.62,294.564 373.62,294.831C373.62,295.044 374.314,295.617 375.7,296.55C377.086,297.483 378.674,298.481 380.461,299.548C382.248,300.614 383.98,301.613 385.661,302.546C387.341,303.479 388.474,304.078 389.062,304.346C389.327,304.452 389.687,304.573 390.142,304.706C390.595,304.838 391.035,304.985 391.464,305.145C391.889,305.304 392.247,305.478 392.542,305.665C392.835,305.852 392.981,306.052 392.981,306.265C392.981,306.691 392.823,306.959 392.503,307.065C392.182,307.171 391.836,307.226 391.464,307.226C390.662,307.226 389.715,307.199 388.622,307.148C387.528,307.097 386.472,307.07 385.461,307.07C384.392,307.07 383.312,307.097 382.22,307.148C381.127,307.199 380.154,307.226 379.3,307.226C379.033,307.226 378.781,307.144 378.541,306.985C378.301,306.824 378.181,306.639 378.181,306.425C378.181,306.104 378.339,305.85 378.661,305.662C378.98,305.476 379.327,305.29 379.701,305.104C380.075,304.917 380.42,304.676 380.742,304.382C381.06,304.088 381.22,303.674 381.22,303.142C381.22,302.874 380.913,302.488 380.3,301.981C379.687,301.475 378.928,300.9 378.02,300.261C377.115,299.619 376.114,298.952 375.02,298.257C373.926,297.563 372.9,296.937 371.94,296.376C370.98,295.815 370.14,295.362 369.42,295.015C368.7,294.668 368.287,294.495 368.18,294.495C367.701,294.495 367.461,294.922 367.461,295.776L367.461,328.698C367.461,329.285 367.368,329.672 367.178,329.858C366.992,330.046 366.79,330.14 366.575,330.14L365.85,330.14L365.85,330.14ZM284.978,326.281C282.413,326.281 280.13,326.205 278.128,326.051C276.124,325.896 274.135,325.818 272.159,325.818L264.876,325.818C264.608,325.818 264.303,325.806 263.955,325.779C263.608,325.753 263.276,325.698 262.956,325.618C262.636,325.537 262.356,325.402 262.117,325.217C261.875,325.03 261.756,324.777 261.756,324.457C261.756,324.03 261.928,323.775 262.275,323.695C262.622,323.616 263.249,323.523 264.156,323.417C264.688,323.363 265.261,323.322 265.875,323.295C266.489,323.269 267.076,323.214 267.636,323.135C268.195,323.055 268.661,322.922 269.034,322.734C269.408,322.548 269.595,322.269 269.595,321.895L269.595,284.256C269.595,283.082 269.489,282.175 269.275,281.535C269.062,280.893 268.783,280.402 268.436,280.054C268.089,279.707 267.702,279.465 267.276,279.332C266.849,279.198 266.422,279.104 265.995,279.051C264.768,278.838 263.969,278.571 263.595,278.251C263.221,277.932 263.036,277.61 263.036,277.29C263.036,276.878 263.221,276.647 263.595,276.596C263.969,276.545 264.261,276.52 264.475,276.52C265.435,276.52 266.581,276.571 267.914,276.673C269.248,276.776 270.503,276.828 271.678,276.828L290.586,276.828C294.004,276.828 297.222,277.402 300.241,278.548C303.26,279.695 305.89,281.254 308.133,283.229C310.375,285.203 312.15,287.524 313.459,290.192C314.768,292.858 315.424,295.686 315.424,298.673C315.424,303.475 314.622,307.623 313.02,311.118C311.417,314.611 309.24,317.478 306.489,319.719C303.738,321.959 300.52,323.613 296.836,324.68C293.149,325.747 289.198,326.28 284.978,326.28L284.978,326.281ZM283.206,323.89C284.865,323.89 286.632,323.69 288.506,323.29C290.379,322.89 292.227,322.262 294.047,321.409C295.867,320.555 297.62,319.489 299.306,318.209C300.991,316.929 302.479,315.406 303.764,313.646C305.05,311.885 306.065,309.885 306.814,307.645C307.564,305.405 307.939,302.923 307.939,300.204C307.939,297.482 307.564,295.067 306.814,292.96C306.065,290.854 305.076,289.012 303.845,287.438C302.613,285.864 301.222,284.519 299.669,283.398C298.116,282.277 296.564,281.384 295.011,280.717C293.459,280.05 291.959,279.557 290.514,279.237C289.068,278.915 287.81,278.756 286.74,278.756C285.454,278.756 284.198,278.915 282.967,279.237C281.734,279.557 280.637,280.05 279.673,280.717C278.709,281.384 277.933,282.223 277.345,283.237C276.757,284.25 276.462,285.452 276.462,286.84L276.462,321.329C276.462,321.595 276.502,321.889 276.583,322.209C276.663,322.528 276.916,322.808 277.345,323.049C277.773,323.289 278.443,323.49 279.353,323.651C280.262,323.81 281.546,323.89 283.206,323.89L283.206,323.89ZM408.456,308.537C405.952,308.537 403.793,308.002 401.983,306.934C400.172,305.866 398.666,304.517 397.467,302.887C396.268,301.257 395.378,299.441 394.792,297.437C394.206,295.434 393.912,293.499 393.912,291.629C393.912,286.606 395.117,282.641 397.528,279.729C399.938,276.818 403.358,275.362 407.786,275.362C409.866,275.362 411.639,275.67 413.106,276.285C414.572,276.9 415.784,277.599 416.745,278.375C417.705,279.151 418.399,279.874 418.825,280.54C419.254,281.207 419.467,281.62 419.467,281.781C419.467,282.207 419.224,282.42 418.745,282.42C418.425,282.42 418.131,282.246 417.866,281.898C417.598,281.552 417.224,281.18 416.745,280.779C416.265,280.378 415.599,280.02 414.745,279.699C413.89,279.378 412.692,279.22 411.145,279.22C408.691,279.22 406.703,279.605 405.183,280.382C403.663,281.157 402.491,282.162 401.664,283.392C400.837,284.62 400.277,286.037 399.984,287.642C399.69,289.245 399.545,290.901 399.545,292.614L399.545,294.298C399.545,294.778 399.595,295.153 399.698,295.421L419.164,295.421C419.857,295.421 420.296,295.541 420.482,295.781C420.667,296.021 420.761,296.513 420.761,297.26C420.761,298.112 420.548,299.18 420.121,300.459C419.695,301.739 419.003,302.979 418.044,304.178C417.085,305.378 415.819,306.404 414.247,307.257C412.675,308.111 410.747,308.537 408.457,308.537L408.456,308.537ZM319.533,307.226C318.946,307.226 318.467,307.198 318.094,307.145C317.72,307.091 317.533,306.879 317.533,306.504C317.533,306.237 317.692,306.036 318.013,305.904C318.333,305.77 318.974,305.571 319.933,305.304C320.413,305.197 320.921,305.063 321.453,304.904C321.986,304.744 322.253,304.369 322.253,303.782C322.253,302.607 322.24,301.287 322.214,299.82C322.188,298.353 322.177,296.844 322.177,295.296C322.177,293.8 322.163,292.308 322.138,290.814C322.112,289.318 322.1,287.958 322.1,286.731C322.1,285.022 322.245,283.472 322.539,282.085C322.833,280.698 323.339,279.498 324.06,278.482C324.781,277.468 325.767,276.698 327.02,276.164C328.274,275.631 329.836,275.362 331.703,275.362C333.305,275.362 334.732,275.612 335.986,276.11C337.24,276.608 338.333,277.163 339.267,277.776C340.2,278.389 340.962,278.937 341.548,279.417C342.135,279.896 342.588,280.137 342.909,280.137C343.283,280.137 343.469,279.817 343.469,279.178L343.469,277.337C343.469,276.963 343.494,276.658 343.547,276.417C343.598,276.176 343.779,276.057 344.089,276.057C344.466,276.057 345.462,276.214 347.078,276.529C348.694,276.845 350.914,277.214 353.742,277.635C354.328,277.742 354.743,277.846 354.983,277.953C355.221,278.057 355.344,278.268 355.344,278.584C355.344,279.005 355.035,279.241 354.422,279.293C353.808,279.347 352.728,279.374 351.181,279.374C350.808,279.374 350.367,279.478 349.861,279.693C349.353,279.906 349.102,280.44 349.102,281.295C349.102,285.35 349.152,289.39 349.256,293.418C349.358,297.447 349.411,301.489 349.411,305.545C349.411,306.291 349.197,306.757 348.766,306.945C348.339,307.132 347.991,307.226 347.724,307.226C346.919,307.226 346.13,307.199 345.352,307.148C344.576,307.097 343.785,307.071 342.984,307.071C342.29,307.071 341.61,307.097 340.944,307.148C340.276,307.199 339.597,307.226 338.905,307.226C338.478,307.226 338.077,307.184 337.703,307.104C337.33,307.024 337.144,306.852 337.144,306.585C337.144,306.265 337.45,305.999 338.064,305.785C338.677,305.572 339.144,305.411 339.464,305.304C340.424,305.037 341.171,304.837 341.703,304.704C342.236,304.57 342.65,304.451 342.944,304.345C343.237,304.239 343.425,304.105 343.505,303.943C343.584,303.784 343.625,303.597 343.625,303.384C343.625,300.504 343.598,297.65 343.547,294.824C343.494,291.996 343.469,289.143 343.469,286.26C343.469,285.461 343.375,284.632 343.189,283.779C343.004,282.925 342.591,282.166 341.952,281.499C341.314,280.833 340.367,280.287 339.116,279.86C337.865,279.432 336.121,279.218 333.886,279.218C331.916,279.218 330.371,279.66 329.253,280.54C328.134,281.42 327.577,282.686 327.577,284.34C327.577,287.914 327.602,291.474 327.655,295.021C327.705,298.569 327.73,302.129 327.73,305.705C327.73,306.29 327.664,306.689 327.53,306.903C327.395,307.117 327.059,307.225 326.522,307.225C325.932,307.225 325.341,307.198 324.75,307.147C324.16,307.096 323.569,307.071 322.978,307.071C322.388,307.071 321.812,307.096 321.253,307.147C320.694,307.198 320.119,307.225 319.533,307.225L319.533,307.226ZM409.594,306.609C411.301,306.609 412.714,306.142 413.835,305.209C414.954,304.276 415.514,303.118 415.514,301.731C415.514,300.984 415.422,300.372 415.233,299.892C415.047,299.412 414.661,299.013 414.075,298.693C413.488,298.373 412.66,298.145 411.594,298.012C410.527,297.878 409.113,297.812 407.353,297.812C405.646,297.812 404.326,297.827 403.393,297.853C402.46,297.879 401.766,297.919 401.313,297.973C400.86,298.025 400.591,298.093 400.511,298.173C400.433,298.252 400.393,298.372 400.393,298.532C400.393,299.171 400.606,299.944 401.033,300.851C401.459,301.757 402.058,302.637 402.833,303.49C403.607,304.342 404.567,305.075 405.714,305.689C406.86,306.301 408.154,306.609 409.594,306.609L409.594,306.609ZM368.586,270.55C366.982,270.55 365.714,269.629 365.714,268.123C365.714,266.567 366.596,266.108 368.438,265.561C369.893,265.125 370.403,264.789 370.403,264.117C370.403,263.27 369.819,262.848 368.6,262.848C367.779,262.848 366.92,263.246 366.335,263.881L365.403,262.973C366.135,262.114 367.231,261.567 368.5,261.567C370.727,261.567 371.72,262.637 371.72,264.204C371.72,265.759 370.652,266.307 368.933,266.829C367.429,267.276 367.031,267.576 367.031,268.186C367.031,268.77 367.467,269.268 368.488,269.268C369.346,269.268 369.967,268.994 370.514,268.434L371.436,269.368C370.665,270.114 369.767,270.55 368.586,270.55L368.586,270.55ZM267.386,270.414L267.386,265.361C267.386,262.961 268.506,261.567 270.658,261.567C272.823,261.567 274.005,262.897 274.005,265.336L274.005,270.414L272.697,270.414L272.697,265.311C272.697,263.719 272.051,262.875 270.683,262.875C269.376,262.875 268.692,263.757 268.692,265.4L268.692,270.414L267.386,270.414L267.386,270.414ZM302.569,270.414L302.569,261.705L303.875,261.705L303.875,270.414L302.569,270.414ZM382.442,270.414L382.442,261.705L383.748,261.705L383.748,270.414L382.442,270.414ZM410.42,270.414L413.544,265.15L413.544,261.705L414.851,261.705L414.851,265.15L417.972,270.414L416.467,270.414L415.098,268C414.788,267.439 414.352,266.605 414.203,266.283C414.053,266.605 413.606,267.476 413.307,268.011L411.951,270.414L410.42,270.414L410.42,270.414ZM284.92,270.412L284.92,261.704L286.187,261.704L286.187,266.22C286.187,266.705 286.176,267.912 286.176,268.235C286.312,268.011 286.612,267.488 286.823,267.165L290.294,261.704L291.539,261.704L291.539,270.412L290.269,270.412L290.269,265.921C290.269,265.435 290.283,264.192 290.283,263.868C290.158,264.092 289.785,264.739 289.561,265.099L286.251,270.412L284.92,270.412ZM314.368,270.412L317.39,261.704L318.771,261.704L321.757,270.412L320.365,270.412L318.573,264.876C318.411,264.366 318.161,263.583 318.087,263.27C318.012,263.583 317.763,264.354 317.602,264.864L315.785,270.412L314.368,270.412L314.368,270.412ZM332.182,270.412L332.182,261.704L337.981,261.704L337.981,262.973L333.49,262.973L333.49,265.721L335.99,265.721L335.99,266.99L333.49,266.99L333.49,269.143L337.793,269.143L337.793,270.412L332.182,270.412ZM348.543,270.412L348.543,261.704L349.824,261.704L349.824,265.149L351.79,265.149L353.518,261.704L355.026,261.704L353.246,265.262C354.428,265.561 355.162,266.419 355.162,267.812C355.162,269.605 353.881,270.412 352.363,270.412L348.543,270.412ZM394.24,270.412L394.24,269.131L396.778,269.131L396.778,261.704L398.084,261.704L398.084,269.131L400.621,269.131L400.621,270.412L394.24,270.412ZM349.824,269.181L352.363,269.181C353.246,269.181 353.843,268.683 353.843,267.775C353.843,266.829 353.234,266.381 352.363,266.381L349.824,266.381L349.824,269.181Z" style="fill:white;fill-rule:nonzero;"/>
            </g>
        </g>
    </g>
</svg>
`,k0=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 421 89" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(1,0,0,1,-15773,-7385)">
        <g transform="matrix(1,0,0,1,12004.5,6770.4)">
            <g id="logo-ubc" transform="matrix(2.18179,0,0,2.18179,2995.63,-783.907)">
                <g transform="matrix(1,0,0,1,0,542.714)">
                    <path d="M369.173,113.436L370.75,124.872L375.93,116.214L373.731,125.737L379.318,120.393L376.408,127.448L381.056,123.98C378.893,129.867 377.008,133.167 369.173,135.85C361.337,133.167 359.453,129.867 357.289,123.98L361.936,127.448L359.027,120.393L364.614,125.737L362.414,116.214L367.596,124.872L369.173,113.436Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(1,0,0,1,0,504.121)">
                    <path d="M360.965,148.197C358.591,148.197 357.173,146.926 357.173,144.792L357.173,139.682L359.142,139.682L359.142,144.711C359.142,145.952 359.794,146.634 360.98,146.634C362.197,146.634 362.842,145.98 362.842,144.747L362.842,139.682L364.824,139.682L364.824,144.758C364.824,146.88 363.345,148.197 360.965,148.197" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(1,0,0,1,0,503.979)">
                    <path d="M369.246,148.197L366.497,148.197L366.497,139.823L369.287,139.823C371.326,139.823 372.45,140.615 372.45,142.047C372.45,142.801 372.057,143.381 371.307,143.736C372.312,144.091 372.823,144.756 372.823,145.716C372.823,147.317 371.554,148.197 369.246,148.197M368.399,146.798L369.246,146.798C370.012,146.798 370.921,146.603 370.921,145.67C370.921,144.708 369.996,144.503 369.218,144.503L368.399,144.503L368.399,146.798ZM368.399,143.187L369.114,143.187C370.072,143.187 370.602,142.828 370.602,142.177C370.602,141.536 370.14,141.223 369.192,141.223L368.399,141.223L368.399,143.187Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(1,0,0,1,0,503.981)">
                    <path d="M378.337,148.337C375.627,148.337 373.876,146.645 373.876,144.02C373.876,141.426 375.691,139.682 378.39,139.682C379.391,139.682 380.234,139.879 380.966,140.285L381.03,140.321L380.736,142.026L380.606,141.94C379.888,141.457 379.204,141.234 378.457,141.234C376.847,141.234 375.884,142.272 375.884,144.01C375.884,145.715 376.88,146.774 378.484,146.774C379.243,146.774 379.991,146.545 380.77,146.077L380.898,146L381.175,147.59L381.114,147.626C380.315,148.084 379.329,148.337 378.337,148.337" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(1,0,0,1,0,530.673)">
                    <path d="M369.173,149.664C359.922,147.043 355.508,140.936 355.508,132.23L355.508,111.621L382.837,111.621L382.837,132.23C382.837,140.936 378.422,147.043 369.173,149.664M354.388,110.501L354.388,132.37C354.388,141.561 359.388,148.215 369.173,150.825C378.956,148.215 383.958,141.561 383.958,132.37L383.958,110.501L354.388,110.501Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(1,0,0,1,0,517.213)">
                    <path d="M369.173,137.93C371.234,137.93 371.514,138.767 373.174,138.756C374.828,138.767 375.112,137.93 377.174,137.93C379.235,137.93 379.519,138.767 381.174,138.756L381.174,136.836C379.519,136.847 379.235,136.021 377.174,136.021C375.112,136.021 374.828,136.847 373.174,136.836C371.514,136.847 371.234,136.021 369.173,136.021C367.111,136.021 366.832,136.847 365.172,136.836C363.518,136.847 363.234,136.021 361.172,136.021C359.111,136.021 358.826,136.847 357.172,136.836L357.172,138.756C358.826,138.767 359.111,137.93 361.172,137.93C363.234,137.93 363.518,138.767 365.172,138.756C366.832,138.767 367.111,137.93 369.173,137.93" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(1,0,0,1,0,523.869)">
                    <path d="M370.479,134.743C371.474,134.981 371.947,135.435 373.174,135.428C374.828,135.438 375.112,134.602 377.173,134.602C379.235,134.602 379.519,135.438 381.174,135.428L381.174,133.508C379.519,133.519 379.235,132.693 377.173,132.693C375.112,132.693 374.828,133.519 373.174,133.508C371.841,133.516 371.397,132.986 370.208,132.777L370.479,134.743Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(1,0,0,1,0,523.868)">
                    <path d="M365.172,135.428C366.398,135.436 366.871,134.982 367.865,134.743L368.137,132.777C366.948,132.987 366.504,133.517 365.172,133.508C363.518,133.519 363.234,132.693 361.172,132.693C359.11,132.693 358.826,133.519 357.172,133.508L357.172,135.428C358.826,135.438 359.11,134.602 361.172,134.602C363.234,134.602 363.518,135.438 365.172,135.428" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(1,0,0,1,0,530.675)">
                    <path d="M370.957,131.405C371.519,131.598 371.952,131.834 372.62,131.918L373.772,129.993C373.592,130.017 373.395,130.031 373.174,130.03C372.033,130.037 371.544,129.65 370.682,129.407L370.957,131.405Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(1,0,0,1,0,530.524)">
                    <path d="M376.235,131.343C376.505,131.3 376.811,131.274 377.173,131.274C379.235,131.274 379.519,132.111 381.174,132.1L381.174,130.18C379.519,130.191 379.235,129.365 377.173,129.365C376.999,129.365 376.838,129.372 376.688,129.383L376.235,131.343Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(1,0,0,1,0,530.524)">
                    <path d="M362.11,131.343L361.657,129.383C361.507,129.372 361.346,129.365 361.172,129.365C359.111,129.365 358.826,130.191 357.172,130.18L357.172,132.1C358.826,132.111 359.111,131.274 361.172,131.274C361.534,131.274 361.84,131.3 362.11,131.343" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(1,0,0,1,0,530.675)">
                    <path d="M365.725,131.918C366.393,131.834 366.825,131.598 367.388,131.405L367.663,129.407C366.801,129.65 366.312,130.037 365.172,130.029C364.95,130.031 364.753,130.017 364.573,129.992L365.725,131.918Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(1,0,0,1,0,504.961)">
                    <path d="M401.84,147.215L400.393,147.215L400.393,141.113L398.12,141.113L398.12,139.823L404.029,139.823L404.223,141.113L401.84,141.113L401.84,147.215Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(1,0,0,1,0,504.961)">
                    <path d="M413.023,147.215L411.575,147.215L411.575,144.028L408.392,144.028L408.392,147.215L406.96,147.215L406.96,139.823L408.392,139.823L408.392,142.71L411.575,142.71L411.575,139.823L413.023,139.823L413.023,147.215Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(1,0,0,1,0,504.961)">
                    <path d="M421.9,147.215L417.149,147.215L417.149,139.823L421.8,139.823L421.8,141.1L418.583,141.1L418.583,142.736L421.144,142.736L421.354,144.013L418.583,144.013L418.583,145.938L421.9,145.938L421.9,147.215Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(1,0,0,1,0,505.102)">
                    <path d="M433.041,147.216C431.152,147.216 430.025,146.083 430.025,144.184L430.025,139.682L431.457,139.682L431.457,144.127C431.457,145.315 432.024,145.969 433.054,145.969C434.11,145.969 434.667,145.344 434.667,144.157L434.667,139.682L436.114,139.682L436.114,144.127C436.114,146.063 434.965,147.216 433.041,147.216" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(1,0,0,1,0,504.961)">
                    <path d="M446.091,147.215L444.848,147.215L441.332,142.034L441.332,147.215L440.013,147.215L440.013,139.823L441.415,139.823L444.771,144.785L444.771,139.823L446.091,139.823L446.091,147.215Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(1,0,0,1,0,504.962)">
                    <rect x="450.199" y="139.823" width="1.448" height="7.392" style="fill:white;"/>
                </g>
                <g transform="matrix(1,0,0,1,0,504.935)">
                    <path d="M458.651,147.354L457.351,147.354L454.499,140.026L455.947,139.71L458.057,145.48L460.122,139.849L461.58,139.849L458.651,147.354Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(1,0,0,1,0,504.961)">
                    <path d="M469.057,147.215L464.306,147.215L464.306,139.823L468.957,139.823L468.957,141.1L465.741,141.1L465.741,142.736L468.301,142.736L468.513,144.013L465.741,144.013L465.741,145.938L469.057,145.938L469.057,147.215Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(1,0,0,1,0,505.055)">
                    <path d="M474.12,143.172L474.993,143.172C475.885,143.172 476.376,142.775 476.376,142.046C476.376,141.174 475.623,140.991 474.993,140.991L474.12,140.991L474.12,143.172ZM476.904,147.216L474.798,144.322L474.12,144.322L474.12,147.122L472.684,147.122L472.684,139.73L475.005,139.73C476.761,139.73 477.809,140.59 477.809,142.033C477.809,143.041 477.302,143.76 476.339,144.124L478.39,146.88L476.904,147.216Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(1,0,0,1,0,504.958)">
                    <path d="M483.656,147.317C482.873,147.317 481.977,147.124 481.143,146.769L481.088,146.747L481.302,145.431L481.39,145.478C482.13,145.865 483.041,146.113 483.715,146.113C484.528,146.113 485.055,145.754 485.055,145.202C485.055,144.652 484.711,144.439 483.675,144.085C482.125,143.543 481.339,143.054 481.339,141.885C481.339,140.615 482.368,139.726 483.841,139.726C484.589,139.726 485.347,139.882 485.971,140.161L486.022,140.185L485.813,141.528L485.722,141.481C485.032,141.121 484.403,140.946 483.8,140.946C483.155,140.946 482.67,141.282 482.67,141.728C482.67,142.221 483.006,142.409 484.151,142.803C485.6,143.309 486.388,143.816 486.388,145.045C486.388,146.402 485.29,147.317 483.656,147.317" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(1,0,0,1,0,504.962)">
                    <rect x="489.966" y="139.823" width="1.448" height="7.392" style="fill:white;"/>
                </g>
                <g transform="matrix(1,0,0,1,0,504.961)">
                    <path d="M497.923,147.215L496.478,147.215L496.478,141.113L494.207,141.113L494.207,139.823L500.115,139.823L500.308,141.113L497.923,141.113L497.923,147.215Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(1,0,0,1,0,504.824)">
                    <path d="M505.656,147.352L504.209,147.352L504.209,144.498L501.565,140.138L503.034,139.823L504.952,143.186L506.811,139.96L508.399,139.96L505.656,144.483L505.656,147.352Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(1,0,0,1,0,534.532)">
                    <path d="M401.68,126.142C400.426,126.142 399.58,127.181 399.58,128.726C399.58,130.24 400.463,131.339 401.68,131.339C402.926,131.339 403.765,130.295 403.765,128.741C403.765,127.236 402.888,126.142 401.68,126.142M401.68,132.571C399.909,132.571 398.119,131.256 398.119,128.741C398.119,126.216 399.909,124.897 401.68,124.897C403.442,124.897 405.224,126.21 405.224,128.726C405.224,131.25 403.442,132.571 401.68,132.571" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(1,0,0,1,0,534.532)">
                    <path d="M409.981,132.43L408.551,132.43L408.551,125.038L413.084,125.038L413.084,126.315L409.981,126.315L409.981,128.066L412.416,128.066L412.626,129.342L409.981,129.342L409.981,132.43Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(1,0,0,1,0,534.532)">
                    <path d="M422.284,127.982L423.225,127.982C424.05,127.982 424.464,127.675 424.464,127.07C424.464,126.722 424.34,126.258 423.267,126.258L422.284,126.258L422.284,127.982ZM422.284,131.226L423.353,131.226C424.313,131.226 424.779,130.899 424.779,130.226C424.779,129.518 424.306,129.156 423.368,129.156L422.284,129.156L422.284,131.226ZM423.34,132.431L420.907,132.431L420.907,125.038L423.325,125.038C424.882,125.038 425.81,125.755 425.81,126.955C425.81,127.663 425.503,128.186 424.891,128.513C425.72,128.814 426.143,129.39 426.143,130.226C426.143,131.646 425.145,132.431 423.34,132.431" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(1,0,0,1,0,534.625)">
                    <path d="M431.074,128.386L431.944,128.386C432.834,128.386 433.326,127.989 433.326,127.261C433.326,126.388 432.575,126.206 431.944,126.206L431.074,126.206L431.074,128.386ZM433.852,132.431L431.747,129.536L431.074,129.536L431.074,132.337L429.639,132.337L429.639,124.945L431.958,124.945C433.713,124.945 434.759,125.805 434.759,127.248C434.759,128.256 434.251,128.975 433.291,129.339L435.341,132.094L433.852,132.431Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(1,0,0,1,0,534.532)">
                    <rect x="438.506" y="125.038" width="1.45" height="7.392" style="fill:white;"/>
                </g>
                <g transform="matrix(1,0,0,1,0,534.532)">
                    <path d="M446.475,132.43L445.03,132.43L445.03,126.328L442.757,126.328L442.757,125.038L448.667,125.038L448.859,126.328L446.475,126.328L446.475,132.43Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(1,0,0,1,0,534.532)">
                    <rect x="451.504" y="125.038" width="1.448" height="7.392" style="fill:white;"/>
                </g>
                <g transform="matrix(1,0,0,1,0,534.528)">
                    <path d="M458.921,132.531C458.136,132.531 457.243,132.338 456.406,131.983L456.352,131.961L456.563,130.645L456.652,130.692C457.396,131.079 458.309,131.327 458.977,131.327C459.791,131.327 460.319,130.968 460.319,130.416C460.319,129.866 459.974,129.653 458.938,129.299C457.391,128.757 456.601,128.268 456.601,127.099C456.601,125.829 457.634,124.94 459.108,124.94C459.854,124.94 460.609,125.096 461.235,125.375L461.287,125.399L461.078,126.742L460.988,126.695C460.298,126.335 459.667,126.16 459.063,126.16C458.421,126.16 457.935,126.496 457.935,126.942C457.935,127.435 458.269,127.623 459.416,128.017C460.864,128.523 461.65,129.03 461.65,130.259C461.65,131.616 460.554,132.531 458.921,132.531" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(1,0,0,1,0,534.532)">
                    <path d="M470.862,132.43L469.414,132.43L469.414,129.243L466.233,129.243L466.233,132.43L464.8,132.43L464.8,125.038L466.233,125.038L466.233,127.925L469.414,127.925L469.414,125.038L470.862,125.038L470.862,132.43Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(1,0,0,1,0,534.533)">
                    <path d="M481.963,132.571C479.835,132.571 478.403,131.038 478.403,128.754C478.403,126.446 479.835,124.897 481.963,124.897C482.807,124.897 483.485,125.075 484.09,125.463L484.13,125.49L483.903,126.842L483.805,126.77C483.22,126.331 482.652,126.126 482.007,126.126C480.676,126.126 479.88,127.107 479.88,128.741C479.88,130.352 480.703,131.352 482.035,131.352C482.673,131.352 483.337,131.125 483.95,130.695L484.046,130.627L484.244,131.891L484.203,131.915C483.562,132.337 482.768,132.571 481.963,132.571" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(1,0,0,1,0,534.532)">
                    <path d="M490.459,126.142C489.203,126.142 488.359,127.181 488.359,128.726C488.359,130.24 489.242,131.339 490.459,131.339C491.703,131.339 492.542,130.295 492.542,128.741C492.542,127.236 491.666,126.142 490.459,126.142M490.459,132.571C488.687,132.571 486.899,131.256 486.899,128.741C486.899,126.216 488.687,124.897 490.459,124.897C492.218,124.897 494.003,126.21 494.003,128.726C494.003,131.25 492.218,132.571 490.459,132.571" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(1,0,0,1,0,534.532)">
                    <path d="M501.542,132.43L497.169,132.43L497.169,125.038L498.602,125.038L498.602,131.166L501.337,131.166L501.542,132.43Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(1,0,0,1,0,534.673)">
                    <path d="M507.106,132.431C505.218,132.431 504.09,131.298 504.09,129.399L504.09,124.897L505.524,124.897L505.524,129.342C505.524,130.53 506.089,131.184 507.122,131.184C508.175,131.184 508.73,130.559 508.73,129.371L508.73,124.897L510.181,124.897L510.181,129.342C510.181,131.278 509.031,132.431 507.106,132.431" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(1,0,0,1,0,534.559)">
                    <path d="M518.759,132.43L517.373,132.43L515.401,126.825L514.991,132.403L513.674,132.403L514.256,125.011L516.205,125.011L518.14,130.673L520.101,125.011L522.008,125.011L522.59,132.403L521.157,132.403L520.735,126.825L518.759,132.43Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(1,0,0,1,0,534.532)">
                    <path d="M527.838,127.982L528.779,127.982C529.601,127.982 530.017,127.675 530.017,127.07C530.017,126.722 529.896,126.258 528.821,126.258L527.838,126.258L527.838,127.982ZM527.838,131.226L528.904,131.226C529.866,131.226 530.334,130.899 530.334,130.226C530.334,129.518 529.858,129.156 528.92,129.156L527.838,129.156L527.838,131.226ZM528.892,132.431L526.461,132.431L526.461,125.038L528.877,125.038C530.438,125.038 531.368,125.755 531.368,126.955C531.368,127.663 531.056,128.186 530.446,128.513C531.272,128.814 531.695,129.39 531.695,130.226C531.695,131.646 530.701,132.431 528.892,132.431" style="fill:white;fill-rule:nonzero;"/>
                </g>
                <g transform="matrix(1,0,0,1,0,534.532)">
                    <rect x="535.322" y="125.038" width="1.449" height="7.392" style="fill:white;"/>
                </g>
                <g transform="matrix(1,0,0,1,0,534.585)">
                    <path d="M542.125,129.285L544.271,129.285C544.141,128.908 543.601,127.457 543.204,126.387L542.125,129.285ZM545.47,132.516L544.755,130.561L541.655,130.561L540.982,132.377L539.566,132.377L542.482,124.899L544.013,124.899L546.89,132.197L545.47,132.516Z" style="fill:white;fill-rule:nonzero;"/>
                </g>
            </g>
        </g>
    </g>
</svg>
`,T0=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 97 80" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(1,0,0,1,-15877,-7081)">
        <g transform="matrix(1,0,0,1,12004.5,6770.4)">
            <g id="icon-copy-box" transform="matrix(1,0,0,1,3862.97,385.793)">
                <path d="M22.217,-14.209L32.129,-14.209L32.129,-21.24L22.315,-21.24C18.799,-21.24 16.797,-23.145 16.797,-26.856L16.797,-62.012C16.797,-65.723 18.799,-67.578 22.315,-67.578L73.731,-67.578C77.246,-67.578 79.248,-65.723 79.248,-62.012L79.248,-53.467L86.279,-53.467L86.279,-62.353C86.279,-70.557 82.129,-74.658 73.828,-74.658L22.217,-74.658C13.867,-74.658 9.766,-70.557 9.766,-62.353L9.766,-26.465C9.766,-18.262 13.867,-14.209 22.217,-14.209Z" style="fill-rule:nonzero;"/>
                <path d="M41.602,4.15L93.311,4.15C101.611,4.15 105.762,0.049 105.762,-8.105L105.762,-44.043C105.762,-52.246 101.611,-56.299 93.311,-56.299L41.602,-56.299C33.252,-56.299 29.15,-52.246 29.15,-44.043L29.15,-8.105C29.15,0.098 33.252,4.15 41.602,4.15ZM41.699,-2.881C38.184,-2.881 36.182,-4.785 36.182,-8.496L36.182,-43.652C36.182,-47.363 38.184,-49.268 41.699,-49.268L93.213,-49.268C96.729,-49.268 98.731,-47.363 98.731,-43.652L98.731,-8.496C98.731,-4.785 96.729,-2.881 93.213,-2.881L41.699,-2.881ZM49.512,-26.074C49.512,-23.926 51.025,-22.461 53.272,-22.461L63.818,-22.461L63.818,-11.865C63.818,-9.668 65.283,-8.154 67.432,-8.154C69.629,-8.154 71.143,-9.668 71.143,-11.865L71.143,-22.461L81.69,-22.461C83.887,-22.461 85.4,-23.926 85.4,-26.074C85.4,-28.272 83.887,-29.785 81.69,-29.785L71.143,-29.785L71.143,-40.332C71.143,-42.578 69.629,-44.092 67.432,-44.092C65.283,-44.092 63.818,-42.578 63.818,-40.332L63.818,-29.785L53.272,-29.785C51.025,-29.785 49.512,-28.272 49.512,-26.074Z" style="fill-rule:nonzero;"/>
            </g>
        </g>
    </g>
</svg>
`,M0=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 72 73" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(1,0,0,1,-15710,-6897)">
        <g transform="matrix(1,0,0,1,12004.5,6770.4)">
            <g id="icon-check-box" transform="matrix(1,0,0,1,3696.35,198.225)">
                <path d="M22.217,0.391L68.457,0.391C72.624,0.391 75.741,-0.635 77.808,-2.686C79.875,-4.736 80.908,-7.813 80.908,-11.914L80.908,-58.496C80.908,-62.598 79.875,-65.674 77.808,-67.725C75.741,-69.775 72.624,-70.801 68.457,-70.801L22.217,-70.801C18.083,-70.801 14.974,-69.775 12.891,-67.725C10.807,-65.674 9.766,-62.598 9.766,-58.496L9.766,-11.914C9.766,-7.813 10.807,-4.736 12.891,-2.686C14.974,-0.635 18.083,0.391 22.217,0.391ZM22.315,-6.689C20.557,-6.689 19.198,-7.153 18.237,-8.081C17.277,-9.009 16.797,-10.4 16.797,-12.256L16.797,-58.154C16.797,-59.977 17.277,-61.361 18.237,-62.305C19.198,-63.249 20.557,-63.721 22.315,-63.721L68.359,-63.721C70.117,-63.721 71.476,-63.249 72.437,-62.305C73.397,-61.361 73.877,-59.977 73.877,-58.154L73.877,-12.256C73.877,-10.4 73.397,-9.009 72.437,-8.081C71.476,-7.153 70.117,-6.689 68.359,-6.689L22.315,-6.689Z" style="fill-rule:nonzero;"/>
                <path d="M41.162,-17.09C42.627,-17.09 43.799,-17.773 44.678,-19.141L61.475,-45.703C61.735,-46.126 61.979,-46.574 62.207,-47.046C62.435,-47.518 62.549,-48.014 62.549,-48.535C62.549,-49.512 62.183,-50.285 61.45,-50.855C60.718,-51.424 59.896,-51.709 58.984,-51.709C57.78,-51.709 56.787,-51.058 56.006,-49.756L40.967,-25.44L34.228,-34.522C33.708,-35.205 33.187,-35.669 32.666,-35.913C32.145,-36.157 31.592,-36.279 31.006,-36.279C30.062,-36.279 29.264,-35.938 28.613,-35.254C27.962,-34.57 27.637,-33.756 27.637,-32.813C27.637,-31.869 27.962,-30.973 28.613,-30.127L37.402,-19.141C37.956,-18.392 38.533,-17.863 39.136,-17.554C39.738,-17.244 40.413,-17.09 41.162,-17.09Z" style="fill-rule:nonzero;"/>
            </g>
        </g>
    </g>
</svg>
`;var be={tool:[`It is essential to understand how machine learning (ML) models make predictions in high-stakes settings such as healthcare, finance, and criminal justice. ML researchers have made great strides in developing interpretable models, and recent research focuses on <strong>operationalizing interpretability</strong> \u2014 leveraging an understanding of the domain to create more responsible and trustworthy ML systems.
`,`To help ML practitioners build trustworthy models, researchers have very recently developed a technique to generate the set of almost-optimal sparse interpretable decision trees. This set of high-performing models is called the <a target="_blank" href="https://arxiv.org/abs/2209.08040">Rashomon set</a>, named after the <a target="_blank" href="https://projecteuclid.org/journals/statistical-science/volume-16/issue-3/Statistical-Modeling--The-Two-Cultures-with-comments-and-a/10.1214/ss/1009213726.full">Rashomon effect</a> in statistics. Using the <a href='https://arxiv.org/abs/2209.08040' target='_blank'>TreeFARMS algorithm</a>, we can generate the whole Rashomon set of sparse decision trees. This set can contain <em>thousands of</em> inherently interpretable and almost-equally accurate models, providing opportunities for users to choose ones that best align with their knowledge and needs (e.g., fairness, monotonicity, simplicity). However, the large size of Rashomon sets and the diversity of contained models pose challenges for users to effectively explore and compare all these good models. TimberTrek is the first interactive visualization tool designed to tackle this critical challenge through <strong>summarizing the whole Rashomon set</strong> of sparse decision trees and empowering users to <strong>curate trees</strong> that meet their needs.
`],usage:{p1:`With a flexible interface design, there are two options to use TimberTrek to explore your Rashomon sets. The first option is to select <a href='#top' style="font-variant: small-caps;">my own set</a> on the top of this page, and then upload your Rashomon trie data by dragging it to the interface (Video 2-1). You can follow the instruction in the tool to learn how to generate the Rashomon JSON file.
`,p2:`You can directly use TimberTrek in any computational notebook, such as Jupyter Notebook & Lab, Google Colab, and VS Code Notebook. To do that, you only need to install TimberTrek's Python package via <code>pip install timbertrek</code>. Then you can create a TimberTrek instance by passing your Rashomon trie data. With <a href="https://github.com/xiaohk/stickyland" target="_blank">Sticky Cells</a>, you can even create multiple repositionable TimberTrek windows and compare different subsets of a Rashomon set side by side! Try TimberTrek in the Jupyter Notebook below
`},tutorial:{p1:`With multiple tightly integrated views, you can use TimberTrek to <em>explore</em>, <em>compare</em>, and <em>curate</em> sparse decision trees that align with your knowledge and values.
`,items:[{id:"summary",name:"Rashomon Overview",isWide:!1,descriptions:[`TimberTrek's primary view is a <a href='https://www.cc.gatech.edu/gvu/ii/sunburst/' target='_blank'>Sunburst</a> that summarizes all decision trees in the Rashomon set. We generate this <em>Rashomon Overview</em> by extracting all decision paths (path from the tree root to a leaf) from all decision trees in the Rashomon set. The Sunburst has \\(k\\) rings, where \\(k\\) is the height of the tallest tree in the Rashomon set. Each ring corresponds to a level of the decision path.
`,`Each ring is split into multiple sectors, and each sector corresponds to a testing condition of the decision tree. We color-code the sectors based on the feature attributes. For example, <span class="feature-tag" style="color: #4E79A7">number of prior crime</span>,  <span class="feature-tag" style="color: #F28E2C">age</span>, and <span class="feature-tag" style="color: #76B7B2">sex</span>. For features that have multiple values, we use color lightness to encode different values. For example, <span class="feature-tag" style="color: #4E79A7">prior > 3</span>,  <span class="feature-tag" style="color: #6B95C4">prior = 0</span>, and <span class="feature-tag" style="color: #88B1E2">prior = 1</span>. Finally, we use <span class="feature-tag" style="color: hsl(0,0%, 60%)">gray</span> to color encode <span class="feature-tag" style="color: hsl(0,0%, 60%)">leaf sectors</span> (end of a decision path). Each <span class="feature-tag" style="color: hsl(0,0%, 60%)">leaf sector</span> is linked to a decision tree that has the corresponding decision path. Sectors are positioned based on their hierarchical relationship in the decision rule. For example, if we have two sectors aligned as <span class="feature-tag" style="color: #4E79A7">prior > 3</span>,  <span class="feature-tag" style="color: #F28E2C">age < 26</span>, it means all decision rules after these two sectors use <span class="feature-tag" style="color: #4E79A7">prior > 3</span> as the first split and <span class="feature-tag" style="color: #F28E2C">age < 26</span> as the second split.
`,`You can click a sector to "zoom into" a subset of decision trees with the selected decision path patterns; the Sunburst only displays decision rules with a feature order up to the clicked sector. You can hover over a <span class="feature-tag" style="color: hsl(0,0%, 60%)">leaf sector</span> to see a preview of its linked decision tree. Some Rashomon sets can have very tall trees. Therefore, you can use the depth menu (on the top left) to control how many levels to show in the Sunburst; it is helpful to focus on a few levels at a time.
`],caption:"The <em>Rashomon Overview</em> adapts Sunburst to summarize the whole Rashomon set. It organizes decision trees based on their decision paths. Users can click a sector to zoom into a specific subset of models with similar prediction patterns. Users can also control the number of levels to show in the Sunburst."},{id:"tree",name:"Tree Window",isWide:!0,descriptions:[`When you click a <span class="feature-tag" style="color: hsl(0,0%, 60%)">leaf sector</span>, a <em>Tree Window</em> appears to present details for the linked decision tree. This window uses a node-link diagram to visualize the tree structure by default. This window uses stroke opacity to encode the accuracies of each leaf node in the tree; when you hover over a leaf node, you can also inspect the number of samples that the leaf node affects. In addition, you can click the toggle switch on the bottom right to switch the tree visualization to a waterfall-like plot, where the size of each node is augmented by the training samples that pass through them.
`,`You can open multiple <em>Tree Windows</em> at once, and drag windows into different locations. Arranging multiple windows side by side could help you compare the structures and prediction patterns of interested model candidates.
`],caption:`A <em>Tree Windows</em> uses a node-link diagram to illustrate the details of a decision tree. An alternative waterfall-like chart augments node size with its sample size, helping users to better understand each tree's robustness. To compare the structure and prediction patterns of multiple decision trees, users can open multiple windows and drag to reposition them side by side.
`},{id:"search",name:"Search Panel",isWide:!0,descriptions:[`Want to quickly identify trees with desired properties? The <em>Search Panel</em> comes to the rescue! This panel provides a suite of filtering tools that control what decision trees to include in the Sunburst. For example, you can drag the "Minimum Leaf Sample" slider to tell the <em>Rashomon Overview</em> to only display decision trees whose leaves have more samples. Similarly, you can click the checkboxes to select what features to include in the tree or at a particular level. Adjusting the filtering setting would trigger the <em>Rashomon Overview</em> to animate to display/hide affected sectors.
`],caption:`The <em>Search Panel</em> allows users to search for decision trees with desired properties by applying different filtering tools. For example, a user can drag the accuracy slider to hide decision trees with slightly smaller accuracy scores. Similarly, a user can also click checkboxes under "Depth 3" to search for trees that use specific features in their second level.
`},{id:"favorite",name:"Favorite Panel",isWide:!0,descriptions:[`Once you have found decision trees that meet your needs, you can click the heart button on the top right of the <em>Tree Window</em> to bookmark them. You can see all bookmarked trees in the <em>Favorite Panel</em>. You can also click the comment button on the <em>Tree Window</em> to add a short comment to document why you choose this decision tree. Alternatively, you can add or edit comments in the <em>Favorite Panel</em> directly. Once you are satisfied with your decision tree curation, you can click the download button to save all bookmarked trees with your comments. You can load these trees with TimberTrek's Python package. Your comments can also help you continue curating in the future.
`],caption:`Users can use the <em>Favorite Panel</em> to keep track of all bookmarked decision trees. This panel shows a thumbnail of each tree along with a user-entered comment. The comment can document the model curation motivation and context. Once satisfied with their curation, a user can click the save button to download all bookmarked trees with their documentation. It helps users deploy satisfactory models or continue curation in the future.
`}]},development:`TimberTrek is written in <a href='https://www.typescriptlang.org' target='_blank'>TypeScript</a> using <a href='https://svelte.dev' target='_blank'>Svelte</a> as a framework and <a href='https://d3js.org' target='_blank'>D3.js</a> for visualizations. The source code is available on <a href='https://github.com/poloclub/timbertrek' target='_blank'>GitHub</a>. The entire app runs locally and privately in your web browser, and your model and data would never leave your machine. Anyone can easily access TimberTrek on their desktop or tablets, without the need of setting up dedicated servers or writing code. With a flexible design, TimberTrek supports all types of computational notebooks, such as Jupyter Notebook & Lab, Google Colab, and VS Code Notebook. With the cross-platform support, we hope TimberTrek will fit into your favorite ML development workflow.
`,team:`Led by <a href='https://zijie.wang/' target='_blank'>Jay Wang</a>, TimberTrek is a result of a collaboration between ML and visualization researchers from Georgia Tech, Duke University, Fujitsu Laboratories, and University of British Columbia. TimberTrek is created by <a href='https://zijie.wang/' target='_blank'>Jay Wang</a>, <a href='https://www.linkedin.com/in/chudizhong' target='_blank'>Chudi Zhong</a>, <a href='https://www.linkedin.com/in/rui-xin-8070181b9' target='_blank'>Rui Xin</a>, <a href='https://scholar.google.com/citations?user=9fY1WVIAAAAJ&hl=en' target='_blank'>Takuya Takagi</a>, <a href='https://users.cs.duke.edu/~zhichen/' target='_blank'>Zhi Chen</a>, <a href='https://www.cc.gatech.edu/~dchau' target='_blank'>Polo Chau</a>, <a href='https://users.cs.duke.edu/~cynthia/' target='_blank'>Cynthia Rudin</a>, and <a href='https://www.seltzer.com/margo/' target='_blank'>Margo Seltzer</a>.
`,contribute:[`If you have any questions or feedback, feel free to <a href='https://github.com/poloclub/timbertrek/issues' target='_blank'>open an issue</a> or contact <a href='https://zijie.wang/' target='_blank'>Jay Wang</a>.
`,`We\u2019d love to hear your experience with TimberTrek! If you\u2019d like to share (e.g., what is your typical workflow to curate decision trees, what features of TimberTrek you find most helpful), please reach out to us. TimberTrek is an open-source project, and we welcome <a href='https://github.com/poloclub/timbertrek/pulls' target='_blank'>pull requests</a> for new feature implementations and bug fixes, etc.
`],youtubeTimes:[{startTime:0,name:"Sparse decision tree",timestamp:"(0:00-0:06)"},{startTime:6,name:"Rashomon set",timestamp:"(0:06-0:38)"},{startTime:38,name:"Introducing TimberTrek",timestamp:"(0:38-0:45)"},{startTime:45,name:"Rashomon overview",timestamp:"(0:45-1:13)"},{startTime:73,name:"Tree windows",timestamp:"(1:13-1:33)"},{startTime:93,name:"Search Panel",timestamp:"(1:33-2:02)"},{startTime:122,name:"Searching for fair models",timestamp:"(2:02-2:41)"},{startTime:161,name:"Computational notebook support",timestamp:"(2:41-2:49)"},{startTime:129,name:"Try TimberTrek",timestamp:"(2:49-3:00)"}],cite:{intro:`To learn more about TimberTrek, please read our <a href='https://arxiv.org/abs/2209.09227' target='_blank'>research paper</a> (published at <a href='https://ieeevis.org/year/2022/welcome' target='_blank'>IEEE VIS'22</a>). To learn more about the algorithm to generate the whole Rashomon set of sparse decision trees, please read our <a href='https://arxiv.org/abs/2209.08040' target='_blank'>TreeFARMS paper</a> (published at NeurIPS'22). If you find TimberTrek useful for your research, please consider citing our paper. Thanks!
`,bibtex:`@inproceedings{wangTimberTrekExploringCurating2022,
  title = {{{TimberTrek}}: {{Exploring}} and {{Curating Trustworthy Decision Trees}} with {{Interactive Visualization}}},
  booktitle = {2022 {{IEEE Visualization Conference}} ({{VIS}})},
  author = {Wang, Zijie J. and Zhong, Chudi and Xin, Rui and Takagi, Takuya and Chen, Zhi and Chau, Duen Horng and Rudin, Cynthia and Seltzer, Margo},
  year = {2022}
}
`,title:`TimberTrek: Exploring and Curating Sparse Decision Trees with Interactive Visualization
`,paperLink:`https://arxiv.org/abs/2209.09227
`,venue:`IEEE Visualization Conference (VIS) 2022
`,venueLink:`https://ieeevis.org/year/2022/welcome
`,authors:[{name:"Zijie J. Wang",url:"https://zijie.wang/"},{name:"Chudi Zhong",url:"https://www.linkedin.com/in/chudizhong"},{name:"Rui Xin",url:"https://www.linkedin.com/in/rui-xin-8070181b9"},{name:"Takuya Takagi",url:"https://scholar.google.com/citations?user=9fY1WVIAAAAJ&hl=en"},{name:"Zhi Chen",url:"https://users.cs.duke.edu/~zhichen/"},{name:"Polo Chau",url:"https://www.cc.gatech.edu/~dchau"},{name:"Cynthia Rudin",url:"https://users.cs.duke.edu/~cynthia/"},{name:"Margo Seltzer",url:"https://www.seltzer.com/margo/"}]}};be.tool;be.usage;be.tutorial;be.development;be.team;be.contribute;be.youtubeTimes;be.cite;const q="src/components/article/Article.svelte";function kc(e,t,n){const r=e.slice();return r[20]=t[n],r[22]=n,r}function Tc(e,t,n){const r=e.slice();return r[23]=t[n],r[22]=n,r}function Mc(e,t,n){const r=e.slice();return r[25]=t[n],r[22]=n,r}function Ac(e,t,n){const r=e.slice();return r[27]=t[n],r}function Vc(e,t,n){const r=e.slice();return r[27]=t[n],r}function Dc(e,t,n){const r=e.slice();return r[32]=t[n],r[22]=n,r}function tl(e){let t,n,r,i,s,a,o;n=new Da({props:{notebookMode:!1,curDataset:e[2],timbertrekTransitioning:e[3]},$$inline:!0});const u={c:function(){t=L("div"),bt(n.$$.fragment),w(t,"class","timbertrek-wrapper s-NAp586LyR7ay"),x(t,q,564,8,12410)},m:function(c,f){ae(c,t,f),dt(n,t,null),s=!0,a||(o=[he(t,"introstart",e[9],!1,!1,!1),he(t,"introend",e[10],!1,!1,!1)],a=!0)},p:function(c,f){const h={};f[0]&4&&(h.curDataset=c[2]),f[0]&8&&(h.timbertrekTransitioning=c[3]),n.$set(h)},i:function(c){s||(_e(n.$$.fragment,c),Ar(()=>{i&&i.end(1),r=eh(t,oo,{x:300,duration:300}),r.start()}),s=!0)},o:function(c){Me(n.$$.fragment,c),r&&r.invalidate(),i=yl(t,oo,{x:-300,duration:300}),s=!1},d:function(c){c&&re(t),pt(n),c&&i&&i.end(),a=!1,Re(o)}};return ee("SvelteRegisterBlock",{block:u,id:tl.name,type:"key",source:"(564:6) {#key curDataset}",ctx:e}),u}function nl(e){let t,n=e[32]+"",r,i,s,a;function o(){return e[11](e[32])}const u={c:function(){t=L("span"),r=ce(n),i=W(),w(t,"class","option s-NAp586LyR7ay"),w(t,"data-text",e[32]),ge(t,"selected",e[32]===e[2]),x(t,q,588,10,13075)},m:function(c,f){ae(c,t,f),y(t,r),y(t,i),s||(a=he(t,"click",o,!1,!1,!1),s=!0)},p:function(c,f){e=c,f[0]&132&&ge(t,"selected",e[32]===e[2])},d:function(c){c&&re(t),s=!1,a()}};return ee("SvelteRegisterBlock",{block:u,id:nl.name,type:"each",source:"(588:8) {#each datasets as name, i}",ctx:e}),u}function rl(e){let t,n=e[27]+"";const r={c:function(){t=L("p"),w(t,"class","s-NAp586LyR7ay"),x(t,q,612,6,13686)},m:function(s,a){ae(s,t,a),t.innerHTML=n},p:pe,d:function(s){s&&re(t)}};return ee("SvelteRegisterBlock",{block:r,id:rl.name,type:"each",source:"(612:4) {#each text.tool as p}",ctx:e}),r}function A0(e){let t,n,r,i,s,a,o,u,l,c,f;const h={c:function(){t=L("div"),n=L("div"),r=W(),i=L("img"),a=W(),o=L("div"),u=L("span"),l=ce(`Launch Jupyter
            Notebook`),w(n,"class","mask s-NAp586LyR7ay"),x(n,q,638,10,14399),w(i,"alt","Jupyter notebook place holder"),mi(i.src,s="/timbertrek/data/jupyter-placeholder.png")||w(i,"src",s),w(i,"class","s-NAp586LyR7ay"),x(i,q,639,10,14430),w(u,"class","svg-icon s-NAp586LyR7ay"),x(u,q,649,12,14716),w(o,"class","button s-NAp586LyR7ay"),x(o,q,643,10,14582),w(t,"class","demo-placeholder s-NAp586LyR7ay"),x(t,q,632,8,14267)},m:function(g,d){ae(g,t,d),y(t,n),y(t,r),y(t,i),y(t,a),y(t,o),y(o,u),u.innerHTML=C0,y(o,l),c||(f=[he(o,"click",e[13],!1,!1,!1),he(t,"click",e[14],!1,!1,!1)],c=!0)},p:pe,d:function(g){g&&re(t),c=!1,Re(f)}};return ee("SvelteRegisterBlock",{block:h,id:A0.name,type:"else",source:"(632:6) {:else}",ctx:e}),h}function V0(e){let t,n;const r={c:function(){t=L("iframe"),w(t,"title","Jupyter notebook"),mi(t.src,n="https://poloclub.github.io/timbertrek/notebook/retro/notebooks/?path=campas.ipynb")||w(t,"src",n),w(t,"width","100%"),w(t,"height","100%"),w(t,"class","s-NAp586LyR7ay"),x(t,q,625,8,14046)},m:function(s,a){ae(s,t,a)},p:pe,d:function(s){s&&re(t)}};return ee("SvelteRegisterBlock",{block:r,id:V0.name,type:"if",source:"(625:6) {#if showIFrame}",ctx:e}),r}function il(e){let t,n=e[27]+"";const r={c:function(){t=L("p"),w(t,"class","s-NAp586LyR7ay"),x(t,q,674,8,15510)},m:function(s,a){ae(s,t,a),t.innerHTML=n},p:pe,d:function(s){s&&re(t)}};return ee("SvelteRegisterBlock",{block:r,id:il.name,type:"each",source:"(674:6) {#each item.descriptions.slice(1) as p}",ctx:e}),r}function sl(e){let t,n=e[25].name+"",r,i,s,a=e[25].descriptions[0]+"",o,u,l,c,f,h,p,g,d,m=e[22]+1+"",v,S,b,_=e[25].caption+"",k,H,I=e[25].descriptions.slice(1);De(I);let M=[];for(let E=0;E<I.length;E+=1)M[E]=il(Ac(e,I,E));const V={c:function(){t=L("h4"),r=ce(n),i=W(),s=L("p"),o=W(),u=L("div"),l=L("video"),c=L("source"),h=L("track"),p=W(),g=L("div"),d=ce("Video "),v=ce(m),S=ce(". "),b=new Jn(!1),k=W();for(let F=0;F<M.length;F+=1)M[F].c();H=Ss(),w(t,"id",e[25].id),w(t,"class","s-NAp586LyR7ay"),x(t,q,662,6,15040),w(s,"class","s-NAp586LyR7ay"),x(s,q,663,6,15080),mi(c.src,f=`/timbertrek/video/${e[25].id}.mp4`)||w(c,"src",f),w(c,"class","s-NAp586LyR7ay"),x(c,q,666,10,15225),w(h,"kind","captions"),w(h,"class","s-NAp586LyR7ay"),x(h,q,667,10,15302),l.autoplay=!0,l.loop=!0,l.muted=!0,l.playsInline=!0,w(l,"class","s-NAp586LyR7ay"),x(l,q,665,8,15175),b.a=null,w(g,"class","figure-caption s-NAp586LyR7ay"),x(g,q,669,8,15353),w(u,"class","video s-NAp586LyR7ay"),ge(u,"wide-video",!1),x(u,q,664,6,15122)},m:function(F,R){ae(F,t,R),y(t,r),ae(F,i,R),ae(F,s,R),s.innerHTML=a,ae(F,o,R),ae(F,u,R),y(u,l),y(l,c),y(l,h),y(u,p),y(u,g),y(g,d),y(g,v),y(g,S),b.m(_,g),ae(F,k,R);for(let A=0;A<M.length;A+=1)M[A].m(F,R);ae(F,H,R)},p:function(F,R){if(R&0){I=F[25].descriptions.slice(1),De(I);let A;for(A=0;A<I.length;A+=1){const C=Ac(F,I,A);M[A]?M[A].p(C,R):(M[A]=il(C),M[A].c(),M[A].m(H.parentNode,H))}for(;A<M.length;A+=1)M[A].d(1);M.length=I.length}},d:function(F){F&&re(t),F&&re(i),F&&re(s),F&&re(o),F&&re(u),F&&re(k),ln(M,F),F&&re(H)}};return ee("SvelteRegisterBlock",{block:V,id:sl.name,type:"each",source:"(662:4) {#each text.tutorial.items as item, i}",ctx:e}),V}function al(e){let t,n=e[23].name+"",r,i,s,a=e[23].timestamp+"",o,u,l,c;const f={c:function(){t=L("li"),r=ce(n),i=W(),s=L("small"),o=ce(a),u=W(),w(s,"class","s-NAp586LyR7ay"),x(s,q,684,10,15779),w(t,"class","video-link s-NAp586LyR7ay"),x(t,q,682,8,15677)},m:function(p,g){ae(p,t,g),y(t,r),y(t,i),y(t,s),y(s,o),y(t,u),l||(c=he(t,"click",function(){Gr(e[1].play(e[23].startTime))&&e[1].play(e[23].startTime).apply(this,arguments)},!1,!1,!1),l=!0)},p:function(p,g){e=p},d:function(p){p&&re(t),l=!1,c()}};return ee("SvelteRegisterBlock",{block:f,id:al.name,type:"each",source:"(682:6) {#each text.youtubeTimes as time, i}",ctx:e}),f}function ol(e){let t,n=e[20].name+"",r,i=e[22]===be.cite.authors.length-1?"":",",s;const a={c:function(){t=L("a"),r=ce(n),s=ce(i),w(t,"href",e[20].url),w(t,"target","_blank"),w(t,"class","s-NAp586LyR7ay"),x(t,q,729,12,17054)},m:function(u,l){ae(u,t,l),y(t,r),y(t,s)},p:pe,d:function(u){u&&re(t)}};return ee("SvelteRegisterBlock",{block:a,id:ol.name,type:"each",source:"(729:10) {#each text.cite.authors as author, i}",ctx:e}),a}function D0(e){let t,n,r;const i={c:function(){t=L("span"),n=W(),r=L("span"),r.textContent="Copy",w(t,"class","svg-icon copy s-NAp586LyR7ay"),x(t,q,767,10,18041),w(r,"class","copy-label copy s-NAp586LyR7ay"),x(r,q,768,10,18103)},m:function(a,o){ae(a,t,o),t.innerHTML=T0,ae(a,n,o),ae(a,r,o)},p:pe,d:function(a){a&&re(t),a&&re(n),a&&re(r)}};return ee("SvelteRegisterBlock",{block:i,id:D0.name,type:"else",source:"(767:8) {:else}",ctx:e}),i}function N0(e){let t,n,r;const i={c:function(){t=L("span"),n=W(),r=L("span"),r.textContent="Copied!",w(t,"class","svg-icon check s-NAp586LyR7ay"),x(t,q,764,10,17902),w(r,"class","copy-label check s-NAp586LyR7ay"),x(r,q,765,10,17969)},m:function(a,o){ae(a,t,o),t.innerHTML=M0,ae(a,n,o),ae(a,r,o)},p:pe,d:function(a){a&&re(t),a&&re(n),a&&re(r)}};return ee("SvelteRegisterBlock",{block:i,id:N0.name,type:"if",source:"(764:8) {#if bibtexCopied}",ctx:e}),i}function ll(e){let t,n,r,i,s,a,o=e[2],u,l,c,f,h,p,g,d,m,v,S,b,_,k,H,I,M,V,E,F,R,A,C,T=be.usage.p1+"",D,P,G,Y=be.usage.p2+"",U,X,J,me,K,Q,B,ie,fe,j,$,oe,O=be.tutorial.p1+"",we,de,xe,Le,Z,ue,He,ke,nt,Pe,Kt,xt,Ue,$t,en,In=be.development+"",dn,gt,sr,pn,gn,En,mn,tn=be.team+"",Wt,Lt,Ur,Dt,nn=be.contribute[0]+"",Zr,mt,zn=be.contribute[1]+"",Wn,rn,On,yn,jr=be.cite.intro+"",Gn,Nt,wn,Ve,Qe,Oe,Xr,kt,Ot,vn,qr,Ge,Se,rt,yt,Jr,Tt,bn,it=be.cite.bibtex+"",Qr,Gt,Jl,Kr,$r,Ht,Yn,ar,Ql,Bn,or,Kl,Un,lr,$l,Zn,cr,ei,Na,e1,Ft=tl(e),Cn=e[7];De(Cn);let st=[];for(let ve=0;ve<Cn.length;ve+=1)st[ve]=nl(Dc(e,Cn,ve));let Sn=be.tool;De(Sn);let at=[];for(let ve=0;ve<Sn.length;ve+=1)at[ve]=rl(Vc(e,Sn,ve));function t1(ve,le){return ve[4]?V0:A0}let Yi=t1(e),Yt=Yi(e),_n=be.tutorial.items;De(_n);let ot=[];for(let ve=0;ve<_n.length;ve+=1)ot[ve]=sl(Mc(e,_n,ve));let xn=be.youtubeTimes;De(xn);let lt=[];for(let ve=0;ve<xn.length;ve+=1)lt[ve]=al(Tc(e,xn,ve));let I0={videoId:"3eGqTmsStJM",playerId:"demo_video"};ke=new v0({props:I0,$$inline:!0}),e[15](ke);let Ln=be.cite.authors;De(Ln);let ct=[];for(let ve=0;ve<Ln.length;ve+=1)ct[ve]=ol(kc(e,Ln,ve));function n1(ve,le){return ve[5]?N0:D0}let Bi=n1(e),Bt=Bi(e);const r1={c:function(){t=L("script"),r=W(),i=L("div"),s=L("div"),a=L("div"),Ft.c(),u=W(),l=L("div"),c=L("span"),c.textContent="Choose a Rashomon set:",f=W(),h=L("div");for(let le=0;le<st.length;le+=1)st[le].c();p=W(),g=L("div"),d=L("h2"),m=L("span"),m.textContent="What is",v=W(),S=L("span"),b=W(),_=L("span"),k=L("span"),k.textContent="TimberTrek",H=ce("?"),I=W();for(let le=0;le<at.length;le+=1)at[le].c();M=W(),V=L("h2"),E=ce("How to Use "),F=L("span"),F.textContent="TimberTrek",R=ce("?"),A=W(),C=L("p"),D=W(),P=L("p"),G=new Jn(!1),U=ce(`(click the
      `),X=L("span"),J=ce(` button to create sticky
      cells).`),me=W(),K=L("div"),Yt.c(),Q=W(),B=L("h2"),ie=ce("What Can I do with "),fe=L("span"),fe.textContent="TimberTrek",j=ce("?"),$=W(),oe=L("p"),we=W();for(let le=0;le<ot.length;le+=1)ot[le].c();de=W(),xe=L("h2"),xe.textContent="Demo Video",Le=W(),Z=L("ul");for(let le=0;le<lt.length;le+=1)lt[le].c();ue=W(),He=L("div"),bt(ke.$$.fragment),nt=W(),Pe=L("h2"),Kt=ce("How is "),xt=L("span"),xt.textContent="TimberTrek",Ue=ce(" Developed?"),$t=W(),en=L("p"),dn=W(),gt=L("h2"),sr=ce("Who Developed "),pn=L("span"),pn.textContent="TimberTrek",gn=ce("?"),En=W(),mn=L("p"),Wt=W(),Lt=L("h2"),Lt.textContent="How Can I Contribute?",Ur=W(),Dt=L("p"),Zr=W(),mt=L("p"),Wn=W(),rn=L("h2"),rn.textContent="How to learn more?",On=W(),yn=L("p"),Gn=W(),Nt=L("div"),wn=L("div"),Ve=L("a"),Qe=L("img"),Xr=W(),kt=L("div"),Ot=L("a"),vn=L("span"),vn.textContent=`${be.cite.title}`,qr=W(),Ge=L("a"),Se=L("span"),Se.textContent=`${be.cite.venue}`,rt=W(),yt=L("div");for(let le=0;le<ct.length;le+=1)ct[le].c();Jr=W(),Tt=L("div"),bn=L("div"),Qr=W(),Gt=L("div"),Bt.c(),Jl=W(),Kr=L("div"),$r=L("div"),Ht=L("div"),Yn=L("a"),ar=L("div"),Ql=W(),Bn=L("a"),or=L("div"),Kl=W(),Un=L("a"),lr=L("div"),$l=W(),Zn=L("a"),cr=L("div"),w(t,"id","MathJax-script"),t.async=!0,mi(t.src,n="https://cdn.jsdelivr.net/npm/mathjax@3.2/es5/tex-mml-chtml.js")||w(t,"src",n),w(t,"class","s-NAp586LyR7ay"),x(t,q,554,2,12117),w(a,"class","timbertrek-app s-NAp586LyR7ay"),x(a,q,562,4,12349),w(c,"class","option-title s-NAp586LyR7ay"),x(c,q,585,6,12944),w(h,"class","options s-NAp586LyR7ay"),x(h,q,586,6,13007),w(l,"class","dataset-options s-NAp586LyR7ay"),x(l,q,584,4,12908),w(s,"class","main-app s-NAp586LyR7ay"),w(s,"tabindex","-1"),x(s,q,561,2,12286),w(m,"class","s-NAp586LyR7ay"),x(m,q,603,6,13383),w(S,"class","svg-icon logo-icon s-NAp586LyR7ay"),x(S,q,604,6,13411),w(k,"class","tool-name s-NAp586LyR7ay"),x(k,q,605,12,13480),w(_,"class","s-NAp586LyR7ay"),x(_,q,605,6,13474),w(d,"id","tool"),w(d,"class","s-NAp586LyR7ay"),x(d,q,602,4,13362),w(F,"class","tool-name s-NAp586LyR7ay"),x(F,q,615,30,13746),w(V,"id","usage"),w(V,"class","s-NAp586LyR7ay"),x(V,q,615,4,13720),w(C,"class","s-NAp586LyR7ay"),x(C,q,616,4,13798),G.a=U,w(X,"class","svg-icon note-icon s-NAp586LyR7ay"),x(X,q,619,6,13879),w(P,"class","s-NAp586LyR7ay"),x(P,q,617,4,13831),w(K,"class","jupyter-demo s-NAp586LyR7ay"),x(K,q,623,4,13988),w(fe,"class","tool-name s-NAp586LyR7ay"),x(fe,q,657,25,14901),w(B,"id","usage"),w(B,"class","s-NAp586LyR7ay"),x(B,q,656,4,14860),w(oe,"class","s-NAp586LyR7ay"),x(oe,q,659,4,14958),w(xe,"id","youtube-video"),w(xe,"class","s-NAp586LyR7ay"),x(xe,q,678,4,15558),w(Z,"class","video-list s-NAp586LyR7ay"),x(Z,q,680,4,15602),w(He,"class","youtube-video s-NAp586LyR7ay"),x(He,q,689,4,15854),w(xt,"class","tool-name s-NAp586LyR7ay"),wr(xt,"margin-right","8px"),x(xt,q,698,13,16045),w(Pe,"id","usage"),w(Pe,"class","s-NAp586LyR7ay"),x(Pe,q,697,4,16016),w(en,"class","s-NAp586LyR7ay"),x(en,q,701,4,16146),w(pn,"class","tool-name s-NAp586LyR7ay"),x(pn,q,703,32,16211),w(gt,"id","team"),w(gt,"class","s-NAp586LyR7ay"),x(gt,q,703,4,16183),w(mn,"class","s-NAp586LyR7ay"),x(mn,q,704,4,16263),w(Lt,"id","contribute"),w(Lt,"class","s-NAp586LyR7ay"),x(Lt,q,706,4,16293),w(Dt,"class","s-NAp586LyR7ay"),x(Dt,q,707,4,16344),w(mt,"class","s-NAp586LyR7ay"),x(mt,q,708,4,16382),w(rn,"id","cite"),w(rn,"class","s-NAp586LyR7ay"),x(rn,q,710,4,16421),w(yn,"class","s-NAp586LyR7ay"),x(yn,q,712,4,16464),mi(Qe.src,Oe="paper-preview.png")||w(Qe,"src",Oe),w(Qe,"class","s-NAp586LyR7ay"),x(Qe,q,717,11,16615),w(Ve,"target","_blank"),w(Ve,"href",be.cite.paperLink),w(Ve,"class","s-NAp586LyR7ay"),x(Ve,q,716,8,16558),w(wn,"class","left s-NAp586LyR7ay"),x(wn,q,715,6,16531),w(vn,"class","paper-title s-NAp586LyR7ay"),x(vn,q,722,11,16764),w(Ot,"target","_blank"),w(Ot,"href",be.cite.paperLink),w(Ot,"class","s-NAp586LyR7ay"),x(Ot,q,721,8,16707),w(Se,"class","paper-venue s-NAp586LyR7ay"),x(Se,q,725,11,16893),w(Ge,"target","_blank"),w(Ge,"href",be.cite.venueLink),w(Ge,"class","s-NAp586LyR7ay"),x(Ge,q,724,8,16836),w(yt,"class","paper-authors s-NAp586LyR7ay"),x(yt,q,727,8,16965),w(kt,"class","right s-NAp586LyR7ay"),x(kt,q,720,6,16679),w(Nt,"class","paper-info s-NAp586LyR7ay"),x(Nt,q,714,4,16500),w(bn,"class","bibtex s-NAp586LyR7ay"),x(bn,q,745,6,17428),w(Gt,"class","copy-button s-NAp586LyR7ay"),ge(Gt,"hide",!e[6]),x(Gt,q,749,6,17505),w(Tt,"class","bibtex-block s-NAp586LyR7ay"),x(Tt,q,736,4,17245),w(g,"class","article s-NAp586LyR7ay"),x(g,q,601,2,13336),w(ar,"class","svg-logo s-NAp586LyR7ay"),w(ar,"title","Georgia Tech"),x(ar,q,800,10,18952),w(Yn,"target","_blank"),w(Yn,"href","https://www.gatech.edu/"),w(Yn,"class","s-NAp586LyR7ay"),x(Yn,q,799,8,18891),w(or,"class","svg-logo s-NAp586LyR7ay"),w(or,"title","Duke University"),x(or,q,806,10,19121),w(Bn,"target","_blank"),w(Bn,"href","https://www.duke.edu/"),w(Bn,"class","s-NAp586LyR7ay"),x(Bn,q,805,8,19062),w(lr,"class","svg-logo s-NAp586LyR7ay"),w(lr,"title","Fujitsu Lab"),x(lr,q,815,10,19349),w(Un,"target","_blank"),w(Un,"href","https://www.fujitsu.com/global/about/research/"),w(Un,"class","s-NAp586LyR7ay"),x(Un,q,811,8,19236),w(cr,"class","svg-logo s-NAp586LyR7ay"),w(cr,"title","The University of British Columbia"),x(cr,q,821,10,19520),w(Zn,"target","_blank"),w(Zn,"href","https://www.ubc.ca/"),w(Zn,"class","s-NAp586LyR7ay"),x(Zn,q,820,8,19463),w(Ht,"class","footer-logo s-NAp586LyR7ay"),x(Ht,q,798,6,18857),w($r,"class","footer-main s-NAp586LyR7ay"),x($r,q,797,4,18825),w(Kr,"class","article-footer s-NAp586LyR7ay"),x(Kr,q,796,2,18792),w(i,"class","article-page s-NAp586LyR7ay"),x(i,q,560,0,12257)},l:function(le){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(le,Ie){y(document.head,t),ae(le,r,Ie),ae(le,i,Ie),y(i,s),y(s,a),Ft.m(a,null),y(s,u),y(s,l),y(l,c),y(l,f),y(l,h);for(let Fe=0;Fe<st.length;Fe+=1)st[Fe].m(h,null);e[12](s),y(i,p),y(i,g),y(g,d),y(d,m),y(d,v),y(d,S),S.innerHTML=b0,y(d,b),y(d,_),y(_,k),y(_,H),y(g,I);for(let Fe=0;Fe<at.length;Fe+=1)at[Fe].m(g,null);y(g,M),y(g,V),y(V,E),y(V,F),y(V,R),y(g,A),y(g,C),C.innerHTML=T,y(g,D),y(g,P),G.m(Y,P),y(P,U),y(P,X),X.innerHTML=S0,y(P,J),y(g,me),y(g,K),Yt.m(K,null),y(g,Q),y(g,B),y(B,ie),y(B,fe),y(B,j),y(g,$),y(g,oe),oe.innerHTML=O,y(g,we);for(let Fe=0;Fe<ot.length;Fe+=1)ot[Fe].m(g,null);y(g,de),y(g,xe),y(g,Le),y(g,Z);for(let Fe=0;Fe<lt.length;Fe+=1)lt[Fe].m(Z,null);y(g,ue),y(g,He),dt(ke,He,null),y(g,nt),y(g,Pe),y(Pe,Kt),y(Pe,xt),y(Pe,Ue),y(g,$t),y(g,en),en.innerHTML=In,y(g,dn),y(g,gt),y(gt,sr),y(gt,pn),y(gt,gn),y(g,En),y(g,mn),mn.innerHTML=tn,y(g,Wt),y(g,Lt),y(g,Ur),y(g,Dt),Dt.innerHTML=nn,y(g,Zr),y(g,mt),mt.innerHTML=zn,y(g,Wn),y(g,rn),y(g,On),y(g,yn),yn.innerHTML=jr,y(g,Gn),y(g,Nt),y(Nt,wn),y(wn,Ve),y(Ve,Qe),y(Nt,Xr),y(Nt,kt),y(kt,Ot),y(Ot,vn),y(kt,qr),y(kt,Ge),y(Ge,Se),y(kt,rt),y(kt,yt);for(let Fe=0;Fe<ct.length;Fe+=1)ct[Fe].m(yt,null);y(g,Jr),y(g,Tt),y(Tt,bn),bn.innerHTML=it,y(Tt,Qr),y(Tt,Gt),Bt.m(Gt,null),y(i,Jl),y(i,Kr),y(Kr,$r),y($r,Ht),y(Ht,Yn),y(Yn,ar),ar.innerHTML=_0,y(Ht,Ql),y(Ht,Bn),y(Bn,or),or.innerHTML=L0,y(Ht,Kl),y(Ht,Un),y(Un,lr),lr.innerHTML=x0,y(Ht,$l),y(Ht,Zn),y(Zn,cr),cr.innerHTML=k0,ei=!0,Na||(e1=[he(Gt,"click",e[16],!1,!1,!1),he(Gt,"mouseleave",e[17],!1,!1,!1),he(Tt,"mouseenter",e[18],!1,!1,!1),he(Tt,"mouseleave",e[19],!1,!1,!1)],Na=!0)},p:function(le,Ie){if(Ie[0]&4&&tt(o,o=le[2])?(Nn(),Me(Ft,1,1,pe),Hn(),Ft=tl(le),Ft.c(),_e(Ft,1),Ft.m(a,null)):Ft.p(le,Ie),Ie[0]&388){Cn=le[7],De(Cn);let ne;for(ne=0;ne<Cn.length;ne+=1){const ut=Dc(le,Cn,ne);st[ne]?st[ne].p(ut,Ie):(st[ne]=nl(ut),st[ne].c(),st[ne].m(h,null))}for(;ne<st.length;ne+=1)st[ne].d(1);st.length=Cn.length}if(Ie&0){Sn=be.tool,De(Sn);let ne;for(ne=0;ne<Sn.length;ne+=1){const ut=Vc(le,Sn,ne);at[ne]?at[ne].p(ut,Ie):(at[ne]=rl(ut),at[ne].c(),at[ne].m(g,M))}for(;ne<at.length;ne+=1)at[ne].d(1);at.length=Sn.length}if(Yi===(Yi=t1(le))&&Yt?Yt.p(le,Ie):(Yt.d(1),Yt=Yi(le),Yt&&(Yt.c(),Yt.m(K,null))),Ie&0){_n=be.tutorial.items,De(_n);let ne;for(ne=0;ne<_n.length;ne+=1){const ut=Mc(le,_n,ne);ot[ne]?ot[ne].p(ut,Ie):(ot[ne]=sl(ut),ot[ne].c(),ot[ne].m(g,de))}for(;ne<ot.length;ne+=1)ot[ne].d(1);ot.length=_n.length}if(Ie[0]&2){xn=be.youtubeTimes,De(xn);let ne;for(ne=0;ne<xn.length;ne+=1){const ut=Tc(le,xn,ne);lt[ne]?lt[ne].p(ut,Ie):(lt[ne]=al(ut),lt[ne].c(),lt[ne].m(Z,null))}for(;ne<lt.length;ne+=1)lt[ne].d(1);lt.length=xn.length}const Fe={};if(ke.$set(Fe),Ie&0){Ln=be.cite.authors,De(Ln);let ne;for(ne=0;ne<Ln.length;ne+=1){const ut=kc(le,Ln,ne);ct[ne]?ct[ne].p(ut,Ie):(ct[ne]=ol(ut),ct[ne].c(),ct[ne].m(yt,null))}for(;ne<ct.length;ne+=1)ct[ne].d(1);ct.length=Ln.length}Bi===(Bi=n1(le))&&Bt?Bt.p(le,Ie):(Bt.d(1),Bt=Bi(le),Bt&&(Bt.c(),Bt.m(Gt,null))),(!ei||Ie[0]&64)&&ge(Gt,"hide",!le[6])},i:function(le){ei||(_e(Ft),_e(ke.$$.fragment,le),ei=!0)},o:function(le){Me(Ft),Me(ke.$$.fragment,le),ei=!1},d:function(le){re(t),le&&re(r),le&&re(i),Ft.d(le),ln(st,le),e[12](null),ln(at,le),Yt.d(),ln(ot,le),ln(lt,le),e[15](null),pt(ke),ln(ct,le),Bt.d(),Na=!1,Re(e1)}};return ee("SvelteRegisterBlock",{block:r1,id:ll.name,type:"component",source:"",ctx:e}),r1}function Ld(e,t,n){let{$$slots:r={},$$scope:i}=t;St("Article",r,[]);let s=null,a=null,o="compas",u=!1,l=!1,c=!1,f=!1;const h=["compas","fico","car evaluation","my own set"],p=E=>{n(3,u=!0),n(2,o=E)};Ne(()=>{});const g=[];Object.keys(t).forEach(E=>{!~g.indexOf(E)&&E.slice(0,2)!=="$$"&&E!=="slot"&&console.warn(`<Article> was created with unknown prop '${E}'`)});const d=()=>{n(3,u=!0)},m=()=>{n(3,u=!1)},v=E=>p(E);function S(E){Je[E?"unshift":"push"](()=>{s=E,n(0,s)})}const b=()=>{n(4,l=!0)},_=()=>{n(4,l=!0)};function k(E){Je[E?"unshift":"push"](()=>{a=E,n(1,a)})}const H=()=>{navigator.clipboard.writeText(be.cite.bibtex).then(()=>{n(5,c=!0)})},I=()=>{setTimeout(()=>{n(5,c=!1)},500)},M=()=>{n(6,f=!0)},V=()=>{n(6,f=!1)};return e.$capture_state=()=>({onMount:Ne,TimberTrek:Da,Youtube:v0,fade:Ri,fly:oo,iconLogo:b0,iconRocket:C0,iconNote:S0,iconGT:_0,iconFujitsu:x0,iconDuke:L0,iconUBC:k0,iconCopy:T0,iconCheckBox:M0,text:be,component:s,currentPlayer:a,curDataset:o,timbertrekTransitioning:u,showIFrame:l,bibtexCopied:c,bibtexHovering:f,datasets:h,optionClicked:p}),e.$inject_state=E=>{"component"in E&&n(0,s=E.component),"currentPlayer"in E&&n(1,a=E.currentPlayer),"curDataset"in E&&n(2,o=E.curDataset),"timbertrekTransitioning"in E&&n(3,u=E.timbertrekTransitioning),"showIFrame"in E&&n(4,l=E.showIFrame),"bibtexCopied"in E&&n(5,c=E.bibtexCopied),"bibtexHovering"in E&&n(6,f=E.bibtexHovering)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[s,a,o,u,l,c,f,h,p,d,m,v,S,b,_,k,H,I,M,V]}class H0 extends _t{constructor(t){super(t),Ct(this,t,Ld,ll,tt,{},null,[-1,-1]),ee("SvelteRegisterComponent",{component:this,tagName:"Article",options:t,id:ll.name})}}const Nc="src/components/notebook/Notebook.svelte";function cl(e){let t,n,r,i;r=new Da({props:{notebookMode:!0},$$inline:!0});const s={c:function(){t=L("div"),n=L("div"),bt(r.$$.fragment),w(n,"class","main-app s-G67tNxa3tjK8"),x(n,Nc,22,2,434),w(t,"class","notebook-page s-G67tNxa3tjK8"),x(t,Nc,21,0,404)},l:function(o){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(o,u){ae(o,t,u),y(t,n),dt(r,n,null),e[1](n),i=!0},p:pe,i:function(o){i||(_e(r.$$.fragment,o),i=!0)},o:function(o){Me(r.$$.fragment,o),i=!1},d:function(o){o&&re(t),pt(r),e[1](null)}};return ee("SvelteRegisterBlock",{block:s,id:cl.name,type:"component",source:"",ctx:e}),s}function kd(e,t,n){let{$$slots:r={},$$scope:i}=t;St("Notebook",r,[]);let s=null;const a=[];Object.keys(t).forEach(u=>{!~a.indexOf(u)&&u.slice(0,2)!=="$$"&&u!=="slot"&&console.warn(`<Notebook> was created with unknown prop '${u}'`)});function o(u){Je[u?"unshift":"push"](()=>{s=u,n(0,s)})}return e.$capture_state=()=>({onMount:Ne,TimberTrek:Da,component:s}),e.$inject_state=u=>{"component"in u&&n(0,s=u.component)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[s,o]}class F0 extends _t{constructor(t){super(t),Ct(this,t,kd,cl,tt,{}),ee("SvelteRegisterComponent",{component:this,tagName:"Notebook",options:t,id:cl.name})}}const cs="src/App.svelte";function P0(e){let t,n;t=new F0({$$inline:!0});const r={c:function(){bt(t.$$.fragment)},m:function(s,a){dt(t,s,a),n=!0},i:function(s){n||(_e(t.$$.fragment,s),n=!0)},o:function(s){Me(t.$$.fragment,s),n=!1},d:function(s){pt(t,s)}};return ee("SvelteRegisterBlock",{block:r,id:P0.name,type:"else",source:"(20:2) {:else}",ctx:e}),r}function R0(e){let t,n;t=new H0({$$inline:!0});const r={c:function(){bt(t.$$.fragment)},m:function(s,a){dt(t,s,a),n=!0},i:function(s){n||(_e(t.$$.fragment,s),n=!0)},o:function(s){Me(t.$$.fragment,s),n=!1},d:function(s){pt(t,s)}};return ee("SvelteRegisterBlock",{block:r,id:R0.name,type:"if",source:"(18:2) {#if mode === 'article'}",ctx:e}),r}function ul(e){let t,n,r,i,s,a,o,u;const l=[R0,P0],c=[];function f(p,g){return p[0]==="article"?0:1}a=f(e),o=c[a]=l[a](e);const h={c:function(){t=L("link"),n=L("link"),r=L("link"),i=W(),s=L("div"),o.c(),w(t,"rel","preconnect"),w(t,"href","https://fonts.googleapis.com"),w(t,"class","s-XsEmFtvddWTw"),x(t,cs,8,2,228),w(n,"rel","preconnect"),w(n,"href","https://fonts.gstatic.com"),w(n,"crossorigin",""),w(n,"class","s-XsEmFtvddWTw"),x(n,cs,9,2,292),w(r,"href","https://fonts.googleapis.com/css2?family=Lato&display=swap"),w(r,"rel","stylesheet"),w(r,"class","s-XsEmFtvddWTw"),x(r,cs,10,2,365),w(s,"class","stand-alone-page s-XsEmFtvddWTw"),x(s,cs,16,0,483)},l:function(g){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(g,d){y(document.head,t),y(document.head,n),y(document.head,r),ae(g,i,d),ae(g,s,d),c[a].m(s,null),u=!0},p:function(g,[d]){let m=a;a=f(g),a!==m&&(Nn(),Me(c[m],1,1,()=>{c[m]=null}),Hn(),o=c[a],o||(o=c[a]=l[a](g),o.c()),_e(o,1),o.m(s,null))},i:function(g){u||(_e(o),u=!0)},o:function(g){Me(o),u=!1},d:function(g){re(t),re(n),re(r),g&&re(i),g&&re(s),c[a].d()}};return ee("SvelteRegisterBlock",{block:h,id:ul.name,type:"component",source:"",ctx:e}),h}function Td(e,t,n){let{$$slots:r={},$$scope:i}=t;St("App",r,[]);let{mode:s="article"}=t;const a=["mode"];return Object.keys(t).forEach(o=>{!~a.indexOf(o)&&o.slice(0,2)!=="$$"&&o!=="slot"&&console.warn(`<App> was created with unknown prop '${o}'`)}),e.$$set=o=>{"mode"in o&&n(0,s=o.mode)},e.$capture_state=()=>({Article:H0,Notebook:F0,mode:s}),e.$inject_state=o=>{"mode"in o&&n(0,s=o.mode)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[s]}class Md extends _t{constructor(t){super(t),Ct(this,t,Td,ul,tt,{mode:0}),ee("SvelteRegisterComponent",{component:this,tagName:"App",options:t,id:ul.name})}get mode(){throw new Error("<App>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set mode(t){throw new Error("<App>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}new Md({target:document.body,props:{mode:"article"}});
