{"version":3,"file":"5088.c866e7b.js","mappings":"8aAiBA,MAAMA,EAAY,wCAIX,IAAIC,EA8IJ,SAASC,EAAeC,EAAKC,EAAMC,GACtC,MAAMC,EAAWH,EAAIG,SAErBA,EAASC,WAAWN,EAAWO,KAAM,CACjCC,MAAOJ,EAAMK,GAAG,QAChBC,UAAWC,EAAQC,gBAAgBV,EAAKC,EAAKU,QAAS,QACtDC,QAASH,EAAQI,gBAAgBb,EAAKC,EAAKU,QAAS,UAExDR,EAASC,WAAWN,EAAWgB,KAAM,CACjCR,MAAOJ,EAAMK,GAAG,QAChBC,UAAWC,EAAQC,gBAAgBV,EAAKC,EAAKU,QAAS,QACtDC,QAASH,EAAQI,gBAAgBb,EAAKC,EAAKU,QAAS,UAGxDR,EAASC,WAAWN,EAAWiB,aAAc,CACzCT,MAAO,KACH,MAAMU,EAAUP,EAAQC,gBAAgBV,EAAKC,EAAKgB,SAAU,eAA5CR,GAChB,IAAIS,EAAiBhB,EAAMK,GAAG,SAI9B,OAHIS,IACAE,EAAiBT,EAAQU,cAAcnB,EAAKC,EAAKgB,SAAU,sBAExDC,GAEXV,UAAWC,EAAQC,gBAAgBV,EAAKC,EAAKgB,SAAU,gBACvDL,QAASH,EAAQI,gBAAgBb,EAAKC,EAAKgB,SAAU,kBAEzDd,EAASC,WAAWN,EAAWsB,SAAU,CACrCd,MAAO,KACH,MAAMU,EAAUP,EAAQC,gBAAgBV,EAAKC,EAAKgB,SAAU,WAA5CR,GAChB,IAAIS,EAAiBhB,EAAMK,GAAG,aAI9B,OAHIS,IACAE,EAAiBT,EAAQU,cAAcnB,EAAKC,EAAKgB,SAAU,kBAExDC,GAEXV,UAAWC,EAAQC,gBAAgBV,EAAKC,EAAKgB,SAAU,YACvDL,QAASH,EAAQI,gBAAgBb,EAAKC,EAAKgB,SAAU,cAEzDd,EAASC,WAAWN,EAAWuB,SAAU,CACrCf,MAAOJ,EAAMK,GAAG,eAChBC,UAAWC,EAAQC,gBAAgBV,EAAKC,EAAKqB,WAAY,YACzDV,QAASH,EAAQI,gBAAgBb,EAAKC,EAAKqB,WAAY,cAMxD,SAASC,EAAevB,EAAKC,EAAMuB,EAAQtB,GAC9C,MAAMC,EAAWH,EAAIG,SAKrBA,EAASC,WAAWN,EAAW2B,gBAAiB,CAC5CnB,MAAO,IACoBG,EAAQU,cAAcnB,EAAKC,EAAKyB,iBAAkB,yBAChCxB,EAAMK,GAAG,sBAEtDC,UAAW,MAAQR,EAAI2B,MAAMC,iBAAmB5B,EAAI2B,MAAMC,cAAcC,MAAMC,SAC9ElB,QAAS,IAEDH,EAAQC,gBAAgBV,EAAKC,EAAKyB,iBAAkB,kBAApDjB,GACOA,EAAQI,gBAAgBb,EAAKC,EAAKyB,iBAAkB,kBAApDjB,GAGJT,EAAIG,SAASS,QAAQ,uBAIpCT,EAASC,WAAWN,EAAWiC,cAAe,CAC1CzB,MAAO,IACoBG,EAAQU,cAAcnB,EAAKC,EAAK+B,gBAAiB,uBAGlE9B,EAAMK,GAAG,4BAEnBC,UAAWC,EAAQC,gBAAgBV,EAAKC,EAAK+B,gBAAiB,iBAC9DpB,QAASH,EAAQI,gBAAgBb,EAAKC,EAAK+B,gBAAiB,mBAEhE7B,EAASC,WAAWN,EAAWmC,SAAU,CACrC3B,MAAOJ,EAAMK,GAAG,aAChB2B,QAAShC,EAAMK,GAAG,wBAClB4B,UAAW,IAAMlC,EAAKmC,UACtB5B,UAAW,IAAMP,EAAKmC,UACtBxB,QAAS,KACE,IAAAyB,YAAW,CACdR,MAAO3B,EAAMK,GAAG,yBAChB+B,KAAMpC,EAAMK,GAAG,oDACfgC,QAAS,CACL,EAAAC,OAAA,eACA,EAAAA,OAAA,WAAkB,CAAElC,MAAOJ,EAAMK,GAAG,kBAEzCkC,MAAKC,MAAOC,IACX,GAAIA,EAAOC,OAAOC,OAAQ,CACtB,MAAMC,EAAU,EAAAC,iBAAA,eACVC,EAAS,EAAAC,OAAA,KAAYH,EAAQI,QAAS,gBAG5C,UACUC,QAAQC,IAAI,CACdpD,EAAIqD,eAAeC,SAASC,cAC5BvD,EAAIqD,eAAeG,UAAUD,gBAGrC,MAAOE,GAEHC,QAAQC,IAAI,8CAA8CF,KAE9D,OAAO,EAAAV,iBAAA,YAA6BC,EAAQ,CAAEY,OAAQ,QAAUd,GAC3DL,MAAKE,IACN,IAAIA,EAAOkB,GAiBP,MAAM,IAAI,EAAAd,iBAAA,cAA+BJ,GAjB9B,CAEX,MAAML,EAAOwB,SAASC,cAAc,OAC9BC,EAAKF,SAASC,cAAc,KAClCC,EAAGC,YAAc/D,EAAMK,GAAG,sEAC1B,MAAM2D,EAAKJ,SAASC,cAAc,KAClCG,EAAGD,YAAc/D,EAAMK,GAAG,0DAC1B+B,EAAK6B,YAAYH,GACjB1B,EAAK6B,YAAYD,IACZ,IAAA7B,YAAW,CACZR,MAAO3B,EAAMK,GAAG,kBAChB+B,KAAM,IAAI,EAAA8B,OAAO,CAAEC,KAAM/B,IACzBC,QAAS,KAEb+B,OAAOC,YAMVC,OAAMC,IACP,MAAM,IAAI,EAAA1B,iBAAA,aAA8B0B,YAM5DtE,EAASC,WAAWN,EAAW4E,OAAQ,CACnCpE,MAAOJ,EAAMK,GAAG,WAChB2B,QAAShC,EAAMK,GAAG,yBAClB4B,UAAW,IAAMlC,EAAKmC,UACtB5B,UAAW,IAAMP,EAAKmC,UACtBxB,QAAS,KACLY,EAAOmD,SAAS,UAAW,CAAEC,MAAM,OAOxC,SAASC,EAAiB7E,EAAKC,EAAMC,GACxC,MAAMC,EAAWH,EAAIG,SACrBA,EAASC,WAAWN,EAAWgF,gBAAiB,CAC5CxE,MAAOJ,EAAMK,GAAG,oBAChB2B,QAAShC,EAAMK,GAAG,wBAClBwE,KAAMC,GAASA,EAAKC,QAAU,EAAAC,cAAWC,EACzC3E,UAAWC,EAAQC,gBAAgBV,EAAKC,EAAKmF,YAAa,mBAC1DxE,QAASH,EAAQI,gBAAgBb,EAAKC,EAAKmF,YAAa,qBAE5DjF,EAASC,WAAWN,EAAWuF,kBAAmB,CAC9C/E,MAAOJ,EAAMK,GAAG,uBAChBC,UAAWC,EAAQC,gBAAgBV,EAAKC,EAAKmF,YAAa,qBAC1DxE,QAASH,EAAQI,gBAAgBb,EAAKC,EAAKmF,YAAa,uBAE5DjF,EAASC,WAAWN,EAAWwF,cAAe,CAC1ChF,MAAOJ,EAAMK,GAAG,mBAChB2B,QAAShC,EAAMK,GAAG,sBAClBwE,KAAMC,GAASA,EAAKC,QAAU,EAAAM,iBAAcJ,EAC5C3E,UAAWC,EAAQC,gBAAgBV,EAAKC,EAAKmF,YAAa,iBAC1DxE,QAASH,EAAQI,gBAAgBb,EAAKC,EAAKmF,YAAa,mBAE5DjF,EAASC,WAAWN,EAAW0F,sBAAuB,CAClDlF,MAAO,KACH,MAAMU,EAAUP,EAAQC,gBAAgBV,EAAKC,EAAKmF,YAAa,wBAA/C3E,GAChB,IAAIS,EAAiBhB,EAAMK,GAAG,6BAI9B,OAHIS,IACAE,EAAiBT,EAAQU,cAAcnB,EAAKC,EAAKmF,YAAa,+BAE3DlE,GAEXV,UAAWC,EAAQC,gBAAgBV,EAAKC,EAAKmF,YAAa,yBAC1DxE,QAASH,EAAQI,gBAAgBb,EAAKC,EAAKmF,YAAa,2BAE5DjF,EAASC,WAAWN,EAAW2F,aAAc,CACzCnF,MAAOJ,EAAMK,GAAG,kBAChBC,UAAWC,EAAQC,gBAAgBV,EAAKC,EAAKmF,YAAa,gBAC1DxE,QAASH,EAAQI,gBAAgBb,EAAKC,EAAKmF,YAAa,kBAE5DjF,EAASC,WAAWN,EAAW4F,eAAgB,CAC3CpF,MAAOJ,EAAMK,GAAG,oBAChBC,UAAWC,EAAQC,gBAAgBV,EAAKC,EAAKmF,YAAa,kBAC1DxE,QAASH,EAAQI,gBAAgBb,EAAKC,EAAKmF,YAAa,oBAE5DjF,EAASC,WAAWN,EAAW6F,mBAAoB,CAC/CrF,MAAOJ,EAAMK,GAAG,0BAChBC,UAAW,SACiD2E,IAAjDnF,EAAIqD,eAAeC,SAASsC,UAAUC,OAEjDjF,QAAS,KACE,IAAAyB,YAAW,CACdR,MAAO3B,EAAMK,GAAG,kBAChB+B,KAAMpC,EAAMK,GAAG,0BACfgC,QAAS,CACL,EAAAC,OAAA,aAAoB,CAAElC,MAAOJ,EAAMK,GAAG,aACtC,EAAAiC,OAAA,WAAkB,CAAElC,MAAOJ,EAAMK,GAAG,sBAEzCkC,MAAKE,IACJ,GAAIA,EAAOC,OAAOC,OACd,OAAO7C,EAAIqD,eAAeC,SAASC,mBAShD,SAASuC,EAAe9F,EAAKC,EAAMC,GACtC,MAAMC,EAAWH,EAAIG,SACrBA,EAASC,WAAWN,EAAWiG,cAAe,CAC1CzF,MAAOJ,EAAMK,GAAG,qBAChBC,UAAWC,EAAQC,gBAAgBV,EAAKC,EAAK+F,cAAe,qBAC5DC,UAAWxF,EAAQyF,gBAAgBlG,EAAKC,EAAK+F,cAAe,sBAC5DpF,QAASH,EAAQI,gBAAgBb,EAAKC,EAAK+F,cAAe,uBAE9D7F,EAASC,WAAWN,EAAWqG,cAAe,CAC1C7F,MAAOJ,EAAMK,GAAG,kBAChBC,UAAWC,EAAQC,gBAAgBV,EAAKC,EAAK+F,cAAe,uBAC5DC,UAAWxF,EAAQyF,gBAAgBlG,EAAKC,EAAK+F,cAAe,wBAC5DpF,QAASH,EAAQI,gBAAgBb,EAAKC,EAAK+F,cAAe,yBAE9D7F,EAASC,WAAWN,EAAWsG,SAAU,CACrC9F,MAAOJ,EAAMK,GAAG,cAChBC,UAAWC,EAAQC,gBAAgBV,EAAKC,EAAK+F,cAAe,kBAC5DC,UAAWxF,EAAQyF,gBAAgBlG,EAAKC,EAAK+F,cAAe,mBAC5DpF,QAASH,EAAQI,gBAAgBb,EAAKC,EAAK+F,cAAe,oBAM3D,SAASK,EAAcrG,EAAKC,EAAMC,GACrC,MAAMC,EAAWH,EAAIG,SACrBA,EAASC,WAAWN,EAAWwG,IAAK,CAChChG,MAAO,KACH,MAAMY,EAAiBT,EAAQU,cAAcnB,EAAKC,EAAKsG,YAAa,YAEpE,OADgB9F,EAAQC,gBAAgBV,EAAKC,EAAKsG,YAAa,MAA/C9F,GACCS,EAAiBhB,EAAMK,GAAG,iBAE/C2B,QAAS,KACL,MAAMsE,EAAmB/F,EAAQU,cAAcnB,EAAKC,EAAKsG,YAAa,cAEtE,OADgB9F,EAAQC,gBAAgBV,EAAKC,EAAKsG,YAAa,MAA/C9F,GACC+F,EAAmBtG,EAAMK,GAAG,iBAEjDwE,KAAMC,GAASA,EAAKC,QAAU,EAAAwB,aAAUtB,EACxC3E,UAAWC,EAAQC,gBAAgBV,EAAKC,EAAKsG,YAAa,OAC1D3F,QAASH,EAAQI,gBAAgBb,EAAKC,EAAKsG,YAAa,SAE5DpG,EAASC,WAAWN,EAAW4G,OAAQ,CACnCpG,MAAO,KACH,IAAIY,EAAiBhB,EAAMK,GAAG,WAK9B,OAJgBE,EAAQC,gBAAgBV,EAAKC,EAAKsG,YAAa,SAA/C9F,KAEZS,EAAiBT,EAAQU,cAAcnB,EAAKC,EAAKsG,YAAa,gBAE3DrF,GAEXgB,QAAS,KACL,IAAIsE,EAAmBtG,EAAMK,GAAG,WAKhC,OAJgBE,EAAQC,gBAAgBV,EAAKC,EAAKsG,YAAa,SAA/C9F,KAEZ+F,EAAmB/F,EAAQU,cAAcnB,EAAKC,EAAKsG,YAAa,kBAE7DC,GAEXhG,UAAWC,EAAQC,gBAAgBV,EAAKC,EAAKsG,YAAa,UAC1D3F,QAASH,EAAQI,gBAAgBb,EAAKC,EAAKsG,YAAa,YAE5DpG,EAASC,WAAWN,EAAW6G,iBAAkB,CAC7CrG,MAAO,KACH,IAAIY,EAAiBhB,EAAMK,GAAG,8BAK9B,OAJgBE,EAAQC,gBAAgBV,EAAKC,EAAKsG,YAAa,mBAA/C9F,KAEZS,EAAiBT,EAAQU,cAAcnB,EAAKC,EAAKsG,YAAa,0BAE3DrF,GAEXgB,QAAS,KACL,IAAIsE,EAAmBtG,EAAMK,GAAG,8BAKhC,OAJgBE,EAAQC,gBAAgBV,EAAKC,EAAKsG,YAAa,mBAA/C9F,KAEZ+F,EAAmB/F,EAAQU,cAAcnB,EAAKC,EAAKsG,YAAa,0BAE7DC,GAEXzB,KAAMC,GAASA,EAAKC,QAAU,EAAA2B,qBAAkBzB,EAChD3E,UAAWC,EAAQC,gBAAgBV,EAAKC,EAAKsG,YAAa,oBAC1D3F,QAASH,EAAQI,gBAAgBb,EAAKC,EAAKsG,YAAa,sBAMzD,SAASM,EAAe7G,EAAKC,EAAM6G,EAAU5G,GAChD,MAAMC,EAAWH,EAAIG,SAEf4G,EAAW,GAEjB,IAAIC,EAEJ7G,EAASC,WAAWN,EAAWmH,aAAc,CACzC3G,MAAO0E,IACH,MAAMkC,EAAKlC,EAAS,IAAK,GACnBmC,GAAS,IAAAC,MAAKpH,EAAI2B,MAAM0F,QAAQ,SAASC,GAAKA,EAAEJ,KAAOA,IAC7D,OAAQC,GAAUA,EAAOtF,MAAMvB,OAAU,IAE7C2F,UAAWjB,IACP,MAAMkC,EAAKlC,EAAS,IAAK,GACzB,QAAShF,EAAI2B,MAAMC,eAAiB5B,EAAI2B,MAAMC,cAAcsF,KAAOA,GAEvEtG,QAASoE,GAAQhF,EAAI2B,MAAMsF,aAAajC,EAAS,IAAK,MAE1D,IAAIuC,EAAa,GAGjBpH,EAASC,WAAWN,EAAW0H,0BAA2B,CACtDlH,MAAOJ,EAAMK,GAAG,gCAChBC,UAAW,MAAQ+G,EACnB3G,QAAS,IAAMT,EAASS,QAAQd,EAAWmH,aAAc,CAAEC,GAAIK,MAE/DT,GACK9G,EAAIyH,SAAShF,MAAK,KAInB,MAAMiF,EAAe,KAEbV,IAAeA,EAAWW,YAC1BX,EAAWY,UAEfb,EAASc,OAAS,EAClB,IAAIC,GAA8B,GAClC,IAAAC,MAAK/H,EAAI2B,MAAM0F,QAAQ,SAASF,IACxBA,EAAOD,KAAOK,IACdO,GAA8B,GAElCf,EAASiB,KAAK,CACVC,QAASnI,EAAWmH,aACpBjC,KAAM,CAAEkC,GAAIC,EAAOD,SAG3BF,EAAa/G,EAAKiI,SAASnB,EAAU,GACrCQ,EAAaO,EAA8BP,EAAa,IAE5DG,IACAZ,EAASqB,eAAeC,SAAQ,KAC5BV,OAGJZ,EAASuB,eAAeD,SAAQ,CAACE,EAAGtD,KAChC,MAAMmC,EAASnC,EAAKuD,SACfpB,IAGLI,EAAaJ,EAAOD,WAzfpC,SAAWpH,GACPA,EAAW0I,SAAW,gBACtB1I,EAAWO,KAAO,gBAClBP,EAAWgB,KAAO,gBAClBhB,EAAWiB,aAAe,yBAC1BjB,EAAWsB,SAAW,qBACtBtB,EAAWsH,KAAO,gBAClBtH,EAAWuB,SAAW,sBACtBvB,EAAW2I,SAAW,gBACtB3I,EAAW2B,gBAAkB,6BAC7B3B,EAAWiC,cAAgB,0BAC3BjC,EAAWmC,SAAW,oBACtBnC,EAAW4E,OAAS,kBACpB5E,EAAW4I,WAAa,kBACxB5I,EAAWgF,gBAAkB,uBAC7BhF,EAAWuF,kBAAoB,iCAC/BvF,EAAWwF,cAAgB,qBAC3BxF,EAAW0F,sBAAwB,+BACnC1F,EAAW2F,aAAe,oBAC1B3F,EAAW4F,eAAiB,sBAC5B5F,EAAW6F,mBAAqB,yBAChC7F,EAAW6I,SAAW,gBACtB7I,EAAWsG,SAAW,qBACtBtG,EAAWiG,cAAgB,0BAC3BjG,EAAWqG,cAAgB,0BAC3BrG,EAAW8I,QAAU,eACrB9I,EAAWwG,IAAM,cACjBxG,EAAW4G,OAAS,kBACpB5G,EAAW6G,iBAAmB,8BAC9B7G,EAAW+I,SAAW,oBACtB/I,EAAWgJ,SAAW,oBACtBhJ,EAAWiJ,SAAW,gBACtBjJ,EAAWmH,aAAe,0BAC1BnH,EAAW0H,0BAA4B,wCACvC1H,EAAWkJ,aAAe,oBAC1BlJ,EAAWmJ,SAAW,gBACtBnJ,EAAWoJ,UAAY,sBApC3B,CAqCGpJ,IAAeA,EAAa,KAyd/B,QArde,CACXoH,GAAIrH,EACJsJ,SAAU,CAAC,EAAAC,QAAS,EAAAC,aACpBC,SAAU,CAAC,EAAAC,gBAAiB,EAAAC,UAAW,EAAAC,kBACvCC,SAAU,EAAAC,UACVC,SAAUlH,MAAO1C,EAAKwB,EAAQqI,EAAYC,EAAShD,EAAUiD,KACzD,MAAM,SAAE5J,GAAaH,EACfE,EAAQ2J,EAAWG,KAAK,cACxB/J,EAAO,IAAI,EAAAgK,SAAS9J,GAC1BF,EAAKiH,GAAK,cACVjH,EAAKiK,SAAS,qBAEVH,SACMtJ,EAAQ0J,iBAAiBJ,GAAWK,IACtCnK,EAAKoK,QAAQD,EAAO,CAAEE,KAAMF,EAAME,UACnCC,GAAW,EAAAN,SAAA,aAAsB9J,EAAUoK,EAASrK,IAAQ2J,GAGnE,MAAMW,EAAa,EAAAC,WAAA,UAAqB,cAAcC,cACtDzK,EAAK0K,SAASvI,UAA2B,SAAfoI,EAE1BzK,EAAeC,EAAKC,EAAK2K,SAAU1K,GACnCqB,EAAevB,EAAKC,EAAK0K,SAAUnJ,EAAQtB,GAC3C2E,EAAiB7E,EAAKC,EAAK4K,WAAY3K,GACvCmG,EAAcrG,EAAKC,EAAK6K,QAAS5K,GACjC4F,EAAe9F,EAAKC,EAAK8K,SAAU7K,GAE/B4G,GACAD,EAAe7G,EAAKC,EAAK+K,SAAUlE,EAAU5G,GAGjD,MAAM+K,EAAgBC,IAClBjL,EAAKkL,WAAaD,EAClBjL,EAAKmL,kBA6DT,OA3DAjL,EAASC,WAAWN,EAAW0I,SAAU,CACrClI,MAAOJ,EAAMK,GAAG,kBAChBK,QAAS,IAAMqK,EAAahL,EAAK2K,YAErCzK,EAASC,WAAWN,EAAW2I,SAAU,CACrCnI,MAAOJ,EAAMK,GAAG,kBAChBK,QAAS,IAAMqK,EAAahL,EAAK0K,YAErCxK,EAASC,WAAWN,EAAW4I,WAAY,CACvCpI,MAAOJ,EAAMK,GAAG,oBAChBK,QAAS,IAAMqK,EAAahL,EAAK4K,cAErC1K,EAASC,WAAWN,EAAW8I,QAAS,CACpCtI,MAAOJ,EAAMK,GAAG,iBAChBK,QAAS,IAAMqK,EAAahL,EAAK6K,WAErC3K,EAASC,WAAWN,EAAW6I,SAAU,CACrCrI,MAAOJ,EAAMK,GAAG,kBAChBK,QAAS,IAAMqK,EAAahL,EAAK8K,YAErC5K,EAASC,WAAWN,EAAWkJ,aAAc,CACzC1I,MAAOJ,EAAMK,GAAG,sBAChBK,QAAS,IAAMqK,EAAahL,EAAKoL,gBAErClL,EAASC,WAAWN,EAAWiJ,SAAU,CACrCzI,MAAOJ,EAAMK,GAAG,kBAChBK,QAAS,IAAMqK,EAAahL,EAAK+K,YAErC7K,EAASC,WAAWN,EAAWmJ,SAAU,CACrC3I,MAAOJ,EAAMK,GAAG,kBAChBK,QAAS,IAAMqK,EAAahL,EAAKqL,YAErCnL,EAASC,WAAWN,EAAWoJ,UAAW,CACtC5I,MAAOJ,EAAMK,GAAG,mBAChBK,QAAS,KACLX,EAAKsL,YAAc,EACnBtL,EAAKmL,oBAGTtB,IAEAA,EAAQ0B,QAAQ,CACZvD,QAASnI,EAAWmC,SACpBwJ,SAAUvL,EAAMK,GAAG,eAEvBuJ,EAAQ0B,QAAQ,CACZvD,QAASnI,EAAW4E,OACpB+G,SAAUvL,EAAMK,GAAG,eAEvBuJ,EAAQ0B,QAAQ,CACZvD,QAASnI,EAAW6F,mBACpB8F,SAAUvL,EAAMK,GAAG,uBAEvBuJ,EAAQ0B,QAAQ,CACZvD,QAASnI,EAAW0H,0BACpBiE,SAAUvL,EAAMK,GAAG,gBAG3BP,EAAI2B,MAAM+J,IAAIzL,EAAM,OAAQ,CAAEqK,KAAM,MAC7BrK,IA2Xf,IAAIQ,GACJ,SAAWA,GAKP,SAAS2G,EAAKuE,EAAIC,GACd,IAAK,MAAMC,KAASF,EAChB,GAAIC,EAAUC,GACV,OAAOA,EAkFnBnJ,eAAeoJ,EAAmB5L,UACT,IAAAmC,YAAW,CAC5BR,MAAO3B,EAAMK,GAAG,eAChB+B,KAAMpC,EAAMK,GAAG,0FACfgC,QAAS,CACL,EAAAC,OAAA,eACA,EAAAA,OAAA,SAAgB,CAAElC,MAAOJ,EAAMK,GAAG,gBAG/BqC,OAAOC,QACdkJ,SAASC,SApEjBvL,EAAQU,cAhBR,SAAuBnB,EAAKiM,EAAG3L,GAC3B,MAAM6G,EAASnH,EAAI2B,MAAMC,cACnBsK,EAAW/E,EACXC,EAAK6E,GAAGJ,GAASA,EAAMM,QAAQC,IAAIjF,UACnChC,EACN,GAAK+G,EAGA,CACD,MAAMG,EAAQH,EAASC,QAAQG,KAI/B,OAAOJ,EAAS5L,GAAO+L,GAPvB,MAAO,IA+Bf5L,EAAQI,gBAhBR,SAAyBb,EAAKiM,EAAGM,GAC7B,MAAO,KACH,MAAMpF,EAASnH,EAAI2B,MAAMC,cACnBsK,EAAW/E,EACXC,EAAK6E,GAAGJ,GAASA,EAAMM,QAAQC,IAAIjF,UACnChC,EACN,OAAK+G,GAOEM,EADGN,EAASK,IACVpF,GANEhE,QAAQsJ,aAAQ,KAyBnChM,EAAQC,gBAXR,SAAyBV,EAAKiM,EAAGM,GAC7B,MAAO,KACH,MAAMpF,EAASnH,EAAI2B,MAAMC,cACnBsK,EAAW/E,EACXC,EAAK6E,GAAGJ,GAASA,EAAMM,QAAQC,IAAIjF,UACnChC,EACN,QAAU+G,KACJA,EAASK,MACVL,EAAS1L,YAAa2G,GAAS+E,EAAS1L,UAAU2G,MAuB/D1G,EAAQyF,gBAfR,SAAyBlG,EAAKiM,EAAGS,GAC7B,MAAO,KACH,MAAMvF,EAASnH,EAAI2B,MAAMC,cACnBsK,EAAW/E,EACXC,EAAK6E,GAAGJ,GAASA,EAAMM,QAAQC,IAAIjF,UACnChC,EAIN,SAAU+G,GACJA,EAASQ,IACTvF,GACA+E,EAASQ,GAASvF,MAgIhC1G,EAAQ0J,iBA/GRzH,eAAgCqH,EAAUM,EAASsC,EAAa9C,GAC5D,IAAI+C,EACJ,MAAM1M,EAAQ2J,EAAWG,KAAK,cAC9B,IAAI6C,EACAC,EAAS,GAIb,SAASC,EAASC,GACd,IAAIJ,EAAIK,EACRH,EAAS,GACT,MAAMI,EAAiBC,OAAOC,KAAKrD,EAASsD,SACvCC,KAAIC,IACL,IAAIX,EAAIK,EACR,MAAMO,EAA4H,QAAnHP,EAAqE,QAA/DL,EAAK7C,EAASsD,QAAQE,GAAQP,OAAO,4BAAyC,IAAPJ,OAAgB,EAASA,EAAGa,YAAyB,IAAPR,EAAgBA,EAAK,GAE/J,OADAH,EAAOS,GAAUC,EACVA,KAENE,OAAO,CAA4F,QAA1FT,EAA4C,QAAtCL,EAAKI,EAAO,4BAAyC,IAAPJ,OAAgB,EAASA,EAAGa,YAAyB,IAAPR,EAAgBA,EAAK,KAChIU,aAAY,CAACC,EAAKC,IAAQ,EAAAC,gBAAA,eAA+BF,EAAKC,GAAK,IAAOb,EAAOe,WAAWP,MAAMQ,SAIvGhB,EAAOe,WAAWP,MAAMQ,QAAU,EAAAF,gBAAA,eAA+BZ,EAAgBF,EAAOe,WAAWP,MAAMQ,SAAS,GAE7GC,MAAK,CAACC,EAAGC,KAAQ,IAAIvB,EAAIK,EAAI,OAA0B,QAAjBL,EAAKsB,EAAE5D,YAAyB,IAAPsC,EAAgBA,EAAKwB,EAAAA,IAA+B,QAAjBnB,EAAKkB,EAAE7D,YAAyB,IAAP2C,EAAgBA,EAAKmB,EAAAA,MAGzJrE,EAASsE,UAAUxO,EAAW,CAC1ByO,QAASf,IACL,IAAIX,EAAIK,EAAIsB,EAAIC,EAEX3B,IACDA,EAAY,EAAA4B,QAAA,SAAiBlB,EAAOP,QACpCD,EAASF,IAEb,MAAM6B,EAAuJ,QAA3IH,EAA0F,QAApFtB,EAAqC,QAA/BL,EAAKC,EAAUkB,kBAA+B,IAAPnB,OAAgB,EAASA,EAAGY,aAA0B,IAAPP,OAAgB,EAASA,EAAGe,eAA4B,IAAPO,EAAgBA,EAAK,GACpLI,EAAOxB,OAAOyB,OAAOzB,OAAOyB,OAAO,GAAIrB,EAAO9I,KAAKkK,MAAO,CAAEnB,MAAyC,QAAjCgB,EAAKjB,EAAO9I,KAAKkK,KAAKnB,aAA0B,IAAPgB,EAAgBA,EAAK,KAClIK,EAAY1B,OAAOyB,OAAOzB,OAAOyB,OAAO,GAAIrB,EAAO9I,KAAKoK,WAAY,CAAErB,MAAO,EAAAM,gBAAA,eAA+BY,EAAUC,EAAKnB,SAEjI,OADAD,EAAO9I,KAAO,CAAEoK,UAAAA,EAAWF,KAAAA,GACpBpB,GAEXuB,MAAOvB,IAEEV,IACDA,EAAY,EAAA4B,QAAA,SAAiBlB,EAAOP,QACpCD,EAASF,IAEN,CACHpI,KAAM8I,EAAO9I,KACbyC,GAAIqG,EAAOrG,GACX6H,IAAKxB,EAAOwB,IACZ/B,OAAQH,EACRmC,QAASzB,EAAOyB,YAM5BnC,EAAY,KACZ,MAAMoC,QAAiBlF,EAASC,KAAKnK,GAC/BqP,EAAqE,QAArDtC,EAAK,EAAA6B,QAAA,SAAiBQ,EAASJ,UAAUrB,cAA2B,IAAPZ,EAAgBA,EAAK,GAClGY,EAAQ,IAAI2B,MAElB,EAAAC,YAAA,YAAwBF,EACnBG,QAAOpP,IAASA,EAAKqP,WACrBhC,KAAIrN,IACL,IAAI2M,EACJ,OAAOO,OAAOyB,OAAOzB,OAAOyB,OAAO,GAAI3O,GAAO,CAAEsP,MAAO,EAAAzB,gBAAA,oBAA0D,QAArBlB,EAAK3M,EAAKsP,aAA0B,IAAP3C,EAAgBA,EAAK,SAC9ID,GAAa6C,SAAQvP,IACrBuN,EAAMxF,KAAK/H,GACXoK,EAAQpK,MAEZgP,EAASQ,QAAQrH,SAAQ,KACrB,IAAIwE,EAGJ,MAAM8C,EAA+C,QAAnC9C,EAAKqC,EAASJ,UAAUrB,aAA0B,IAAPZ,EAAgBA,EAAK,GAC7E,EAAA6B,QAAA,UAAkBS,EAAcQ,IAC5B5D,EAAmB5L,MAGhC6J,EAAS4F,cAAcvH,SAAQ1F,MAAOkN,EAAQrC,KAC1C,IAAIX,EAAIK,EAAIsB,EACZ,GAAIhB,IAAW1N,EAAW,CAEtB,MAAMgQ,EAAqC,QAAzBjD,EAAKE,EAAOS,UAA4B,IAAPX,EAAgBA,EAAK,GAClE8C,EAA+H,QAAnHnB,EAAqE,QAA/DtB,EAAKlD,EAASsD,QAAQE,GAAQP,OAAO,4BAAyC,IAAPC,OAAgB,EAASA,EAAGQ,YAAyB,IAAPc,EAAgBA,EAAK,GAClK,IAAK,EAAAE,QAAA,UAAkBoB,EAAUH,GAC7B,GAAI5C,EAAOS,SAEDzB,EAAmB5L,OAExB,CAED4M,EAAOS,GAAU,EAAAkB,QAAA,SAAiBiB,GAElC,MAAMI,EAAQ,EAAAhC,gBAAA,eAA+B4B,EAAUR,GAAc,GAAO,GACvEG,QAAOpP,IAASA,EAAKqP,WACrBhC,KAAIrN,IACL,IAAI2M,EACJ,OAAOO,OAAOyB,OAAOzB,OAAOyB,OAAO,GAAI3O,GAAO,CAAEsP,MAAO,EAAAzB,gBAAA,oBAA0D,QAArBlB,EAAK3M,EAAKsP,aAA0B,IAAP3C,EAAgBA,EAAK,SAElJ,EAAAwC,YAAA,YAAwB5B,EAAOsC,EAAOnD,GAAa6C,SAAQvP,IACvDoK,EAAQpK,YA/MpC,CAuNGQ,IAAYA,EAAU","sources":["webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/mainmenu-extension/lib/index.js"],"sourcesContent":["// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\n/**\n * @packageDocumentation\n * @module mainmenu-extension\n */\nimport { ILabShell, IRouter } from '@jupyterlab/application';\nimport { Dialog, ICommandPalette, MenuFactory, showDialog } from '@jupyterlab/apputils';\nimport { PageConfig, URLExt } from '@jupyterlab/coreutils';\nimport { IMainMenu, MainMenu } from '@jupyterlab/mainmenu';\nimport { ServerConnection } from '@jupyterlab/services';\nimport { ISettingRegistry, SettingRegistry } from '@jupyterlab/settingregistry';\nimport { ITranslator } from '@jupyterlab/translation';\nimport { fastForwardIcon, refreshIcon, runIcon, stopIcon } from '@jupyterlab/ui-components';\nimport { each, find } from '@lumino/algorithm';\nimport { JSONExt } from '@lumino/coreutils';\nimport { Widget } from '@lumino/widgets';\nconst PLUGIN_ID = '@jupyterlab/mainmenu-extension:plugin';\n/**\n * A namespace for command IDs of semantic extension points.\n */\nexport var CommandIDs;\n(function (CommandIDs) {\n    CommandIDs.openEdit = 'editmenu:open';\n    CommandIDs.undo = 'editmenu:undo';\n    CommandIDs.redo = 'editmenu:redo';\n    CommandIDs.clearCurrent = 'editmenu:clear-current';\n    CommandIDs.clearAll = 'editmenu:clear-all';\n    CommandIDs.find = 'editmenu:find';\n    CommandIDs.goToLine = 'editmenu:go-to-line';\n    CommandIDs.openFile = 'filemenu:open';\n    CommandIDs.closeAndCleanup = 'filemenu:close-and-cleanup';\n    CommandIDs.createConsole = 'filemenu:create-console';\n    CommandIDs.shutdown = 'filemenu:shutdown';\n    CommandIDs.logout = 'filemenu:logout';\n    CommandIDs.openKernel = 'kernelmenu:open';\n    CommandIDs.interruptKernel = 'kernelmenu:interrupt';\n    CommandIDs.reconnectToKernel = 'kernelmenu:reconnect-to-kernel';\n    CommandIDs.restartKernel = 'kernelmenu:restart';\n    CommandIDs.restartKernelAndClear = 'kernelmenu:restart-and-clear';\n    CommandIDs.changeKernel = 'kernelmenu:change';\n    CommandIDs.shutdownKernel = 'kernelmenu:shutdown';\n    CommandIDs.shutdownAllKernels = 'kernelmenu:shutdownAll';\n    CommandIDs.openView = 'viewmenu:open';\n    CommandIDs.wordWrap = 'viewmenu:word-wrap';\n    CommandIDs.lineNumbering = 'viewmenu:line-numbering';\n    CommandIDs.matchBrackets = 'viewmenu:match-brackets';\n    CommandIDs.openRun = 'runmenu:open';\n    CommandIDs.run = 'runmenu:run';\n    CommandIDs.runAll = 'runmenu:run-all';\n    CommandIDs.restartAndRunAll = 'runmenu:restart-and-run-all';\n    CommandIDs.runAbove = 'runmenu:run-above';\n    CommandIDs.runBelow = 'runmenu:run-below';\n    CommandIDs.openTabs = 'tabsmenu:open';\n    CommandIDs.activateById = 'tabsmenu:activate-by-id';\n    CommandIDs.activatePreviouslyUsedTab = 'tabsmenu:activate-previously-used-tab';\n    CommandIDs.openSettings = 'settingsmenu:open';\n    CommandIDs.openHelp = 'helpmenu:open';\n    CommandIDs.openFirst = 'mainmenu:open-first';\n})(CommandIDs || (CommandIDs = {}));\n/**\n * A service providing an interface to the main menu.\n */\nconst plugin = {\n    id: PLUGIN_ID,\n    requires: [IRouter, ITranslator],\n    optional: [ICommandPalette, ILabShell, ISettingRegistry],\n    provides: IMainMenu,\n    activate: async (app, router, translator, palette, labShell, registry) => {\n        const { commands } = app;\n        const trans = translator.load('jupyterlab');\n        const menu = new MainMenu(commands);\n        menu.id = 'jp-MainMenu';\n        menu.addClass('jp-scrollbar-tiny');\n        // Built menu from settings\n        if (registry) {\n            await Private.loadSettingsMenu(registry, (aMenu) => {\n                menu.addMenu(aMenu, { rank: aMenu.rank });\n            }, options => MainMenu.generateMenu(commands, options, trans), translator);\n        }\n        // Only add quit button if the back-end supports it by checking page config.\n        const quitButton = PageConfig.getOption('quitButton').toLowerCase();\n        menu.fileMenu.quitEntry = quitButton === 'true';\n        // Create the application menus.\n        createEditMenu(app, menu.editMenu, trans);\n        createFileMenu(app, menu.fileMenu, router, trans);\n        createKernelMenu(app, menu.kernelMenu, trans);\n        createRunMenu(app, menu.runMenu, trans);\n        createViewMenu(app, menu.viewMenu, trans);\n        // The tabs menu relies on lab shell functionality.\n        if (labShell) {\n            createTabsMenu(app, menu.tabsMenu, labShell, trans);\n        }\n        // Create commands to open the main application menus.\n        const activateMenu = (item) => {\n            menu.activeMenu = item;\n            menu.openActiveMenu();\n        };\n        commands.addCommand(CommandIDs.openEdit, {\n            label: trans.__('Open Edit Menu'),\n            execute: () => activateMenu(menu.editMenu)\n        });\n        commands.addCommand(CommandIDs.openFile, {\n            label: trans.__('Open File Menu'),\n            execute: () => activateMenu(menu.fileMenu)\n        });\n        commands.addCommand(CommandIDs.openKernel, {\n            label: trans.__('Open Kernel Menu'),\n            execute: () => activateMenu(menu.kernelMenu)\n        });\n        commands.addCommand(CommandIDs.openRun, {\n            label: trans.__('Open Run Menu'),\n            execute: () => activateMenu(menu.runMenu)\n        });\n        commands.addCommand(CommandIDs.openView, {\n            label: trans.__('Open View Menu'),\n            execute: () => activateMenu(menu.viewMenu)\n        });\n        commands.addCommand(CommandIDs.openSettings, {\n            label: trans.__('Open Settings Menu'),\n            execute: () => activateMenu(menu.settingsMenu)\n        });\n        commands.addCommand(CommandIDs.openTabs, {\n            label: trans.__('Open Tabs Menu'),\n            execute: () => activateMenu(menu.tabsMenu)\n        });\n        commands.addCommand(CommandIDs.openHelp, {\n            label: trans.__('Open Help Menu'),\n            execute: () => activateMenu(menu.helpMenu)\n        });\n        commands.addCommand(CommandIDs.openFirst, {\n            label: trans.__('Open First Menu'),\n            execute: () => {\n                menu.activeIndex = 0;\n                menu.openActiveMenu();\n            }\n        });\n        if (palette) {\n            // Add some of the commands defined here to the command palette.\n            palette.addItem({\n                command: CommandIDs.shutdown,\n                category: trans.__('Main Area')\n            });\n            palette.addItem({\n                command: CommandIDs.logout,\n                category: trans.__('Main Area')\n            });\n            palette.addItem({\n                command: CommandIDs.shutdownAllKernels,\n                category: trans.__('Kernel Operations')\n            });\n            palette.addItem({\n                command: CommandIDs.activatePreviouslyUsedTab,\n                category: trans.__('Main Area')\n            });\n        }\n        app.shell.add(menu, 'menu', { rank: 100 });\n        return menu;\n    }\n};\n/**\n * Create the basic `Edit` menu.\n */\nexport function createEditMenu(app, menu, trans) {\n    const commands = app.commands;\n    // Add the undo/redo commands the the Edit menu.\n    commands.addCommand(CommandIDs.undo, {\n        label: trans.__('Undo'),\n        isEnabled: Private.delegateEnabled(app, menu.undoers, 'undo'),\n        execute: Private.delegateExecute(app, menu.undoers, 'undo')\n    });\n    commands.addCommand(CommandIDs.redo, {\n        label: trans.__('Redo'),\n        isEnabled: Private.delegateEnabled(app, menu.undoers, 'redo'),\n        execute: Private.delegateExecute(app, menu.undoers, 'redo')\n    });\n    // Add the clear commands to the Edit menu.\n    commands.addCommand(CommandIDs.clearCurrent, {\n        label: () => {\n            const enabled = Private.delegateEnabled(app, menu.clearers, 'clearCurrent')();\n            let localizedLabel = trans.__('Clear');\n            if (enabled) {\n                localizedLabel = Private.delegateLabel(app, menu.clearers, 'clearCurrentLabel');\n            }\n            return localizedLabel;\n        },\n        isEnabled: Private.delegateEnabled(app, menu.clearers, 'clearCurrent'),\n        execute: Private.delegateExecute(app, menu.clearers, 'clearCurrent')\n    });\n    commands.addCommand(CommandIDs.clearAll, {\n        label: () => {\n            const enabled = Private.delegateEnabled(app, menu.clearers, 'clearAll')();\n            let localizedLabel = trans.__('Clear All');\n            if (enabled) {\n                localizedLabel = Private.delegateLabel(app, menu.clearers, 'clearAllLabel');\n            }\n            return localizedLabel;\n        },\n        isEnabled: Private.delegateEnabled(app, menu.clearers, 'clearAll'),\n        execute: Private.delegateExecute(app, menu.clearers, 'clearAll')\n    });\n    commands.addCommand(CommandIDs.goToLine, {\n        label: trans.__('Go to Line…'),\n        isEnabled: Private.delegateEnabled(app, menu.goToLiners, 'goToLine'),\n        execute: Private.delegateExecute(app, menu.goToLiners, 'goToLine')\n    });\n}\n/**\n * Create the basic `File` menu.\n */\nexport function createFileMenu(app, menu, router, trans) {\n    const commands = app.commands;\n    // Add a delegator command for closing and cleaning up an activity.\n    // This one is a bit different, in that we consider it enabled\n    // even if it cannot find a delegate for the activity.\n    // In that case, we instead call the application `close` command.\n    commands.addCommand(CommandIDs.closeAndCleanup, {\n        label: () => {\n            const localizedLabel = Private.delegateLabel(app, menu.closeAndCleaners, 'closeAndCleanupLabel');\n            return localizedLabel ? localizedLabel : trans.__('Close and Shutdown');\n        },\n        isEnabled: () => !!app.shell.currentWidget && !!app.shell.currentWidget.title.closable,\n        execute: () => {\n            // Check if we have a registered delegate. If so, call that.\n            if (Private.delegateEnabled(app, menu.closeAndCleaners, 'closeAndCleanup')()) {\n                return Private.delegateExecute(app, menu.closeAndCleaners, 'closeAndCleanup')();\n            }\n            // If we have no delegate, call the top-level application close.\n            return app.commands.execute('application:close');\n        }\n    });\n    // Add a delegator command for creating a console for an activity.\n    commands.addCommand(CommandIDs.createConsole, {\n        label: () => {\n            const localizedLabel = Private.delegateLabel(app, menu.consoleCreators, 'createConsoleLabel');\n            return localizedLabel\n                ? localizedLabel\n                : trans.__('New Console for Activity');\n        },\n        isEnabled: Private.delegateEnabled(app, menu.consoleCreators, 'createConsole'),\n        execute: Private.delegateExecute(app, menu.consoleCreators, 'createConsole')\n    });\n    commands.addCommand(CommandIDs.shutdown, {\n        label: trans.__('Shut Down'),\n        caption: trans.__('Shut down JupyterLab'),\n        isVisible: () => menu.quitEntry,\n        isEnabled: () => menu.quitEntry,\n        execute: () => {\n            return showDialog({\n                title: trans.__('Shutdown confirmation'),\n                body: trans.__('Please confirm you want to shut down JupyterLab.'),\n                buttons: [\n                    Dialog.cancelButton(),\n                    Dialog.warnButton({ label: trans.__('Shut Down') })\n                ]\n            }).then(async (result) => {\n                if (result.button.accept) {\n                    const setting = ServerConnection.makeSettings();\n                    const apiURL = URLExt.join(setting.baseUrl, 'api/shutdown');\n                    // Shutdown all kernel and terminal sessions before shutting down the server\n                    // If this fails, we continue execution so we can post an api/shutdown request\n                    try {\n                        await Promise.all([\n                            app.serviceManager.sessions.shutdownAll(),\n                            app.serviceManager.terminals.shutdownAll()\n                        ]);\n                    }\n                    catch (e) {\n                        // Do nothing\n                        console.log(`Failed to shutdown sessions and terminals: ${e}`);\n                    }\n                    return ServerConnection.makeRequest(apiURL, { method: 'POST' }, setting)\n                        .then(result => {\n                        if (result.ok) {\n                            // Close this window if the shutdown request has been successful\n                            const body = document.createElement('div');\n                            const p1 = document.createElement('p');\n                            p1.textContent = trans.__('You have shut down the Jupyter server. You can now close this tab.');\n                            const p2 = document.createElement('p');\n                            p2.textContent = trans.__('To use JupyterLab again, you will need to relaunch it.');\n                            body.appendChild(p1);\n                            body.appendChild(p2);\n                            void showDialog({\n                                title: trans.__('Server stopped'),\n                                body: new Widget({ node: body }),\n                                buttons: []\n                            });\n                            window.close();\n                        }\n                        else {\n                            throw new ServerConnection.ResponseError(result);\n                        }\n                    })\n                        .catch(data => {\n                        throw new ServerConnection.NetworkError(data);\n                    });\n                }\n            });\n        }\n    });\n    commands.addCommand(CommandIDs.logout, {\n        label: trans.__('Log Out'),\n        caption: trans.__('Log out of JupyterLab'),\n        isVisible: () => menu.quitEntry,\n        isEnabled: () => menu.quitEntry,\n        execute: () => {\n            router.navigate('/logout', { hard: true });\n        }\n    });\n}\n/**\n * Create the basic `Kernel` menu.\n */\nexport function createKernelMenu(app, menu, trans) {\n    const commands = app.commands;\n    commands.addCommand(CommandIDs.interruptKernel, {\n        label: trans.__('Interrupt Kernel'),\n        caption: trans.__('Interrupt the kernel'),\n        icon: args => (args.toolbar ? stopIcon : undefined),\n        isEnabled: Private.delegateEnabled(app, menu.kernelUsers, 'interruptKernel'),\n        execute: Private.delegateExecute(app, menu.kernelUsers, 'interruptKernel')\n    });\n    commands.addCommand(CommandIDs.reconnectToKernel, {\n        label: trans.__('Reconnect to Kernel'),\n        isEnabled: Private.delegateEnabled(app, menu.kernelUsers, 'reconnectToKernel'),\n        execute: Private.delegateExecute(app, menu.kernelUsers, 'reconnectToKernel')\n    });\n    commands.addCommand(CommandIDs.restartKernel, {\n        label: trans.__('Restart Kernel…'),\n        caption: trans.__('Restart the kernel'),\n        icon: args => (args.toolbar ? refreshIcon : undefined),\n        isEnabled: Private.delegateEnabled(app, menu.kernelUsers, 'restartKernel'),\n        execute: Private.delegateExecute(app, menu.kernelUsers, 'restartKernel')\n    });\n    commands.addCommand(CommandIDs.restartKernelAndClear, {\n        label: () => {\n            const enabled = Private.delegateEnabled(app, menu.kernelUsers, 'restartKernelAndClear')();\n            let localizedLabel = trans.__('Restart Kernel and Clear…');\n            if (enabled) {\n                localizedLabel = Private.delegateLabel(app, menu.kernelUsers, 'restartKernelAndClearLabel');\n            }\n            return localizedLabel;\n        },\n        isEnabled: Private.delegateEnabled(app, menu.kernelUsers, 'restartKernelAndClear'),\n        execute: Private.delegateExecute(app, menu.kernelUsers, 'restartKernelAndClear')\n    });\n    commands.addCommand(CommandIDs.changeKernel, {\n        label: trans.__('Change Kernel…'),\n        isEnabled: Private.delegateEnabled(app, menu.kernelUsers, 'changeKernel'),\n        execute: Private.delegateExecute(app, menu.kernelUsers, 'changeKernel')\n    });\n    commands.addCommand(CommandIDs.shutdownKernel, {\n        label: trans.__('Shut Down Kernel'),\n        isEnabled: Private.delegateEnabled(app, menu.kernelUsers, 'shutdownKernel'),\n        execute: Private.delegateExecute(app, menu.kernelUsers, 'shutdownKernel')\n    });\n    commands.addCommand(CommandIDs.shutdownAllKernels, {\n        label: trans.__('Shut Down All Kernels…'),\n        isEnabled: () => {\n            return app.serviceManager.sessions.running().next() !== undefined;\n        },\n        execute: () => {\n            return showDialog({\n                title: trans.__('Shut Down All?'),\n                body: trans.__('Shut down all kernels?'),\n                buttons: [\n                    Dialog.cancelButton({ label: trans.__('Dismiss') }),\n                    Dialog.warnButton({ label: trans.__('Shut Down All') })\n                ]\n            }).then(result => {\n                if (result.button.accept) {\n                    return app.serviceManager.sessions.shutdownAll();\n                }\n            });\n        }\n    });\n}\n/**\n * Create the basic `View` menu.\n */\nexport function createViewMenu(app, menu, trans) {\n    const commands = app.commands;\n    commands.addCommand(CommandIDs.lineNumbering, {\n        label: trans.__('Show Line Numbers'),\n        isEnabled: Private.delegateEnabled(app, menu.editorViewers, 'toggleLineNumbers'),\n        isToggled: Private.delegateToggled(app, menu.editorViewers, 'lineNumbersToggled'),\n        execute: Private.delegateExecute(app, menu.editorViewers, 'toggleLineNumbers')\n    });\n    commands.addCommand(CommandIDs.matchBrackets, {\n        label: trans.__('Match Brackets'),\n        isEnabled: Private.delegateEnabled(app, menu.editorViewers, 'toggleMatchBrackets'),\n        isToggled: Private.delegateToggled(app, menu.editorViewers, 'matchBracketsToggled'),\n        execute: Private.delegateExecute(app, menu.editorViewers, 'toggleMatchBrackets')\n    });\n    commands.addCommand(CommandIDs.wordWrap, {\n        label: trans.__('Wrap Words'),\n        isEnabled: Private.delegateEnabled(app, menu.editorViewers, 'toggleWordWrap'),\n        isToggled: Private.delegateToggled(app, menu.editorViewers, 'wordWrapToggled'),\n        execute: Private.delegateExecute(app, menu.editorViewers, 'toggleWordWrap')\n    });\n}\n/**\n * Create the basic `Run` menu.\n */\nexport function createRunMenu(app, menu, trans) {\n    const commands = app.commands;\n    commands.addCommand(CommandIDs.run, {\n        label: () => {\n            const localizedLabel = Private.delegateLabel(app, menu.codeRunners, 'runLabel');\n            const enabled = Private.delegateEnabled(app, menu.codeRunners, 'run')();\n            return enabled ? localizedLabel : trans.__('Run Selected');\n        },\n        caption: () => {\n            const localizedCaption = Private.delegateLabel(app, menu.codeRunners, 'runCaption');\n            const enabled = Private.delegateEnabled(app, menu.codeRunners, 'run')();\n            return enabled ? localizedCaption : trans.__('Run Selected');\n        },\n        icon: args => (args.toolbar ? runIcon : undefined),\n        isEnabled: Private.delegateEnabled(app, menu.codeRunners, 'run'),\n        execute: Private.delegateExecute(app, menu.codeRunners, 'run')\n    });\n    commands.addCommand(CommandIDs.runAll, {\n        label: () => {\n            let localizedLabel = trans.__('Run All');\n            const enabled = Private.delegateEnabled(app, menu.codeRunners, 'runAll')();\n            if (enabled) {\n                localizedLabel = Private.delegateLabel(app, menu.codeRunners, 'runAllLabel');\n            }\n            return localizedLabel;\n        },\n        caption: () => {\n            let localizedCaption = trans.__('Run All');\n            const enabled = Private.delegateEnabled(app, menu.codeRunners, 'runAll')();\n            if (enabled) {\n                localizedCaption = Private.delegateLabel(app, menu.codeRunners, 'runAllCaption');\n            }\n            return localizedCaption;\n        },\n        isEnabled: Private.delegateEnabled(app, menu.codeRunners, 'runAll'),\n        execute: Private.delegateExecute(app, menu.codeRunners, 'runAll')\n    });\n    commands.addCommand(CommandIDs.restartAndRunAll, {\n        label: () => {\n            let localizedLabel = trans.__('Restart Kernel and Run All');\n            const enabled = Private.delegateEnabled(app, menu.codeRunners, 'restartAndRunAll')();\n            if (enabled) {\n                localizedLabel = Private.delegateLabel(app, menu.codeRunners, 'restartAndRunAllLabel');\n            }\n            return localizedLabel;\n        },\n        caption: () => {\n            let localizedCaption = trans.__('Restart Kernel and Run All');\n            const enabled = Private.delegateEnabled(app, menu.codeRunners, 'restartAndRunAll')();\n            if (enabled) {\n                localizedCaption = Private.delegateLabel(app, menu.codeRunners, 'restartAndRunAllLabel');\n            }\n            return localizedCaption;\n        },\n        icon: args => (args.toolbar ? fastForwardIcon : undefined),\n        isEnabled: Private.delegateEnabled(app, menu.codeRunners, 'restartAndRunAll'),\n        execute: Private.delegateExecute(app, menu.codeRunners, 'restartAndRunAll')\n    });\n}\n/**\n * Create the basic `Tabs` menu.\n */\nexport function createTabsMenu(app, menu, labShell, trans) {\n    const commands = app.commands;\n    // A list of the active tabs in the main area.\n    const tabGroup = [];\n    // A disposable for getting rid of the out-of-date tabs list.\n    let disposable;\n    // Command to activate a widget by id.\n    commands.addCommand(CommandIDs.activateById, {\n        label: args => {\n            const id = args['id'] || '';\n            const widget = find(app.shell.widgets('main'), w => w.id === id);\n            return (widget && widget.title.label) || '';\n        },\n        isToggled: args => {\n            const id = args['id'] || '';\n            return !!app.shell.currentWidget && app.shell.currentWidget.id === id;\n        },\n        execute: args => app.shell.activateById(args['id'] || '')\n    });\n    let previousId = '';\n    // Command to toggle between the current\n    // tab and the last modified tab.\n    commands.addCommand(CommandIDs.activatePreviouslyUsedTab, {\n        label: trans.__('Activate Previously Used Tab'),\n        isEnabled: () => !!previousId,\n        execute: () => commands.execute(CommandIDs.activateById, { id: previousId })\n    });\n    if (labShell) {\n        void app.restored.then(() => {\n            // Iterate over the current widgets in the\n            // main area, and add them to the tab group\n            // of the menu.\n            const populateTabs = () => {\n                // remove the previous tab list\n                if (disposable && !disposable.isDisposed) {\n                    disposable.dispose();\n                }\n                tabGroup.length = 0;\n                let isPreviouslyUsedTabAttached = false;\n                each(app.shell.widgets('main'), widget => {\n                    if (widget.id === previousId) {\n                        isPreviouslyUsedTabAttached = true;\n                    }\n                    tabGroup.push({\n                        command: CommandIDs.activateById,\n                        args: { id: widget.id }\n                    });\n                });\n                disposable = menu.addGroup(tabGroup, 1);\n                previousId = isPreviouslyUsedTabAttached ? previousId : '';\n            };\n            populateTabs();\n            labShell.layoutModified.connect(() => {\n                populateTabs();\n            });\n            // Update the ID of the previous active tab if a new tab is selected.\n            labShell.currentChanged.connect((_, args) => {\n                const widget = args.oldValue;\n                if (!widget) {\n                    return;\n                }\n                previousId = widget.id;\n            });\n        });\n    }\n}\nexport default plugin;\n/**\n * A namespace for Private data.\n */\nvar Private;\n(function (Private) {\n    /**\n     * Return the first value of the iterable that satisfies the predicate\n     * function.\n     */\n    function find(it, predicate) {\n        for (const value of it) {\n            if (predicate(value)) {\n                return value;\n            }\n        }\n        return undefined;\n    }\n    /**\n     * A utility function that delegates a portion of a label to an IMenuExtender.\n     */\n    function delegateLabel(app, s, label) {\n        const widget = app.shell.currentWidget;\n        const extender = widget\n            ? find(s, value => value.tracker.has(widget))\n            : undefined;\n        if (!extender) {\n            return '';\n        }\n        else {\n            const count = extender.tracker.size;\n            // Coerce the result to be a string. When Typedoc is updated to use\n            // Typescript 2.8, we can possibly use conditional types to get Typescript\n            // to recognize this is a string.\n            return extender[label](count);\n        }\n    }\n    Private.delegateLabel = delegateLabel;\n    /**\n     * A utility function that delegates command execution\n     * to an IMenuExtender.\n     */\n    function delegateExecute(app, s, executor) {\n        return () => {\n            const widget = app.shell.currentWidget;\n            const extender = widget\n                ? find(s, value => value.tracker.has(widget))\n                : undefined;\n            if (!extender) {\n                return Promise.resolve(void 0);\n            }\n            // Coerce the result to be a function. When Typedoc is updated to use\n            // Typescript 2.8, we can possibly use conditional types to get Typescript\n            // to recognize this is a function.\n            const f = extender[executor];\n            return f(widget);\n        };\n    }\n    Private.delegateExecute = delegateExecute;\n    /**\n     * A utility function that delegates whether a command is enabled\n     * to an IMenuExtender.\n     */\n    function delegateEnabled(app, s, executor) {\n        return () => {\n            const widget = app.shell.currentWidget;\n            const extender = widget\n                ? find(s, value => value.tracker.has(widget))\n                : undefined;\n            return (!!extender &&\n                !!extender[executor] &&\n                (extender.isEnabled && widget ? extender.isEnabled(widget) : true));\n        };\n    }\n    Private.delegateEnabled = delegateEnabled;\n    /**\n     * A utility function that delegates whether a command is toggled\n     * for an IMenuExtender.\n     */\n    function delegateToggled(app, s, toggled) {\n        return () => {\n            const widget = app.shell.currentWidget;\n            const extender = widget\n                ? find(s, value => value.tracker.has(widget))\n                : undefined;\n            // Coerce extender[toggled] to be a function. When Typedoc is updated to use\n            // Typescript 2.8, we can possibly use conditional types to get Typescript\n            // to recognize this is a function.\n            return (!!extender &&\n                !!extender[toggled] &&\n                !!widget &&\n                !!extender[toggled](widget));\n        };\n    }\n    Private.delegateToggled = delegateToggled;\n    async function displayInformation(trans) {\n        const result = await showDialog({\n            title: trans.__('Information'),\n            body: trans.__('Menu customization has changed. You will need to reload JupyterLab to see the changes.'),\n            buttons: [\n                Dialog.cancelButton(),\n                Dialog.okButton({ label: trans.__('Reload') })\n            ]\n        });\n        if (result.button.accept) {\n            location.reload();\n        }\n    }\n    async function loadSettingsMenu(registry, addMenu, menuFactory, translator) {\n        var _a;\n        const trans = translator.load('jupyterlab');\n        let canonical;\n        let loaded = {};\n        /**\n         * Populate the plugin's schema defaults.\n         */\n        function populate(schema) {\n            var _a, _b;\n            loaded = {};\n            const pluginDefaults = Object.keys(registry.plugins)\n                .map(plugin => {\n                var _a, _b;\n                const menus = (_b = (_a = registry.plugins[plugin].schema['jupyter.lab.menus']) === null || _a === void 0 ? void 0 : _a.main) !== null && _b !== void 0 ? _b : [];\n                loaded[plugin] = menus;\n                return menus;\n            })\n                .concat([(_b = (_a = schema['jupyter.lab.menus']) === null || _a === void 0 ? void 0 : _a.main) !== null && _b !== void 0 ? _b : []])\n                .reduceRight((acc, val) => SettingRegistry.reconcileMenus(acc, val, true), schema.properties.menus.default);\n            // Apply default value as last step to take into account overrides.json\n            // The standard default being [] as the plugin must use `jupyter.lab.menus.main`\n            // to define their default value.\n            schema.properties.menus.default = SettingRegistry.reconcileMenus(pluginDefaults, schema.properties.menus.default, true)\n                // flatten one level\n                .sort((a, b) => { var _a, _b; return ((_a = a.rank) !== null && _a !== void 0 ? _a : Infinity) - ((_b = b.rank) !== null && _b !== void 0 ? _b : Infinity); });\n        }\n        // Transform the plugin object to return different schema than the default.\n        registry.transform(PLUGIN_ID, {\n            compose: plugin => {\n                var _a, _b, _c, _d;\n                // Only override the canonical schema the first time.\n                if (!canonical) {\n                    canonical = JSONExt.deepCopy(plugin.schema);\n                    populate(canonical);\n                }\n                const defaults = (_c = (_b = (_a = canonical.properties) === null || _a === void 0 ? void 0 : _a.menus) === null || _b === void 0 ? void 0 : _b.default) !== null && _c !== void 0 ? _c : [];\n                const user = Object.assign(Object.assign({}, plugin.data.user), { menus: (_d = plugin.data.user.menus) !== null && _d !== void 0 ? _d : [] });\n                const composite = Object.assign(Object.assign({}, plugin.data.composite), { menus: SettingRegistry.reconcileMenus(defaults, user.menus) });\n                plugin.data = { composite, user };\n                return plugin;\n            },\n            fetch: plugin => {\n                // Only override the canonical schema the first time.\n                if (!canonical) {\n                    canonical = JSONExt.deepCopy(plugin.schema);\n                    populate(canonical);\n                }\n                return {\n                    data: plugin.data,\n                    id: plugin.id,\n                    raw: plugin.raw,\n                    schema: canonical,\n                    version: plugin.version\n                };\n            }\n        });\n        // Repopulate the canonical variable after the setting registry has\n        // preloaded all initial plugins.\n        canonical = null;\n        const settings = await registry.load(PLUGIN_ID);\n        const currentMenus = (_a = JSONExt.deepCopy(settings.composite.menus)) !== null && _a !== void 0 ? _a : [];\n        const menus = new Array();\n        // Create menu for non-disabled element\n        MenuFactory.createMenus(currentMenus\n            .filter(menu => !menu.disabled)\n            .map(menu => {\n            var _a;\n            return Object.assign(Object.assign({}, menu), { items: SettingRegistry.filterDisabledItems((_a = menu.items) !== null && _a !== void 0 ? _a : []) });\n        }), menuFactory).forEach(menu => {\n            menus.push(menu);\n            addMenu(menu);\n        });\n        settings.changed.connect(() => {\n            var _a;\n            // As extension may change menu through API, prompt the user to reload if the\n            // menu has been updated.\n            const newMenus = (_a = settings.composite.menus) !== null && _a !== void 0 ? _a : [];\n            if (!JSONExt.deepEqual(currentMenus, newMenus)) {\n                void displayInformation(trans);\n            }\n        });\n        registry.pluginChanged.connect(async (sender, plugin) => {\n            var _a, _b, _c;\n            if (plugin !== PLUGIN_ID) {\n                // If the plugin changed its menu.\n                const oldMenus = (_a = loaded[plugin]) !== null && _a !== void 0 ? _a : [];\n                const newMenus = (_c = (_b = registry.plugins[plugin].schema['jupyter.lab.menus']) === null || _b === void 0 ? void 0 : _b.main) !== null && _c !== void 0 ? _c : [];\n                if (!JSONExt.deepEqual(oldMenus, newMenus)) {\n                    if (loaded[plugin]) {\n                        // The plugin has changed, request the user to reload the UI - this should not happen\n                        await displayInformation(trans);\n                    }\n                    else {\n                        // The plugin was not yet loaded when the menu was built => update the menu\n                        loaded[plugin] = JSONExt.deepCopy(newMenus);\n                        // Merge potential disabled state\n                        const toAdd = SettingRegistry.reconcileMenus(newMenus, currentMenus, false, false)\n                            .filter(menu => !menu.disabled)\n                            .map(menu => {\n                            var _a;\n                            return Object.assign(Object.assign({}, menu), { items: SettingRegistry.filterDisabledItems((_a = menu.items) !== null && _a !== void 0 ? _a : []) });\n                        });\n                        MenuFactory.updateMenus(menus, toAdd, menuFactory).forEach(menu => {\n                            addMenu(menu);\n                        });\n                    }\n                }\n            }\n        });\n    }\n    Private.loadSettingsMenu = loadSettingsMenu;\n})(Private || (Private = {}));\n//# sourceMappingURL=index.js.map"],"names":["PLUGIN_ID","CommandIDs","createEditMenu","app","menu","trans","commands","addCommand","undo","label","__","isEnabled","Private","delegateEnabled","undoers","execute","delegateExecute","redo","clearCurrent","enabled","clearers","localizedLabel","delegateLabel","clearAll","goToLine","goToLiners","createFileMenu","router","closeAndCleanup","closeAndCleaners","shell","currentWidget","title","closable","createConsole","consoleCreators","shutdown","caption","isVisible","quitEntry","showDialog","body","buttons","Dialog","then","async","result","button","accept","setting","ServerConnection","apiURL","URLExt","baseUrl","Promise","all","serviceManager","sessions","shutdownAll","terminals","e","console","log","method","ok","document","createElement","p1","textContent","p2","appendChild","Widget","node","window","close","catch","data","logout","navigate","hard","createKernelMenu","interruptKernel","icon","args","toolbar","stopIcon","undefined","kernelUsers","reconnectToKernel","restartKernel","refreshIcon","restartKernelAndClear","changeKernel","shutdownKernel","shutdownAllKernels","running","next","createViewMenu","lineNumbering","editorViewers","isToggled","delegateToggled","matchBrackets","wordWrap","createRunMenu","run","codeRunners","localizedCaption","runIcon","runAll","restartAndRunAll","fastForwardIcon","createTabsMenu","labShell","tabGroup","disposable","activateById","id","widget","find","widgets","w","previousId","activatePreviouslyUsedTab","restored","populateTabs","isDisposed","dispose","length","isPreviouslyUsedTabAttached","each","push","command","addGroup","layoutModified","connect","currentChanged","_","oldValue","openEdit","openFile","openKernel","openView","openRun","runAbove","runBelow","openTabs","openSettings","openHelp","openFirst","requires","IRouter","ITranslator","optional","ICommandPalette","ILabShell","ISettingRegistry","provides","IMainMenu","activate","translator","palette","registry","load","MainMenu","addClass","loadSettingsMenu","aMenu","addMenu","rank","options","quitButton","PageConfig","toLowerCase","fileMenu","editMenu","kernelMenu","runMenu","viewMenu","tabsMenu","activateMenu","item","activeMenu","openActiveMenu","settingsMenu","helpMenu","activeIndex","addItem","category","add","it","predicate","value","displayInformation","location","reload","s","extender","tracker","has","count","size","executor","f","resolve","toggled","menuFactory","_a","canonical","loaded","populate","schema","_b","pluginDefaults","Object","keys","plugins","map","plugin","menus","main","concat","reduceRight","acc","val","SettingRegistry","properties","default","sort","a","b","Infinity","transform","compose","_c","_d","JSONExt","defaults","user","assign","composite","fetch","raw","version","settings","currentMenus","Array","MenuFactory","filter","disabled","items","forEach","changed","newMenus","pluginChanged","sender","oldMenus","toAdd"],"sourceRoot":""}