{"version":3,"file":"8800.d407181.js","mappings":"4MAQO,MAAMA,EACTC,cACIC,KAAKC,YAAc,GAOvBC,UAAUC,GACN,MAAMC,EAAS,EAAAC,OAAA,KAAY,EAAAC,WAAA,aAAyB,oBAAoBH,UACxE,IACI,MAAMI,QAAiBC,MAAMJ,GACvBK,EAAOC,KAAKC,YAAYJ,EAASK,QACvC,GAlBA,QAkBIZ,KAAKC,aAlBT,QAkBgCE,EAAgB,CAK5C,MAAMU,EAAOb,KAAKC,YAClBQ,EAAKK,KAAKD,GAAME,YAAcN,EAAKK,KAAKD,GAAMG,WACjC,OAATH,IACAJ,EAAKK,KAAS,GAAEC,YAAc,GAAGN,EAAKK,KAAS,GAAEE,wBAIzD,OADAhB,KAAKC,YAAcE,EACZM,EAEX,MAAOQ,GACH,OAAId,EACO,CACHW,KAAM,GACNI,QAAS,kBAAkBf,qBAG5B,CACHW,KAAM,CACFK,GAAI,CAAEJ,YAAa,UAAWC,WAAY,YAE9CE,QAAS,MC3ClB,MAAME,EAAe,I,SAAIC,OAAM","sources":["webpack://_JUPYTERLAB.CORE_OUTPUT/../packages/translation/lib/translation.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../packages/translation/lib/tokens.js"],"sourcesContent":["import { PageConfig, URLExt } from '@jupyterlab/coreutils';\n/**\n * A fake locale to retrieve all the language packs.\n */\nconst ALL = 'all';\n/**\n * A class to handle requests to /api/translations\n */\nexport class Translation {\n    constructor() {\n        this._prevLocale = '';\n    }\n    /**\n     * Get the translation data for the given locale\n     * @param locale The locale\n     * @returns\n     */\n    async get(locale) {\n        const apiURL = URLExt.join(PageConfig.getBaseUrl(), `api/translations/${locale}.json`);\n        try {\n            const response = await fetch(apiURL);\n            const json = JSON.parse(await response.text());\n            if (this._prevLocale !== ALL && locale === ALL) {\n                // TODO: fix this logic upstream?\n                // the upstream translation plugin relies on the comparison between\n                // the display name and the native name to enable or disable the commands:\n                // https://github.com/jupyterlab/jupyterlab/blob/befa831ffef36321b87f352a48fbe2439df6c872/packages/translation-extension/src/index.ts#L117\n                const prev = this._prevLocale;\n                json.data[prev].displayName = json.data[prev].nativeName;\n                if (prev !== 'en') {\n                    json.data['en'].displayName = `${json.data['en'].nativeName} (default)`;\n                }\n            }\n            this._prevLocale = locale;\n            return json;\n        }\n        catch (e) {\n            if (locale) {\n                return {\n                    data: {},\n                    message: `Language pack '${locale}' not installed!`,\n                };\n            }\n            return {\n                data: {\n                    en: { displayName: 'English', nativeName: 'English' },\n                },\n                message: '',\n            };\n        }\n    }\n}\n","import { Token } from '@lumino/coreutils';\n/**\n * The token for the settings service.\n */\nexport const ITranslation = new Token('@jupyterlite/translation:ITranslation');\n"],"names":["Translation","constructor","this","_prevLocale","async","locale","apiURL","URLExt","PageConfig","response","fetch","json","JSON","parse","text","prev","data","displayName","nativeName","e","message","en","ITranslation","Token"],"sourceRoot":""}