{"version":3,"file":"1496.0e0ebe8.js","mappings":"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","sources":["webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/help-extension/lib/index.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/help-extension/lib/licenses.js"],"sourcesContent":["// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\n/**\n * @packageDocumentation\n * @module help-extension\n */\nimport { ILayoutRestorer } from '@jupyterlab/application';\nimport { CommandToolbarButton, Dialog, ICommandPalette, IFrame, MainAreaWidget, showDialog, Toolbar, WidgetTracker } from '@jupyterlab/apputils';\nimport { PageConfig, URLExt } from '@jupyterlab/coreutils';\nimport { IMainMenu } from '@jupyterlab/mainmenu';\nimport { ITranslator } from '@jupyterlab/translation';\nimport { copyrightIcon, jupyterIcon, jupyterlabWordmarkIcon, refreshIcon } from '@jupyterlab/ui-components';\nimport * as React from 'react';\nimport { Licenses } from './licenses';\n/**\n * The command IDs used by the help plugin.\n */\nvar CommandIDs;\n(function (CommandIDs) {\n    CommandIDs.open = 'help:open';\n    CommandIDs.about = 'help:about';\n    CommandIDs.activate = 'help:activate';\n    CommandIDs.close = 'help:close';\n    CommandIDs.show = 'help:show';\n    CommandIDs.hide = 'help:hide';\n    CommandIDs.launchClassic = 'help:launch-classic-notebook';\n    CommandIDs.jupyterForum = 'help:jupyter-forum';\n    CommandIDs.licenses = 'help:licenses';\n    CommandIDs.licenseReport = 'help:license-report';\n    CommandIDs.refreshLicenses = 'help:licenses-refresh';\n})(CommandIDs || (CommandIDs = {}));\n/**\n * A flag denoting whether the application is loaded over HTTPS.\n */\nconst LAB_IS_SECURE = window.location.protocol === 'https:';\n/**\n * The class name added to the help widget.\n */\nconst HELP_CLASS = 'jp-Help';\n/**\n * Add a command to show an About dialog.\n */\nconst about = {\n    id: '@jupyterlab/help-extension:about',\n    autoStart: true,\n    requires: [ITranslator],\n    optional: [ICommandPalette],\n    activate: (app, translator, palette) => {\n        const { commands } = app;\n        const trans = translator.load('jupyterlab');\n        const category = trans.__('Help');\n        commands.addCommand(CommandIDs.about, {\n            label: trans.__('About %1', app.name),\n            execute: () => {\n                // Create the header of the about dialog\n                const versionNumber = trans.__('Version %1', app.version);\n                const versionInfo = (React.createElement(\"span\", { className: \"jp-About-version-info\" },\n                    React.createElement(\"span\", { className: \"jp-About-version\" }, versionNumber)));\n                const title = (React.createElement(\"span\", { className: \"jp-About-header\" },\n                    React.createElement(jupyterIcon.react, { margin: \"7px 9.5px\", height: \"auto\", width: \"58px\" }),\n                    React.createElement(\"div\", { className: \"jp-About-header-info\" },\n                        React.createElement(jupyterlabWordmarkIcon.react, { height: \"auto\", width: \"196px\" }),\n                        versionInfo)));\n                // Create the body of the about dialog\n                const jupyterURL = 'https://jupyter.org/about.html';\n                const contributorsURL = 'https://github.com/jupyterlab/jupyterlab/graphs/contributors';\n                const externalLinks = (React.createElement(\"span\", { className: \"jp-About-externalLinks\" },\n                    React.createElement(\"a\", { href: contributorsURL, target: \"_blank\", rel: \"noopener noreferrer\", className: \"jp-Button-flat\" }, trans.__('CONTRIBUTOR LIST')),\n                    React.createElement(\"a\", { href: jupyterURL, target: \"_blank\", rel: \"noopener noreferrer\", className: \"jp-Button-flat\" }, trans.__('ABOUT PROJECT JUPYTER'))));\n                const copyright = (React.createElement(\"span\", { className: \"jp-About-copyright\" }, trans.__('© 2015-2021 Project Jupyter Contributors')));\n                const body = (React.createElement(\"div\", { className: \"jp-About-body\" },\n                    externalLinks,\n                    copyright));\n                return showDialog({\n                    title,\n                    body,\n                    buttons: [\n                        Dialog.createButton({\n                            label: trans.__('Dismiss'),\n                            className: 'jp-About-button jp-mod-reject jp-mod-styled'\n                        })\n                    ]\n                });\n            }\n        });\n        if (palette) {\n            palette.addItem({ command: CommandIDs.about, category });\n        }\n    }\n};\n/**\n * A plugin to add a command to open the Classic Notebook interface.\n */\nconst launchClassic = {\n    id: '@jupyterlab/help-extension:launch-classic',\n    autoStart: true,\n    requires: [ITranslator],\n    optional: [ICommandPalette],\n    activate: (app, translator, palette) => {\n        const { commands } = app;\n        const trans = translator.load('jupyterlab');\n        const category = trans.__('Help');\n        commands.addCommand(CommandIDs.launchClassic, {\n            label: trans.__('Launch Classic Notebook'),\n            execute: () => {\n                window.open(PageConfig.getBaseUrl() + 'tree');\n            }\n        });\n        if (palette) {\n            palette.addItem({ command: CommandIDs.launchClassic, category });\n        }\n    }\n};\n/**\n * A plugin to add a command to open the Jupyter Forum.\n */\nconst jupyterForum = {\n    id: '@jupyterlab/help-extension:jupyter-forum',\n    autoStart: true,\n    requires: [ITranslator],\n    optional: [ICommandPalette],\n    activate: (app, translator, palette) => {\n        const { commands } = app;\n        const trans = translator.load('jupyterlab');\n        const category = trans.__('Help');\n        commands.addCommand(CommandIDs.jupyterForum, {\n            label: trans.__('Jupyter Forum'),\n            execute: () => {\n                window.open('https://discourse.jupyter.org/c/jupyterlab');\n            }\n        });\n        if (palette) {\n            palette.addItem({ command: CommandIDs.jupyterForum, category });\n        }\n    }\n};\n/**\n * A plugin to add a list of resources to the help menu.\n */\nconst resources = {\n    id: '@jupyterlab/help-extension:resources',\n    autoStart: true,\n    requires: [IMainMenu, ITranslator],\n    optional: [ICommandPalette, ILayoutRestorer],\n    activate: (app, mainMenu, translator, palette, restorer) => {\n        const trans = translator.load('jupyterlab');\n        let counter = 0;\n        const category = trans.__('Help');\n        const namespace = 'help-doc';\n        const { commands, shell, serviceManager } = app;\n        const tracker = new WidgetTracker({ namespace });\n        const resources = [\n            {\n                text: trans.__('JupyterLab Reference'),\n                url: 'https://jupyterlab.readthedocs.io/en/3.3.x/'\n            },\n            {\n                text: trans.__('JupyterLab FAQ'),\n                url: 'https://jupyterlab.readthedocs.io/en/3.3.x/getting_started/faq.html'\n            },\n            {\n                text: trans.__('Jupyter Reference'),\n                url: 'https://jupyter.org/documentation'\n            },\n            {\n                text: trans.__('Markdown Reference'),\n                url: 'https://commonmark.org/help/'\n            }\n        ];\n        resources.sort((a, b) => {\n            return a.text.localeCompare(b.text);\n        });\n        // Handle state restoration.\n        if (restorer) {\n            void restorer.restore(tracker, {\n                command: CommandIDs.open,\n                args: widget => ({\n                    url: widget.content.url,\n                    text: widget.content.title.label\n                }),\n                name: widget => widget.content.url\n            });\n        }\n        /**\n         * Create a new HelpWidget widget.\n         */\n        function newHelpWidget(url, text) {\n            // Allow scripts and forms so that things like\n            // readthedocs can use their search functionality.\n            // We *don't* allow same origin requests, which\n            // can prevent some content from being loaded onto the\n            // help pages.\n            const content = new IFrame({\n                sandbox: ['allow-scripts', 'allow-forms']\n            });\n            content.url = url;\n            content.addClass(HELP_CLASS);\n            content.title.label = text;\n            content.id = `${namespace}-${++counter}`;\n            const widget = new MainAreaWidget({ content });\n            widget.addClass('jp-Help');\n            return widget;\n        }\n        // Populate the Help menu.\n        const helpMenu = mainMenu.helpMenu;\n        const resourcesGroup = resources.map(args => ({\n            args,\n            command: CommandIDs.open\n        }));\n        helpMenu.addGroup(resourcesGroup, 10);\n        // Generate a cache of the kernel help links.\n        const kernelInfoCache = new Map();\n        serviceManager.sessions.runningChanged.connect((m, sessions) => {\n            var _a;\n            // If a new session has been added, it is at the back\n            // of the session list. If one has changed or stopped,\n            // it does not hurt to check it.\n            if (!sessions.length) {\n                return;\n            }\n            const sessionModel = sessions[sessions.length - 1];\n            if (!sessionModel.kernel ||\n                kernelInfoCache.has(sessionModel.kernel.name)) {\n                return;\n            }\n            const session = serviceManager.sessions.connectTo({\n                model: sessionModel,\n                kernelConnectionOptions: { handleComms: false }\n            });\n            void ((_a = session.kernel) === null || _a === void 0 ? void 0 : _a.info.then(kernelInfo => {\n                var _a, _b;\n                const name = session.kernel.name;\n                // Check the cache second time so that, if two callbacks get scheduled,\n                // they don't try to add the same commands.\n                if (kernelInfoCache.has(name)) {\n                    return;\n                }\n                // Set the Kernel Info cache.\n                kernelInfoCache.set(name, kernelInfo);\n                // Utility function to check if the current widget\n                // has registered itself with the help menu.\n                const usesKernel = () => {\n                    let result = false;\n                    const widget = app.shell.currentWidget;\n                    if (!widget) {\n                        return result;\n                    }\n                    helpMenu.kernelUsers.forEach(u => {\n                        var _a;\n                        if (u.tracker.has(widget) && ((_a = u.getKernel(widget)) === null || _a === void 0 ? void 0 : _a.name) === name) {\n                            result = true;\n                        }\n                    });\n                    return result;\n                };\n                // Add the kernel banner to the Help Menu.\n                const bannerCommand = `help-menu-${name}:banner`;\n                const spec = (_b = (_a = serviceManager.kernelspecs) === null || _a === void 0 ? void 0 : _a.specs) === null || _b === void 0 ? void 0 : _b.kernelspecs[name];\n                if (!spec) {\n                    return;\n                }\n                const kernelName = spec.display_name;\n                let kernelIconUrl = spec.resources['logo-64x64'];\n                commands.addCommand(bannerCommand, {\n                    label: trans.__('About the %1 Kernel', kernelName),\n                    isVisible: usesKernel,\n                    isEnabled: usesKernel,\n                    execute: () => {\n                        // Create the header of the about dialog\n                        const headerLogo = React.createElement(\"img\", { src: kernelIconUrl });\n                        const title = (React.createElement(\"span\", { className: \"jp-About-header\" },\n                            headerLogo,\n                            React.createElement(\"div\", { className: \"jp-About-header-info\" }, kernelName)));\n                        const banner = React.createElement(\"pre\", null, kernelInfo.banner);\n                        const body = React.createElement(\"div\", { className: \"jp-About-body\" }, banner);\n                        return showDialog({\n                            title,\n                            body,\n                            buttons: [\n                                Dialog.createButton({\n                                    label: trans.__('Dismiss'),\n                                    className: 'jp-About-button jp-mod-reject jp-mod-styled'\n                                })\n                            ]\n                        });\n                    }\n                });\n                helpMenu.addGroup([{ command: bannerCommand }], 20);\n                // Add the kernel info help_links to the Help menu.\n                const kernelGroup = [];\n                (kernelInfo.help_links || []).forEach(link => {\n                    const commandId = `help-menu-${name}:${link.text}`;\n                    commands.addCommand(commandId, {\n                        label: link.text,\n                        isVisible: usesKernel,\n                        isEnabled: usesKernel,\n                        execute: () => {\n                            return commands.execute(CommandIDs.open, link);\n                        }\n                    });\n                    kernelGroup.push({ command: commandId });\n                });\n                helpMenu.addGroup(kernelGroup, 21);\n                // Dispose of the session object since we no longer need it.\n                session.dispose();\n            }));\n        });\n        commands.addCommand(CommandIDs.open, {\n            label: args => args['text'],\n            execute: args => {\n                const url = args['url'];\n                const text = args['text'];\n                const newBrowserTab = args['newBrowserTab'] || false;\n                // If help resource will generate a mixed content error, load externally.\n                if (newBrowserTab ||\n                    (LAB_IS_SECURE && URLExt.parse(url).protocol !== 'https:')) {\n                    window.open(url);\n                    return;\n                }\n                const widget = newHelpWidget(url, text);\n                void tracker.add(widget);\n                shell.add(widget, 'main');\n                return widget;\n            }\n        });\n        if (palette) {\n            resources.forEach(args => {\n                palette.addItem({ args, command: CommandIDs.open, category });\n            });\n            palette.addItem({\n                args: { reload: true },\n                command: 'apputils:reset',\n                category\n            });\n        }\n    }\n};\n/**\n * A plugin to add a licenses reporting tools.\n */\nconst licenses = {\n    id: '@jupyterlab/help-extension:licenses',\n    autoStart: true,\n    requires: [ITranslator],\n    optional: [IMainMenu, ICommandPalette, ILayoutRestorer],\n    activate: (app, translator, menu, palette, restorer) => {\n        // bail if no license API is available from the server\n        if (!PageConfig.getOption('licensesUrl')) {\n            return;\n        }\n        const { commands, shell } = app;\n        const trans = translator.load('jupyterlab');\n        // translation strings\n        const category = trans.__('Help');\n        const downloadAsText = trans.__('Download All Licenses as');\n        const licensesText = trans.__('Licenses');\n        const refreshLicenses = trans.__('Refresh Licenses');\n        // an incrementer for license widget ids\n        let counter = 0;\n        const licensesUrl = URLExt.join(PageConfig.getBaseUrl(), PageConfig.getOption('licensesUrl')) + '/';\n        const licensesNamespace = 'help-licenses';\n        const licensesTracker = new WidgetTracker({\n            namespace: licensesNamespace\n        });\n        /**\n         * Return a full license report format based on a format name\n         */\n        function formatOrDefault(format) {\n            return (Licenses.REPORT_FORMATS[format] ||\n                Licenses.REPORT_FORMATS[Licenses.DEFAULT_FORMAT]);\n        }\n        /**\n         * Create a MainAreaWidget for a license viewer\n         */\n        function createLicenseWidget(args) {\n            const licensesModel = new Licenses.Model(Object.assign(Object.assign({}, args), { licensesUrl,\n                trans, serverSettings: app.serviceManager.serverSettings }));\n            const content = new Licenses({ model: licensesModel });\n            content.id = `${licensesNamespace}-${++counter}`;\n            content.title.label = licensesText;\n            content.title.icon = copyrightIcon;\n            const main = new MainAreaWidget({\n                content,\n                reveal: licensesModel.licensesReady\n            });\n            main.toolbar.addItem('refresh-licenses', new CommandToolbarButton({\n                id: CommandIDs.refreshLicenses,\n                args: { noLabel: 1 },\n                commands\n            }));\n            main.toolbar.addItem('spacer', Toolbar.createSpacerItem());\n            for (const format of Object.keys(Licenses.REPORT_FORMATS)) {\n                const button = new CommandToolbarButton({\n                    id: CommandIDs.licenseReport,\n                    args: { format, noLabel: 1 },\n                    commands\n                });\n                main.toolbar.addItem(`download-${format}`, button);\n            }\n            return main;\n        }\n        // register license-related commands\n        commands.addCommand(CommandIDs.licenses, {\n            label: licensesText,\n            execute: (args) => {\n                const licenseMain = createLicenseWidget(args);\n                shell.add(licenseMain, 'main');\n                // add to tracker so it can be restored, and update when choices change\n                void licensesTracker.add(licenseMain);\n                licenseMain.content.model.trackerDataChanged.connect(() => {\n                    void licensesTracker.save(licenseMain);\n                });\n                return licenseMain;\n            }\n        });\n        commands.addCommand(CommandIDs.refreshLicenses, {\n            label: args => (args.noLabel ? '' : refreshLicenses),\n            caption: refreshLicenses,\n            icon: refreshIcon,\n            execute: async () => {\n                var _a;\n                return (_a = licensesTracker.currentWidget) === null || _a === void 0 ? void 0 : _a.content.model.initLicenses();\n            }\n        });\n        commands.addCommand(CommandIDs.licenseReport, {\n            label: args => {\n                if (args.noLabel) {\n                    return '';\n                }\n                const format = formatOrDefault(`${args.format}`);\n                return `${downloadAsText} ${format.title}`;\n            },\n            caption: args => {\n                const format = formatOrDefault(`${args.format}`);\n                return `${downloadAsText} ${format.title}`;\n            },\n            icon: args => {\n                const format = formatOrDefault(`${args.format}`);\n                return format.icon;\n            },\n            execute: async (args) => {\n                var _a;\n                const format = formatOrDefault(`${args.format}`);\n                return await ((_a = licensesTracker.currentWidget) === null || _a === void 0 ? void 0 : _a.content.model.download({\n                    format: format.id\n                }));\n            }\n        });\n        // handle optional integrations\n        if (palette) {\n            palette.addItem({ command: CommandIDs.licenses, category });\n        }\n        if (menu) {\n            const helpMenu = menu.helpMenu;\n            helpMenu.addGroup([{ command: CommandIDs.licenses }], 0);\n        }\n        if (restorer) {\n            void restorer.restore(licensesTracker, {\n                command: CommandIDs.licenses,\n                name: widget => 'licenses',\n                args: widget => {\n                    const { currentBundleName, currentPackageIndex, packageFilter } = widget.content.model;\n                    const args = {\n                        currentBundleName,\n                        currentPackageIndex,\n                        packageFilter\n                    };\n                    return args;\n                }\n            });\n        }\n    }\n};\nconst plugins = [\n    about,\n    launchClassic,\n    jupyterForum,\n    resources,\n    licenses\n];\nexport default plugins;\n//# sourceMappingURL=index.js.map","// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\nimport { VDomModel, VDomRenderer } from '@jupyterlab/apputils';\nimport { ServerConnection } from '@jupyterlab/services';\nimport { jsonIcon, markdownIcon, spreadsheetIcon } from '@jupyterlab/ui-components';\nimport { PromiseDelegate } from '@lumino/coreutils';\nimport { Signal } from '@lumino/signaling';\nimport { h } from '@lumino/virtualdom';\nimport { Panel, SplitPanel, TabBar, Widget } from '@lumino/widgets';\nimport * as React from 'react';\n/**\n * A license viewer\n */\nexport class Licenses extends SplitPanel {\n    constructor(options) {\n        super();\n        this.addClass('jp-Licenses');\n        this.model = options.model;\n        this.initLeftPanel();\n        this.initFilters();\n        this.initBundles();\n        this.initGrid();\n        this.initLicenseText();\n        this.setRelativeSizes([1, 2, 3]);\n        void this.model.initLicenses().then(() => this._updateBundles());\n        this.model.trackerDataChanged.connect(() => {\n            this.title.label = this.model.title;\n        });\n    }\n    /**\n     * Handle disposing of the widget\n     */\n    dispose() {\n        if (this.isDisposed) {\n            return;\n        }\n        this._bundles.currentChanged.disconnect(this.onBundleSelected, this);\n        this.model.dispose();\n        super.dispose();\n    }\n    /**\n     * Initialize the left area for filters and bundles\n     */\n    initLeftPanel() {\n        this._leftPanel = new Panel();\n        this._leftPanel.addClass('jp-Licenses-FormArea');\n        this.addWidget(this._leftPanel);\n        SplitPanel.setStretch(this._leftPanel, 1);\n    }\n    /**\n     * Initialize the filters\n     */\n    initFilters() {\n        this._filters = new Licenses.Filters(this.model);\n        SplitPanel.setStretch(this._filters, 1);\n        this._leftPanel.addWidget(this._filters);\n    }\n    /**\n     * Initialize the listing of available bundles\n     */\n    initBundles() {\n        this._bundles = new TabBar({\n            orientation: 'vertical',\n            renderer: new Licenses.BundleTabRenderer(this.model)\n        });\n        this._bundles.addClass('jp-Licenses-Bundles');\n        SplitPanel.setStretch(this._bundles, 1);\n        this._leftPanel.addWidget(this._bundles);\n        this._bundles.currentChanged.connect(this.onBundleSelected, this);\n        this.model.stateChanged.connect(() => this._bundles.update());\n    }\n    /**\n     * Initialize the listing of packages within the current bundle\n     */\n    initGrid() {\n        this._grid = new Licenses.Grid(this.model);\n        SplitPanel.setStretch(this._grid, 1);\n        this.addWidget(this._grid);\n    }\n    /**\n     * Initialize the full text of the current package\n     */\n    initLicenseText() {\n        this._licenseText = new Licenses.FullText(this.model);\n        SplitPanel.setStretch(this._grid, 1);\n        this.addWidget(this._licenseText);\n    }\n    /**\n     * Event handler for updating the model with the current bundle\n     */\n    onBundleSelected() {\n        var _a;\n        if ((_a = this._bundles.currentTitle) === null || _a === void 0 ? void 0 : _a.label) {\n            this.model.currentBundleName = this._bundles.currentTitle.label;\n        }\n    }\n    /**\n     * Update the bundle tabs.\n     */\n    _updateBundles() {\n        this._bundles.clearTabs();\n        let i = 0;\n        const { currentBundleName } = this.model;\n        let currentIndex = 0;\n        for (const bundle of this.model.bundleNames) {\n            const tab = new Widget();\n            tab.title.label = bundle;\n            if (bundle === currentBundleName) {\n                currentIndex = i;\n            }\n            this._bundles.insertTab(++i, tab.title);\n        }\n        this._bundles.currentIndex = currentIndex;\n    }\n}\n/** A namespace for license components */\n(function (Licenses) {\n    /**\n     * License report formats understood by the server (once lower-cased)\n     */\n    Licenses.REPORT_FORMATS = {\n        markdown: {\n            id: 'markdown',\n            title: 'Markdown',\n            icon: markdownIcon\n        },\n        csv: {\n            id: 'csv',\n            title: 'CSV',\n            icon: spreadsheetIcon\n        },\n        json: {\n            id: 'csv',\n            title: 'JSON',\n            icon: jsonIcon\n        }\n    };\n    /**\n     * The default format (most human-readable)\n     */\n    Licenses.DEFAULT_FORMAT = 'markdown';\n    /**\n     * A model for license data\n     */\n    class Model extends VDomModel {\n        constructor(options) {\n            super();\n            this._selectedPackageChanged = new Signal(this);\n            this._trackerDataChanged = new Signal(this);\n            this._currentPackageIndex = 0;\n            this._licensesReady = new PromiseDelegate();\n            this._packageFilter = {};\n            this._trans = options.trans;\n            this._licensesUrl = options.licensesUrl;\n            this._serverSettings =\n                options.serverSettings || ServerConnection.makeSettings();\n            if (options.currentBundleName) {\n                this._currentBundleName = options.currentBundleName;\n            }\n            if (options.packageFilter) {\n                this._packageFilter = options.packageFilter;\n            }\n            if (options.currentPackageIndex) {\n                this._currentPackageIndex = options.currentPackageIndex;\n            }\n        }\n        /**\n         * Handle the initial request for the licenses from the server.\n         */\n        async initLicenses() {\n            try {\n                const response = await ServerConnection.makeRequest(this._licensesUrl, {}, this._serverSettings);\n                this._serverResponse = await response.json();\n                this._licensesReady.resolve();\n                this.stateChanged.emit(void 0);\n            }\n            catch (err) {\n                this._licensesReady.reject(err);\n            }\n        }\n        /**\n         * Create a temporary download link, and emulate clicking it to trigger a named\n         * file download.\n         */\n        async download(options) {\n            const url = `${this._licensesUrl}?format=${options.format}&download=1`;\n            const element = document.createElement('a');\n            element.href = url;\n            element.download = '';\n            document.body.appendChild(element);\n            element.click();\n            document.body.removeChild(element);\n            return void 0;\n        }\n        /**\n         * A promise that resolves when the licenses from the server change\n         */\n        get selectedPackageChanged() {\n            return this._selectedPackageChanged;\n        }\n        /**\n         * A promise that resolves when the trackable data changes\n         */\n        get trackerDataChanged() {\n            return this._trackerDataChanged;\n        }\n        /**\n         * The names of the license bundles available\n         */\n        get bundleNames() {\n            var _a;\n            return Object.keys(((_a = this._serverResponse) === null || _a === void 0 ? void 0 : _a.bundles) || {});\n        }\n        /**\n         * The current license bundle\n         */\n        get currentBundleName() {\n            if (this._currentBundleName) {\n                return this._currentBundleName;\n            }\n            if (this.bundleNames.length) {\n                return this.bundleNames[0];\n            }\n            return null;\n        }\n        /**\n         * Set the current license bundle, and reset the selected index\n         */\n        set currentBundleName(currentBundleName) {\n            if (this._currentBundleName !== currentBundleName) {\n                this._currentBundleName = currentBundleName;\n                this.stateChanged.emit(void 0);\n                this._trackerDataChanged.emit(void 0);\n            }\n        }\n        /**\n         * A promise that resolves when the licenses are available from the server\n         */\n        get licensesReady() {\n            return this._licensesReady.promise;\n        }\n        /**\n         * All the license bundles, keyed by the distributing packages\n         */\n        get bundles() {\n            var _a;\n            return ((_a = this._serverResponse) === null || _a === void 0 ? void 0 : _a.bundles) || {};\n        }\n        /**\n         * The index of the currently-selected package within its license bundle\n         */\n        get currentPackageIndex() {\n            return this._currentPackageIndex;\n        }\n        /**\n         * Update the currently-selected package within its license bundle\n         */\n        set currentPackageIndex(currentPackageIndex) {\n            if (this._currentPackageIndex === currentPackageIndex) {\n                return;\n            }\n            this._currentPackageIndex = currentPackageIndex;\n            this._selectedPackageChanged.emit(void 0);\n            this.stateChanged.emit(void 0);\n            this._trackerDataChanged.emit(void 0);\n        }\n        /**\n         * The license data for the currently-selected package\n         */\n        get currentPackage() {\n            var _a;\n            if (this.currentBundleName &&\n                this.bundles &&\n                this._currentPackageIndex != null) {\n                return this.getFilteredPackages(((_a = this.bundles[this.currentBundleName]) === null || _a === void 0 ? void 0 : _a.packages) || [])[this._currentPackageIndex];\n            }\n            return null;\n        }\n        /**\n         * A translation bundle\n         */\n        get trans() {\n            return this._trans;\n        }\n        get title() {\n            return `${this._currentBundleName || ''} ${this._trans.__('Licenses')}`.trim();\n        }\n        /**\n         * The current package filter\n         */\n        get packageFilter() {\n            return this._packageFilter;\n        }\n        set packageFilter(packageFilter) {\n            this._packageFilter = packageFilter;\n            this.stateChanged.emit(void 0);\n            this._trackerDataChanged.emit(void 0);\n        }\n        /**\n         * Get filtered packages from current bundle where at least one token of each\n         * key is present.\n         */\n        getFilteredPackages(allRows) {\n            let rows = [];\n            let filters = Object.entries(this._packageFilter)\n                .filter(([k, v]) => v && `${v}`.trim().length)\n                .map(([k, v]) => [k, `${v}`.toLowerCase().trim().split(' ')]);\n            for (const row of allRows) {\n                let keyHits = 0;\n                for (const [key, bits] of filters) {\n                    let bitHits = 0;\n                    let rowKeyValue = `${row[key]}`.toLowerCase();\n                    for (const bit of bits) {\n                        if (rowKeyValue.includes(bit)) {\n                            bitHits += 1;\n                        }\n                    }\n                    if (bitHits) {\n                        keyHits += 1;\n                    }\n                }\n                if (keyHits === filters.length) {\n                    rows.push(row);\n                }\n            }\n            return Object.values(rows);\n        }\n    }\n    Licenses.Model = Model;\n    /**\n     * A filter form for limiting the packages displayed\n     */\n    class Filters extends VDomRenderer {\n        constructor(model) {\n            super(model);\n            /**\n             * Render a filter input\n             */\n            this.renderFilter = (key) => {\n                const value = this.model.packageFilter[key] || '';\n                return (React.createElement(\"input\", { type: \"text\", name: key, defaultValue: value, className: \"jp-mod-styled\", onInput: this.onFilterInput }));\n            };\n            /**\n             * Handle a filter input changing\n             */\n            this.onFilterInput = (evt) => {\n                const input = evt.currentTarget;\n                const { name, value } = input;\n                this.model.packageFilter = Object.assign(Object.assign({}, this.model.packageFilter), { [name]: value });\n            };\n            this.addClass('jp-Licenses-Filters');\n            this.addClass('jp-RenderedHTMLCommon');\n        }\n        render() {\n            const { trans } = this.model;\n            return (React.createElement(\"div\", null,\n                React.createElement(\"label\", null,\n                    React.createElement(\"strong\", null, trans.__('Filter Licenses By'))),\n                React.createElement(\"ul\", null,\n                    React.createElement(\"li\", null,\n                        React.createElement(\"label\", null, trans.__('Package')),\n                        this.renderFilter('name')),\n                    React.createElement(\"li\", null,\n                        React.createElement(\"label\", null, trans.__('Version')),\n                        this.renderFilter('versionInfo')),\n                    React.createElement(\"li\", null,\n                        React.createElement(\"label\", null, trans.__('License')),\n                        this.renderFilter('licenseId'))),\n                React.createElement(\"label\", null,\n                    React.createElement(\"strong\", null, trans.__('Distributions')))));\n        }\n    }\n    Licenses.Filters = Filters;\n    /**\n     * A fancy bundle renderer with the package count\n     */\n    class BundleTabRenderer extends TabBar.Renderer {\n        constructor(model) {\n            super();\n            this.closeIconSelector = '.lm-TabBar-tabCloseIcon';\n            this.model = model;\n        }\n        /**\n         * Render a full bundle\n         */\n        renderTab(data) {\n            let title = data.title.caption;\n            let key = this.createTabKey(data);\n            let style = this.createTabStyle(data);\n            let className = this.createTabClass(data);\n            let dataset = this.createTabDataset(data);\n            return h.li({ key, className, title, style, dataset }, this.renderIcon(data), this.renderLabel(data), this.renderCountBadge(data));\n        }\n        /**\n         * Render the package count\n         */\n        renderCountBadge(data) {\n            const bundle = data.title.label;\n            const { bundles } = this.model;\n            const packages = this.model.getFilteredPackages((bundles && bundle ? bundles[bundle].packages : []) || []);\n            return h.label({}, `${packages.length}`);\n        }\n    }\n    Licenses.BundleTabRenderer = BundleTabRenderer;\n    /**\n     * A grid of licenses\n     */\n    class Grid extends VDomRenderer {\n        constructor(model) {\n            super(model);\n            /**\n             * Render a single package's license information\n             */\n            this.renderRow = (row, index) => {\n                const selected = index === this.model.currentPackageIndex;\n                const onCheck = () => (this.model.currentPackageIndex = index);\n                return (React.createElement(\"tr\", { key: row.name, className: selected ? 'jp-mod-selected' : '', onClick: onCheck },\n                    React.createElement(\"td\", null,\n                        React.createElement(\"input\", { type: \"radio\", name: \"show-package-license\", value: index, onChange: onCheck, checked: selected })),\n                    React.createElement(\"th\", null, row.name),\n                    React.createElement(\"td\", null,\n                        React.createElement(\"code\", null, row.versionInfo)),\n                    React.createElement(\"td\", null,\n                        React.createElement(\"code\", null, row.licenseId))));\n            };\n            this.addClass('jp-Licenses-Grid');\n            this.addClass('jp-RenderedHTMLCommon');\n        }\n        /**\n         * Render a grid of package license information\n         */\n        render() {\n            var _a;\n            const { bundles, currentBundleName, trans } = this.model;\n            const filteredPackages = this.model.getFilteredPackages(bundles && currentBundleName\n                ? ((_a = bundles[currentBundleName]) === null || _a === void 0 ? void 0 : _a.packages) || []\n                : []);\n            if (!filteredPackages.length) {\n                return (React.createElement(\"blockquote\", null,\n                    React.createElement(\"em\", null, trans.__('No Packages found'))));\n            }\n            return (React.createElement(\"form\", null,\n                React.createElement(\"table\", null,\n                    React.createElement(\"thead\", null,\n                        React.createElement(\"tr\", null,\n                            React.createElement(\"td\", null),\n                            React.createElement(\"th\", null, trans.__('Package')),\n                            React.createElement(\"th\", null, trans.__('Version')),\n                            React.createElement(\"th\", null, trans.__('License')))),\n                    React.createElement(\"tbody\", null, filteredPackages.map(this.renderRow)))));\n        }\n    }\n    Licenses.Grid = Grid;\n    /**\n     * A package's full license text\n     */\n    class FullText extends VDomRenderer {\n        constructor(model) {\n            super(model);\n            this.addClass('jp-Licenses-Text');\n            this.addClass('jp-RenderedHTMLCommon');\n            this.addClass('jp-RenderedMarkdown');\n        }\n        /**\n         * Render the license text, or a null state if no package is selected\n         */\n        render() {\n            const { currentPackage, trans } = this.model;\n            let head = '';\n            let quote = trans.__('No Package selected');\n            let code = '';\n            if (currentPackage) {\n                const { name, versionInfo, licenseId, extractedText } = currentPackage;\n                head = `${name} v${versionInfo}`;\n                quote = `${trans.__('License')}: ${licenseId || trans.__('No License ID found')}`;\n                code = extractedText || trans.__('No License Text found');\n            }\n            return [\n                React.createElement(\"h1\", { key: \"h1\" }, head),\n                React.createElement(\"blockquote\", { key: \"quote\" },\n                    React.createElement(\"em\", null, quote)),\n                React.createElement(\"code\", { key: \"code\" }, code)\n            ];\n        }\n    }\n    Licenses.FullText = FullText;\n})(Licenses || (Licenses = {}));\n//# sourceMappingURL=licenses.js.map"],"names":["CommandIDs","Licenses","SplitPanel","constructor","options","super","this","addClass","model","initLeftPanel","initFilters","initBundles","initGrid","initLicenseText","setRelativeSizes","initLicenses","then","_updateBundles","trackerDataChanged","connect","title","label","dispose","isDisposed","_bundles","currentChanged","disconnect","onBundleSelected","_leftPanel","Panel","addWidget","_filters","Filters","TabBar","orientation","renderer","BundleTabRenderer","stateChanged","update","_grid","Grid","_licenseText","FullText","_a","currentTitle","currentBundleName","clearTabs","i","currentIndex","bundle","bundleNames","tab","Widget","insertTab","REPORT_FORMATS","markdown","id","icon","markdownIcon","csv","spreadsheetIcon","json","jsonIcon","DEFAULT_FORMAT","Model","VDomModel","_selectedPackageChanged","Signal","_trackerDataChanged","_currentPackageIndex","_licensesReady","PromiseDelegate","_packageFilter","_trans","trans","_licensesUrl","licensesUrl","_serverSettings","serverSettings","ServerConnection","_currentBundleName","packageFilter","currentPackageIndex","async","response","_serverResponse","resolve","emit","err","reject","url","format","element","document","createElement","href","download","body","appendChild","click","removeChild","selectedPackageChanged","Object","keys","bundles","length","licensesReady","promise","currentPackage","getFilteredPackages","packages","__","trim","allRows","rows","filters","entries","filter","k","v","map","toLowerCase","split","row","keyHits","key","bits","bitHits","rowKeyValue","bit","includes","push","values","VDomRenderer","renderFilter","value","type","name","defaultValue","className","onInput","onFilterInput","evt","input","currentTarget","assign","render","closeIconSelector","renderTab","data","caption","createTabKey","style","createTabStyle","createTabClass","dataset","createTabDataset","h","renderIcon","renderLabel","renderCountBadge","renderRow","index","selected","onCheck","onClick","onChange","checked","versionInfo","licenseId","filteredPackages","head","quote","code","extractedText","open","about","activate","close","show","hide","launchClassic","jupyterForum","licenses","licenseReport","refreshLicenses","LAB_IS_SECURE","window","location","protocol","autoStart","requires","ITranslator","optional","ICommandPalette","app","translator","palette","commands","load","category","addCommand","execute","versionNumber","version","jupyterIcon","margin","height","width","jupyterlabWordmarkIcon","externalLinks","target","rel","copyright","showDialog","buttons","Dialog","addItem","command","PageConfig","IMainMenu","ILayoutRestorer","mainMenu","restorer","counter","shell","serviceManager","tracker","WidgetTracker","namespace","resources","text","sort","a","b","localeCompare","restore","args","widget","content","helpMenu","resourcesGroup","addGroup","kernelInfoCache","Map","sessions","runningChanged","m","sessionModel","kernel","has","session","connectTo","kernelConnectionOptions","handleComms","info","kernelInfo","_b","set","usesKernel","result","currentWidget","kernelUsers","forEach","u","getKernel","bannerCommand","spec","kernelspecs","specs","kernelName","display_name","kernelIconUrl","isVisible","isEnabled","headerLogo","src","banner","kernelGroup","help_links","link","commandId","URLExt","IFrame","sandbox","MainAreaWidget","newHelpWidget","add","reload","menu","downloadAsText","licensesText","licensesTracker","formatOrDefault","licenseMain","licensesModel","copyrightIcon","main","reveal","toolbar","CommandToolbarButton","noLabel","Toolbar","button","createLicenseWidget","save","refreshIcon"],"sourceRoot":""}