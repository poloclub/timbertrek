{"version":3,"file":"6815.fa2d0ca.js","mappings":"sLAgBWA,E,wDACX,SAAWA,GACPA,EAAWC,2BAA6B,sDAD5C,CAEGD,IAAeA,EAAa,KAI/B,MAAME,EAAY,2CACZC,EAAa,CACfC,GAAI,qCACJC,WAAW,EACXC,SAAU,CAAC,EAAAC,gBAAA,OAAwB,EAAAC,kBACnCC,SAAU,EAAAC,YACVC,SAAUC,MAAOC,EAAKC,EAAOC,KACzB,MAAMC,QAAgBD,EAASE,KAAKf,GAC9BgB,EAAgBF,EAAQG,IAAI,UAAUC,UAC5C,IAAIC,EAAgBL,EAAQG,IAAI,iBAC3BC,UAGLC,EAF6BL,EAAQG,IAAI,wBACpCC,UACkCC,EAAgB,GACvD,MAAMC,EAAiBT,EAAIU,eAAeD,eACpCE,EAAqB,IAAI,EAAAC,mBAAmBX,EAAMY,KAAKC,aAAcN,EAAeC,GAE1F,aADME,EAAmBI,MAAMV,GACxBM,IAMTK,EAAW,CACbzB,GAAIF,EACJI,SAAU,CAAC,EAAAwB,UAAW,EAAAtB,iBAAkB,EAAAE,aACxCL,WAAW,EACXM,SAAU,CAACE,EAAKkB,EAAUhB,EAAUZ,KAChC,MAAM6B,EAAQ7B,EAAWc,KAAK,eACxB,SAAEgB,GAAapB,EACrB,IAAIK,EAMJ,SAASgB,EAAYlB,GAEjBE,EAAgBF,EAAQG,IAAI,UAAUC,UAE1CL,EACKE,KAAKf,GACLiC,MAAKnB,IACN,IAAIoB,EAEJF,EAAYlB,GACZqB,SAASC,gBAAgBC,KAAOrB,EAEhCF,EAAQwB,QAAQC,QAAQP,GAExB,MAAMQ,EAIE,QAJeN,EAAKL,EAASY,aAAaC,MAAMC,MAAKC,IACzD,IAAIV,EACJ,MAAqB,YAAdU,EAAKC,MAC6D,mCAA5C,QAAvBX,EAAKU,EAAKE,eAA4B,IAAPZ,OAAgB,EAASA,EAAGhC,cAC9C,IAAPgC,OAAgB,EAASA,EAAGY,QAC5C,IAAIC,EACJ,MAAM3B,EAAiBT,EAAIU,eAAeD,gBAE1C,IAAA4B,wBAAuB,GAAI,GAAI,GAAI5B,GAC9Ba,MAAKgB,IACN,IAAK,MAAMC,KAAUD,EAAW,KAAG,CAC/B,MAAME,EAAQF,EAAW,KAAEC,GACrBE,EAAcD,EAAMC,YACpBC,EAAaF,EAAME,WACnBC,EAAUF,IAAgBC,EAC1BE,EAAQD,EACR,GAAGF,IACH,GAAGA,OAAiBC,IAE1BN,EAAU,0BAA0BG,IACpCnB,EAASyB,WAAWT,EAAS,CACzBQ,MAAOA,EACPE,QAASF,EACTG,UAAW,KAAOJ,EAClBK,UAAW,KAAM,EACjBC,UAAW,IAAMN,EACjBO,QAAS,KACE,IAAAC,YAAW,CACdC,MAAOjC,EAAMkC,GAAG,8BAChBC,KAAMnC,EAAMkC,GAAG,sGAAuGT,GACtHW,QAAS,CACL,EAAAC,OAAA,aAAoB,CAAEZ,MAAOzB,EAAMkC,GAAG,YACtC,EAAAG,OAAA,SAAgB,CAAEZ,MAAOzB,EAAMkC,GAAG,0BAEvC/B,MAAKmC,IACAA,EAAOC,OAAOC,QACdxD,EACKyD,IAAI,SAAUrB,GACdjB,MAAK,KACNuC,OAAOC,SAASC,YAEfC,OAAMC,IACPC,QAAQC,MAAMF,WAO9BpC,GACAA,EAAcuC,QAAQ,CAClBhC,QAAAA,EACAiC,KAAM,SAKjBL,OAAMC,IACPC,QAAQC,MAAM,+BAA+BF,WAGhDD,OAAMC,IACPC,QAAQC,MAAM,gEAAgEF,UAQ1F,EADgB,CAAC3E,EAAY0B","sources":["webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/translation-extension/lib/index.js"],"sourcesContent":["/* ----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\n/**\n * @packageDocumentation\n * @module translation-extension\n */\nimport { JupyterFrontEnd } from '@jupyterlab/application';\nimport { Dialog, showDialog } from '@jupyterlab/apputils';\nimport { IMainMenu } from '@jupyterlab/mainmenu';\nimport { ISettingRegistry } from '@jupyterlab/settingregistry';\nimport { ITranslator, requestTranslationsAPI, TranslationManager } from '@jupyterlab/translation';\n/**\n * A namespace for command IDs.\n */\nexport var CommandIDs;\n(function (CommandIDs) {\n    CommandIDs.installAdditionalLanguages = 'jupyterlab-translation:install-additional-languages';\n})(CommandIDs || (CommandIDs = {}));\n/**\n * Translation plugins\n */\nconst PLUGIN_ID = '@jupyterlab/translation-extension:plugin';\nconst translator = {\n    id: '@jupyterlab/translation:translator',\n    autoStart: true,\n    requires: [JupyterFrontEnd.IPaths, ISettingRegistry],\n    provides: ITranslator,\n    activate: async (app, paths, settings) => {\n        const setting = await settings.load(PLUGIN_ID);\n        const currentLocale = setting.get('locale').composite;\n        let stringsPrefix = setting.get('stringsPrefix')\n            .composite;\n        const displayStringsPrefix = setting.get('displayStringsPrefix')\n            .composite;\n        stringsPrefix = displayStringsPrefix ? stringsPrefix : '';\n        const serverSettings = app.serviceManager.serverSettings;\n        const translationManager = new TranslationManager(paths.urls.translations, stringsPrefix, serverSettings);\n        await translationManager.fetch(currentLocale);\n        return translationManager;\n    }\n};\n/**\n * Initialization data for the extension.\n */\nconst langMenu = {\n    id: PLUGIN_ID,\n    requires: [IMainMenu, ISettingRegistry, ITranslator],\n    autoStart: true,\n    activate: (app, mainMenu, settings, translator) => {\n        const trans = translator.load('jupyterlab');\n        const { commands } = app;\n        let currentLocale;\n        /**\n         * Load the settings for this extension\n         *\n         * @param setting Extension settings\n         */\n        function loadSetting(setting) {\n            // Read the settings and convert to the correct type\n            currentLocale = setting.get('locale').composite;\n        }\n        settings\n            .load(PLUGIN_ID)\n            .then(setting => {\n            var _a;\n            // Read the settings\n            loadSetting(setting);\n            document.documentElement.lang = currentLocale;\n            // Listen for your plugin setting changes using Signal\n            setting.changed.connect(loadSetting);\n            // Create a languages menu\n            const languagesMenu = (_a = mainMenu.settingsMenu.items.find(item => {\n                var _a;\n                return item.type === 'submenu' &&\n                    ((_a = item.submenu) === null || _a === void 0 ? void 0 : _a.id) === 'jp-mainmenu-settings-language';\n            })) === null || _a === void 0 ? void 0 : _a.submenu;\n            let command;\n            const serverSettings = app.serviceManager.serverSettings;\n            // Get list of available locales\n            requestTranslationsAPI('', '', {}, serverSettings)\n                .then(data => {\n                for (const locale in data['data']) {\n                    const value = data['data'][locale];\n                    const displayName = value.displayName;\n                    const nativeName = value.nativeName;\n                    const toggled = displayName === nativeName;\n                    const label = toggled\n                        ? `${displayName}`\n                        : `${displayName} - ${nativeName}`;\n                    // Add a command per language\n                    command = `jupyterlab-translation:${locale}`;\n                    commands.addCommand(command, {\n                        label: label,\n                        caption: label,\n                        isEnabled: () => !toggled,\n                        isVisible: () => true,\n                        isToggled: () => toggled,\n                        execute: () => {\n                            return showDialog({\n                                title: trans.__('Change interface language?'),\n                                body: trans.__('After changing the interface language to %1, you will need to reload JupyterLab to see the changes.', label),\n                                buttons: [\n                                    Dialog.cancelButton({ label: trans.__('Cancel') }),\n                                    Dialog.okButton({ label: trans.__('Change and reload') })\n                                ]\n                            }).then(result => {\n                                if (result.button.accept) {\n                                    setting\n                                        .set('locale', locale)\n                                        .then(() => {\n                                        window.location.reload();\n                                    })\n                                        .catch(reason => {\n                                        console.error(reason);\n                                    });\n                                }\n                            });\n                        }\n                    });\n                    // Add the language command to the menu\n                    if (languagesMenu) {\n                        languagesMenu.addItem({\n                            command,\n                            args: {}\n                        });\n                    }\n                }\n            })\n                .catch(reason => {\n                console.error(`Available locales errored!\\n${reason}`);\n            });\n        })\n            .catch(reason => {\n            console.error(`The jupyterlab translation extension appears to be missing.\\n${reason}`);\n        });\n    }\n};\n/**\n * Export the plugins as default.\n */\nconst plugins = [translator, langMenu];\nexport default plugins;\n//# sourceMappingURL=index.js.map"],"names":["CommandIDs","installAdditionalLanguages","PLUGIN_ID","translator","id","autoStart","requires","JupyterFrontEnd","ISettingRegistry","provides","ITranslator","activate","async","app","paths","settings","setting","load","currentLocale","get","composite","stringsPrefix","serverSettings","serviceManager","translationManager","TranslationManager","urls","translations","fetch","langMenu","IMainMenu","mainMenu","trans","commands","loadSetting","then","_a","document","documentElement","lang","changed","connect","languagesMenu","settingsMenu","items","find","item","type","submenu","command","requestTranslationsAPI","data","locale","value","displayName","nativeName","toggled","label","addCommand","caption","isEnabled","isVisible","isToggled","execute","showDialog","title","__","body","buttons","Dialog","result","button","accept","set","window","location","reload","catch","reason","console","error","addItem","args"],"sourceRoot":""}