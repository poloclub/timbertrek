{"version":3,"file":"9208.63ed736.js","mappings":"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","sources":["webpack://_JUPYTERLAB.CORE_OUTPUT/../packages/repl-extension/lib/index.js"],"sourcesContent":["// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\nimport { ILabStatus, IRouter, JupyterFrontEnd, Router, } from '@jupyterlab/application';\nimport { CommandToolbarButton, IThemeManager, Toolbar } from '@jupyterlab/apputils';\nimport { IConsoleTracker } from '@jupyterlab/console';\nimport { ITranslator } from '@jupyterlab/translation';\nimport { clearIcon, refreshIcon, runIcon } from '@jupyterlab/ui-components';\nimport { SingleWidgetApp } from '@jupyterlite/application';\nimport { liteIcon } from '@jupyterlite/ui-components';\nimport { Widget } from '@lumino/widgets';\n/**\n * A plugin to add buttons to the console toolbar.\n */\nconst buttons = {\n    id: '@jupyterlite/console-application:buttons',\n    autoStart: true,\n    requires: [ITranslator],\n    optional: [IConsoleTracker],\n    activate: (app, translator, tracker) => {\n        if (!tracker) {\n            return;\n        }\n        const { commands } = app;\n        const trans = translator.load('jupyterlab');\n        // wrapper commands to be able to override the icon\n        const runCommand = 'repl:run';\n        commands.addCommand(runCommand, {\n            caption: trans.__('Run'),\n            icon: runIcon,\n            execute: () => {\n                return commands.execute('console:run-forced');\n            },\n        });\n        const runButton = new CommandToolbarButton({\n            commands,\n            id: runCommand,\n        });\n        const restartCommand = 'repl:restart';\n        commands.addCommand(restartCommand, {\n            caption: trans.__('Restart'),\n            icon: refreshIcon,\n            execute: () => {\n                return commands.execute('console:restart-kernel');\n            },\n        });\n        const restartButton = new CommandToolbarButton({\n            commands,\n            id: restartCommand,\n        });\n        const clearCommand = 'repl:clear';\n        commands.addCommand(clearCommand, {\n            caption: trans.__('Clear'),\n            icon: clearIcon,\n            execute: () => {\n                return commands.execute('console:clear');\n            },\n        });\n        const clearButton = new CommandToolbarButton({\n            commands,\n            id: clearCommand,\n        });\n        tracker.widgetAdded.connect((_, console) => {\n            const { toolbar } = console;\n            console.toolbar.addItem('run', runButton);\n            console.toolbar.addItem('restart', restartButton);\n            console.toolbar.addItem('clear', clearButton);\n            toolbar.addItem('spacer', Toolbar.createSpacerItem());\n            const node = document.createElement('a');\n            node.title = trans.__('Powered by JupyterLite');\n            node.href = 'https://github.com/jupyterlite/jupyterlite';\n            node.target = '_blank';\n            node.rel = 'noopener noreferrer';\n            const poweredBy = new Widget({ node });\n            liteIcon.element({\n                container: node,\n                elementPosition: 'center',\n                margin: '2px 2px 2px 8px',\n                height: 'auto',\n                width: '16px',\n            });\n            poweredBy.addClass('jp-PoweredBy');\n            toolbar.insertAfter('spacer', 'powered-by', poweredBy);\n        });\n    },\n};\n/**\n * A plugin to open a code console and\n * parse custom parameters from the query string arguments.\n */\nconst consolePlugin = {\n    id: '@jupyterlite/repl-extension:console',\n    autoStart: true,\n    optional: [IConsoleTracker, IThemeManager],\n    activate: (app, tracker, themeManager) => {\n        var _a;\n        if (!tracker) {\n            return;\n        }\n        const { commands } = app;\n        const search = window.location.search;\n        const urlParams = new URLSearchParams(search);\n        const code = urlParams.getAll('code');\n        const kernel = urlParams.get('kernel') || undefined;\n        const theme = (_a = urlParams.get('theme')) === null || _a === void 0 ? void 0 : _a.trim();\n        const toolbar = urlParams.get('toolbar');\n        app.started.then(() => {\n            commands.execute('console:create', { kernelPreference: { name: kernel } });\n        });\n        if (theme && themeManager) {\n            const themeName = decodeURIComponent(theme);\n            themeManager.setTheme(themeName);\n        }\n        tracker.widgetAdded.connect(async (_, widget) => {\n            const { console } = widget;\n            if (!toolbar) {\n                // hide the toolbar by default if not specified\n                widget.toolbar.dispose();\n            }\n            if (code) {\n                await console.sessionContext.ready;\n                code.forEach((line) => console.inject(line));\n            }\n        });\n    },\n};\n/**\n * The default JupyterLab application status provider.\n */\nconst status = {\n    id: '@jupyterlite/repl-extension:status',\n    autoStart: true,\n    provides: ILabStatus,\n    activate: (app) => {\n        if (!(app instanceof SingleWidgetApp)) {\n            throw new Error(`${status.id} must be activated in SingleWidgetApp.`);\n        }\n        return app.status;\n    },\n};\n/**\n * The default paths for a single widget app.\n */\nconst paths = {\n    id: '@jupyterlite/repl-extension:paths',\n    autoStart: true,\n    provides: JupyterFrontEnd.IPaths,\n    activate: (app) => {\n        if (!(app instanceof SingleWidgetApp)) {\n            throw new Error(`${paths.id} must be activated in SingleWidgetApp.`);\n        }\n        return app.paths;\n    },\n};\n/**\n * The default URL router provider.\n */\nconst router = {\n    id: '@jupyterlite/repl-extension:router',\n    autoStart: true,\n    provides: IRouter,\n    requires: [JupyterFrontEnd.IPaths],\n    activate: (app, paths) => {\n        const { commands } = app;\n        const base = paths.urls.base;\n        const router = new Router({ base, commands });\n        void app.started.then(() => {\n            // Route the very first request on load.\n            void router.route();\n            // Route all pop state events.\n            window.addEventListener('popstate', () => {\n                void router.route();\n            });\n        });\n        return router;\n    },\n};\nconst plugins = [\n    buttons,\n    consolePlugin,\n    paths,\n    router,\n    status,\n];\nexport default plugins;\n"],"names":["buttons","id","autoStart","requires","ITranslator","optional","IConsoleTracker","activate","app","translator","tracker","commands","trans","load","runCommand","addCommand","caption","__","icon","runIcon","execute","runButton","CommandToolbarButton","restartCommand","refreshIcon","restartButton","clearCommand","clearIcon","clearButton","widgetAdded","connect","_","console","toolbar","addItem","Toolbar","node","document","createElement","title","href","target","rel","poweredBy","Widget","liteIcon","container","elementPosition","margin","height","width","addClass","insertAfter","consolePlugin","IThemeManager","themeManager","_a","search","window","location","urlParams","URLSearchParams","code","getAll","kernel","get","undefined","theme","trim","started","then","kernelPreference","name","themeName","decodeURIComponent","setTheme","async","widget","dispose","sessionContext","ready","forEach","line","inject","status","provides","ILabStatus","SingleWidgetApp","Error","paths","JupyterFrontEnd","router","IRouter","base","urls","Router","route","addEventListener"],"sourceRoot":""}